/*! jpvs 2023-12-06 */

var jpvs=function(){function h(e,t){var n,i=!1;for(n in e)if(e[n]==t){i=!0;break}return!i&&(e.push(t),1)}return function(e,n){var i;e&&("function"==typeof e?(n=e,$(document).ready(function(){jpvs.createAllWidgets(),n(jpvs.widgets)})):(i=function(e,t){var n=[];if(e)for(var i in e){var r=e[i];h(n,a=tree.ClassToModule[r])}if(t)for(var i in t)h(n,a=t[i]);for(var s=!0;s;)for(var i in s=!1,n){var a=n[i],o=tree.ModuleToDepends[a];for(u in o)h(n,o[u])&&(s=!0)}var l=jpvs.baseUrl||"jpvs",c=[];for(i in n){var u,a=n[i],d=tree.ModuleToFiles[a];for(u in d)h(c,l+"/"+d[u])}return c.reverse(),c}(e.classes,e.modules),$(document).ready(function e(){i.TotalCount||(i.TotalCount=i.length);var t=i.shift();t?setTimeout(function(){!function(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.src=e;var r=!1;i.onload=i.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,t())},n.insertBefore(i,n.firstChild)}(t,e)},10):(jpvs.createAllWidgets(),n&&n(jpvs.widgets))})))}}();!function(){var d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)};jpvs.requestAnimationFrame=function(){d.apply(window,arguments)};var h=[],p=!1,f=null;function m(){if(null==f){if(!(0<h.length))return void(p=!1);f=h.shift()}try{var e,t=(new Date).getTime();null==f.startTime&&(f.startTime=t,f.endTime=f.startTime+f.duration),e=f.step?(i=t,r=f.t0,s=f.t1,a=f.step,o=f.startTime,l=f.endTime,c=Math.ceil(Math.abs((s-r)/a)),u=r<s?1:-1,c=(l-o)/c,c=Math.floor((i-o)/c),i<=o?r:l<=i?s:r+u*c*a):(n=t)<=f.startTime?f.t0:n>=f.endTime?f.t1:f.easingFunc(f.startTime,f.endTime,f.t0,f.t1,n),f.animFunc(e),t>=f.endTime&&(f=null)}finally{d(m)}var n,i,r,s,a,o,l,c,u}function o(e,t,n,i,r){return n+(.5-Math.cos((r-e)/(t-e)*Math.PI)/2)*(i-n)}jpvs.animate=function(e,t){var n=e&&null!=e.t0?e.t0:0,i=e&&null!=e.t1?e.t1:1,r=Math.abs(e&&e.step||0),s=Math.abs(e&&e.duration||1e3),a=e&&e.easingFunction||o;h.push({t0:n,t1:i,step:r,duration:s,animFunc:t||e,easingFunc:a,startTime:null,endTime:null}),p||(d(m),p=!0)},jpvs.animate.harmonicEasing=o,jpvs.animate.linearEasing=function(e,t,n,i,r){return n+(r-e)/(t-e)*(i-n)},jpvs.flashClass=function(e,t,n,i,r){var s=$(e);jpvs.animate({t0:0,t1:2*(i||2),step:1,duration:n||1e3},function(e){e%2==0?s.addClass(t):s.removeClass(t)}),jpvs.animate({t0:0,t1:1,step:1,duration:r||2e3},function(e){1==e&&s.removeClass(t)})}}(),function(){var t=.5,n=50;function m(e){return null==e||!1===e?{keepRunning:!1}:!0===e?{keepRunning:!0,cpu:t,minRunTimeMs:n,progress:null}:{keepRunning:!0,cpu:e.cpu||t,minRunTimeMs:e.minRunTimeMs||n,progress:e.progress}}jpvs.runTask=function(e,t,n,i,r){return e?jpvs.runBackgroundTask(t,n,i,r):jpvs.runForegroundTask(t,n,i,r)},jpvs.runBackgroundTask=function(e,t,n,i){var l,c,u,d,h,p,f,i=(l=e,c=t,u=n,d=i,p=0,f=!(h={}),{run:function e(){if(f)return;try{for(var t=(new Date).getTime(),n=t+p;!f;){var i=l(h),r=m(i);if(!r.keepRunning)return void(c&&c(h.returnValue));var s=(new Date).getTime();if(!(s<n)){p=r.minRunTimeMs;var a=s-t,o=a*(1-r.cpu)/r.cpu;return setTimeout(e,o),void(u&&r.progress&&u(r.progress))}}}catch(e){d&&d(e)}},cancel:function(){f=!0}});return setTimeout(i.run,0),{cancel:i.cancel}},jpvs.runForegroundTask=function(e,t,n,i){var r={};try{for(;;){var s=m(e(r));if(!s.keepRunning)return t&&t(r.returnValue),r.returnValue;n&&s.progress&&n(s.progress)}}catch(e){i&&i(e)}}}(),function(){function c(){this.buffer=[]}c.prototype.append=function(e){return this.buffer.push(e),this},c.prototype.toString=function(){return this.buffer.join("")};var a={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t=new c,n=new u(e);n.moveNext();){var i=n.current;n.moveNext();var r=n.current;n.moveNext();var s=n.current,a=i>>2,o=(3&i)<<4|r>>4,l=(15&r)<<2|s>>6,i=63&s;isNaN(r)?l=i=64:isNaN(s)&&(i=64),t.append(this.codex.charAt(a)+this.codex.charAt(o)+this.codex.charAt(l)+this.codex.charAt(i))}return t.toString()},decode:function(e){for(var t=new c,n=new o(e);n.moveNext();){var i,r,s=n.current;s<128?t.append(String.fromCharCode(s)):191<s&&s<224?(n.moveNext(),i=n.current,t.append(String.fromCharCode((31&s)<<6|63&i))):(n.moveNext(),i=n.current,n.moveNext(),r=n.current,t.append(String.fromCharCode((15&s)<<12|(63&i)<<6|63&r)))}return t.toString()}};function u(e){this._input=e,this._index=-1,this._buffer=[]}function o(e){this._input=e,this._index=-1,this._buffer=[]}u.prototype={current:Number.NaN,moveNext:function(){if(0<this._buffer.length)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var e=this._input.charCodeAt(++this._index);return 13==e&&10==this._input.charCodeAt(this._index+1)&&(e=10,this._index+=2),e<128?this.current=e:(127<e&&e<2048?this.current=e>>6|192:(this.current=e>>12|224,this._buffer.push(e>>6&63|128)),this._buffer.push(63&e|128)),!0}},o.prototype={current:64,moveNext:function(){if(0<this._buffer.length)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return!(this.current=64);var e=a.codex.indexOf(this._input.charAt(++this._index)),t=a.codex.indexOf(this._input.charAt(++this._index)),n=a.codex.indexOf(this._input.charAt(++this._index)),i=a.codex.indexOf(this._input.charAt(++this._index)),r=(15&t)<<4|n>>2,s=(3&n)<<6|i;return this.current=e<<2|t>>4,64!=n&&this._buffer.push(r),64!=i&&this._buffer.push(s),!0}},jpvs.encodeUtf8Base64=function(e){return a.encode(e)},jpvs.decodeBase64Utf8=function(e){return a.decode(e)}}(),function(){function u(e){var t=e.data("jpvs.binding.id");return t||(t=jpvs.randomString(20),e.data("jpvs.binding.id",t)),t}function d(e){var t=e["jpvs.binding.id"];return t||(t=jpvs.randomString(20),e["jpvs.binding.id"]=t),t}function h(e){var t=e,n=!1;return 0==e.indexOf("!")&&(n=!0,t=e.substring(1)),{name:t,mustInvert:n,translate:function(e){return this.mustInvert?!e:e}}}function p(t,e){var n=h(e),i=t[n.name];return"function"==typeof i?function(){var e=i();return n.translate(e)}:function(){var e=t[n.name];return n.translate(e)}}function f(n,t){var i=jpvs.find(n);if(i){var r=i[t];if("function"==typeof r)return function(e){return!m(e,r.call(i))&&(r.call(i,e),!0)}}return"jquery."==t.toLowerCase().substring(0,7)?function(e){return!m(e,n[t.substring(7)]())&&(n[t.substring(7)](e),!0)}:"#visible"==t?function(e){var t="none"!=n.css("display")&&"hidden"!=n.css("visibility");return e?n.show():n.hide(),e!=t}:"#"!=t.substring(0,1)?function(e){return!m(e,n.attr(t))&&(n.attr(t,e),!0)}:void alert("Invalid jpvs data-binding directive: "+t)}function m(e,t){return jpvs.equals(e,t)}var t;function e(){this.relations={}}jpvs.resetAllBindings=function(){g.clearAll(),t&&(clearInterval(t),t=null)},jpvs.bindContainer=function(e,t,n,i){e&&(e=jpvs.getElementIfWidget(e),jpvs.bindElements(e.find("*"),t,n,i))},jpvs.bindElements=function(e,t,n,i){if(e)for(var r=0;r<e.length;r++){var s=e[r],a=$(s),s=a.data(i||"bind");s&&jpvs.bind(a,t,s,n)}},jpvs.bind=function(o,l,e,c){t=t||setInterval(n,200),l&&(e=$.trim(e).split(","),$.each(e,function(e,t){var n,i,r=t.split("="),s=$.trim(r[0]),a=$.trim(r[1]);n=o,i=s,t=c,a=p(r=l,s=a),f(n,i)(a()),function(e,t,n,i,r){n=function(e,t){var n=jpvs.find(e);if(n){var i=n[t];if("function"==typeof i)return function(){return i.call(n)}}{if("jquery."==t.toLowerCase().substring(0,7))return function(){return e[t.substring(7)]()};if("#visible"==t)return function(){return"none"!=e.css("display")&&"hidden"!=e.css("visibility")};if("#"!=t.substring(0,1))return function(){return e.attr(t)};alert("Invalid jpvs data-binding directive: "+t)}}(t,n);g.put(e.idFrom,e.idTo,t,n,function(e){i(e)&&r&&r(!1,!0)})}({idFrom:u(n)+"/"+i,idTo:d(r)+"/"+s},n,i,function(n,e){var i=h(e),r=n[i.name];return"function"==typeof r?function(e){var t=r(),e=i.translate(e);return r(e),!m(e,t)}:function(e){var t=n[i.name],e=i.translate(e);return!m(n[i.name]=e,t)}}(r,s),t),function(e,t,n,i,r,s){n=p(t,n);g.put(e.idFrom,e.idTo,i,n,function(e){r(e)&&s&&s(!0,!1)})}({idTo:u(n)+"/"+i,idFrom:d(r)+"/"+s},r,s,n,f(n,i),t)}))},jpvs.findElementsBoundTo=function(e,t){var n=[],i=d(e)+"/"+t;return $.each(g.relations,function(e,t){t.idTo==i&&n.push(t.element)}),n},e.prototype.clearAll=function(){this.relations={}},e.prototype.put=function(e,t,n,i,r){this.relations[e+"§"+t]={idFrom:e,idTo:t,element:n,getter:i,onChangeAction:r,curValue:i()}};var g=new e;function n(){for(var n,i=!0;i;)i=!(n={}),$.each(g.relations,function(e,t){m(t.getter(),t.curValue)||(n[t.idFrom]=t.getter,i=!0)}),$.each(n,function(n,e){var i=e();$.each(g.relations,function(e,t){t.idFrom==n&&(t.onChangeAction(i),t.curValue=i)})})}}(),function(){function m(e){return e&&(e.getMainContentElement?e.getMainContentElement():$(e))}var t;jpvs.getElementIfWidget=m,jpvs.widgetDefs=[],jpvs.widgets={},jpvs.find=function(e){e=$(e);if(0==e.length)return null;if(1==e.length)return e.data("jpvs-widget");var i=[];return e.each(function(){i.push($(this).data("jpvs-widget"))}),i.each=function(e){for(var t=0;t<i.length;t++){var n=i[t];e.call(n,n)}},i},jpvs.states={HOVER:"Hover",FOCUS:"Focus",ERROR:"Error",DISABLED:"Disabled"},jpvs.property=function(a){return function(e,t,n,i,r){if(void 0===e)return a.get.call(this);if(t)if(a.setTask){var s=a.setTask.call(this,e);jpvs.runBackgroundTask(s,n,i,r)}else if(a.set)try{a.set.call(this,e),n&&n()}catch(e){r&&r(e)}else n&&n();else a.set?a.set.call(this,e):a.setTask&&(s=a.setTask.call(this,e),jpvs.runForegroundTask(s));return this}},jpvs.currentLocale=(t="en",jpvs.property({get:function(){return t},set:function(e){t=e,moment.locale(t)}})),jpvs.event=function(e){return new jpvs.Event(e)},jpvs.makeWidget=function(e){jpvs.widgetDefs.push(e);var i,t,n,r,s,a,o,l,c=e.widget;if(!c)throw"Missing widget field in widget definition";if(!e.create)throw"Missing create function in widget definition";if(!e.init)throw"Missing init function in widget definition";if(c.__WIDGET__=e.type,!c.__WIDGET__)throw"Missing type field in widget definition";if(!e.cssClass)throw"Missing cssClass field in widget definition";c.create=(i=e,function(e){var n=[];return e=m(e=e||document.body),$(e).each(function(e,t){t=i.create(t);n.push(i.widget.attach(t))}),1==n.length?n[0]:0==n.length?void 0:n}),c.attach=(t=e,function(e){return new t.widget(e)}),c.prototype.toString=function(){return this.__WIDGET__},c.prototype.attach=(n=e,function(e){var t;e&&(e=m(e),this.__WIDGET__=n.type,this.element=$(e),(jpvs.widgets[this.element.attr("id")]=this).element.data("jpvs-widget",this),this.element.addClass("Widget"),this.element.addClass(n.cssClass),(t=this).element.hover(function(){t.addState(jpvs.states.HOVER)},function(){t.removeState(jpvs.states.HOVER)}),t.element.focusin(function(){t.addState(jpvs.states.FOCUS)}),t.element.focusout(function(){t.removeState(jpvs.states.FOCUS)}),n.init.call(this,this))}),c.prototype.destroy=(r=e,function(){var e=!0;(e=r.destroy?r.destroy.call(this,this):e)&&this.element.remove()}),c.prototype.focus=(s=e,function(){return s.focus?s.focus.call(this,this):this.element.focus(),this}),c.prototype.addState=(a=e,function(e){return this.element.addClass("Widget-"+e),this.element.addClass(a.cssClass+"-"+e),this}),c.prototype.removeState=(o=e,function(e){return this.element.removeClass("Widget-"+e),this.element.removeClass(o.cssClass+"-"+e),this}),c.prototype.getMainContentElement=(l=e,function(){return l.getMainContentElement?l.getMainContentElement.call(this,this):this.element}),c.prototype.id=jpvs.property({get:function(){return this.element.attr("id")},set:function(e){this.element.attr("id",e)}}),c.prototype.ensureId=function(){this.id()&&""!=this.id()||this.id(jpvs.randomString(20))},e.prototype&&$.each(e.prototype,function(e,t){c.prototype[e]=t})},jpvs.createAllWidgets=function(){$("*").each(function(){var n=this,e=$(n).data("jpvsType");if(e){e=jpvs[e];if(e)return void e.attach(this)}$.each(jpvs.widgetDefs,function(e,t){if(t.canAttachTo&&t.canAttachTo(n))return t.widget.attach(n),!1})})},jpvs.write=function(n,e,s){n&&(n=m(n),e&&(e=(e=e.replace("\r","")).split("\n"),$.each(e,function(e,t){e&&$(n).append(document.createElement("br")),function(i){if(s)for(var r=0;r<i.length;){var e=function(){var e=i.indexOf("http://",r),t=i.indexOf("https://",r);t=0<=e&&0<=t?Math.min(e,t):0<=e&&t<0?e:e<0&&0<=t?t:-1;if(t<0)return null;var n=t;for(;n<i.length&&" "!=i[n]&&"\r"!=i[n]&&"\n"!=i[n]&&"\t"!=i[n];)n++;return{start:t,end:n,text:i.substring(t,n)}}();r=e?($(n).append(document.createTextNode(i.substring(r,e.start))),jpvs.writeTag(n,"a",e.text).attr("href",e.text).attr("target",e.text),e.end):($(n).append(document.createTextNode(i.substring(r))),i.length)}else $(n).append(document.createTextNode(i))}(t)})))},jpvs.writeln=function(e,t,n){e&&(e=m(e),jpvs.write(e,t,n),$(e).append(document.createElement("br")))},jpvs.writeTag=function(e,t,n,i){if(e&&t){e=m(e);t=document.createElement(t);return $(e).append(t),jpvs.write(t,n,i),$(t)}},jpvs.applyTemplate=function(e,t,n){if(e&&t){if(e=m(e),t.template)return jpvs.applyTemplate(e,t.template,n);if("string"!=typeof t){if(t.fieldName){var i=n&&n[t.fieldName],i=t.selector?t.selector(i,n):i&&i.toString();return t.tagName?jpvs.writeTag(e,t.tagName,i):jpvs.write(e,i),void(t.css&&e.css(t.css))}if("function"==typeof t)return t.call($(e),n);jpvs.alert("JPVS Error","The specified template is not valid.")}else jpvs.write(e,t)}},jpvs.readDataSource=function(e,t,n,i,r){var s,a;function o(){r({total:0,start:0,count:0,data:[]})}function l(e){e.total&&e.data?r({total:e.total,start:e.start||0,count:e.data.length||0,data:e.data}):e.length?r({total:e.length,start:0,count:e.length,data:e}):o()}e?"function"==typeof e?void 0===(s=e(t,n,i,l))||(null===s?o():l(s)):e.length?(s=e.length,t=Math.max(0,t||0),a=null==n?e.slice(t):(a=Math.max(0,n||0),e.slice(t,t+a)),r({total:s,start:t,count:a.length,data:a})):o():o()},jpvs.showDimScreen=function(e,t,n){var i=null!=e?e:500,e=(new Date).getTime();jpvs.showDimScreen.timeForShowing=jpvs.showDimScreen.timeForShowing||e+i;e=jpvs.showDimScreen.timeForShowing-e;jpvs.runLazyTask("jpvs.DimScreenShowHide",e=e<0?0:e,function(){jpvs.showDimScreen.timeForShowing=null,jpvs.showDimScreen.element||(jpvs.showDimScreen.element=jpvs.writeTag("body","div").addClass("DimScreen").css({position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%",display:"none",zIndex:"999999999"}),jpvs.applyTemplate(jpvs.showDimScreen.element,n),jpvs.showDimScreen.element.fadeIn(null!=t?t:250))})},jpvs.hideDimScreen=function(t){jpvs.runLazyTask("jpvs.DimScreenShowHide",200,function(){var e;jpvs.showDimScreen.timeForShowing=null,jpvs.showDimScreen.element&&(e=jpvs.showDimScreen.element,jpvs.showDimScreen.element=null,e.fadeOut(null!=t?t:250,function(){e.remove()}))})},jpvs.fitInWindow=function(e){var t,n,i,r,s,a,o,l;function c(e,t,n,i){return n<e?e-n:t<i?t-i:0}e&&(t=(s=(e=m(e)).offset()).left,n=s.top,o=e.outerWidth(),l=e.outerHeight(),i=(a=$(window)).scrollLeft(),r=a.scrollTop(),s=a.width(),a=a.height(),o=c(i,i+s,t,t+o),l=c(r,r+a,n,n+l),0==o&&0==l||(o=t+o,l=n+l,e.show().css({position:"absolute",left:o+"px",top:l+"px"})))},jpvs.fixTableHeader=function(n){if(n){for(var s=n=m(n);;){(s=s.parent())[0].nodeName;if(!s||0==s.length||"body"==s[0].nodeName.toLowerCase()){s=null;break}var e=s.css("overflow");if("auto"==e||"scroll"==e||"hidden"==e)break}var i=[];n.find("tbody > tr:first").each(function(){$(this).children("td").each(function(e,t){i[e]=$(t).outerWidth()})});var r=0;$.each(i,function(e,t){r+=t}),n.css({"table-layout":"fixed",width:r+"px"}),n.children("colgroup, col").remove();var a=jpvs.writeTag(n,"colgroup");$.each(i,function(e,t){jpvs.writeTag(a,"col").css("width",t+"px")});var o=n.clone().attr("id",n.attr("id")+"_header");o.insertBefore(n),o.children("tbody, tfoot").remove(),n.children("caption, thead").remove(),o.css("margin-bottom","0px"),n.css("margin-top","0px");var l,c,u,d=jpvs.writeTag(n.parent(),"div");d.insertBefore(n),d.css({width:r+"px",height:o.outerHeight()+"px"}),t(),(s||$(window)).resize(t).scroll(p);var h=!1;return{refresh:function(){t()},deactivate:function(){h=!0,d.remove();var e=o.children("thead"),t=n.children("tbody");e.insertBefore(t),n.css("margin-top",o.css("margin-top")),o.remove()}}}function t(){var e,t,n,i,r;h||(f(),n=s&&s.css("position"),e="absolute"==n||"fixed"==n||"relative"==n,t=o.position().left,n=o.position().top,i=0,s&&(e||(i=s.position().top),t+=s.scrollLeft(),n+=s.scrollTop()),l=n-i,parseFloat(o.css("margin-left")),parseFloat(o.css("border-left-width")),r=parseFloat(o.css("margin-top"))+parseFloat(o.css("border-top-width")),u=function(){return s?e?s.scrollTop()-r:i-r:$(window).scrollTop()-r},c=function(){return t},p())}function p(){var e;h||(e={top:(e=s||$(window)).scrollTop(),left:e.scrollLeft()},l<e.top?(d.show(),o.css({position:"absolute",top:u()+"px",left:c()+"px","z-index":99999})):f())}function f(){d.hide(),o.css({position:"static"})}}}(),jpvs.Event=function(e){var n=function(e,t){return n.bind(e,t)};return n.bind=jpvs.Event.prototype.bind,n.unbind=jpvs.Event.prototype.unbind,n.fire=jpvs.Event.prototype.fire,n.widget=e,n.handlers={},n.internalCounter=0,n},jpvs.Event.prototype.bind=function(e,t){return t||(t=e,e=(this.internalCounter++).toString()),this.handlers[e]=t,this.widget},jpvs.Event.prototype.unbind=function(e){return delete this.handlers[e],this.widget},jpvs.Event.prototype.fire=function(t,e,n,i){if(e)return o(this.handlers[e]);var r,s=!0;for(r in this.handlers)var a=o(this.handlers[r]),s=s&&a;return s;function o(e){if(e){t&&(t.currentBrowserEvent=i);e=e.call(t,n);return t&&(t.currentBrowserEvent=null),e}}},jpvs.Function={serializeCall:function(e,t){var n,i,r=t.toString(),t=(i=(n=r).indexOf("{"),t=n.lastIndexOf("}"),n.substring(i+1,t)),r=function(e){for(var t=e.indexOf("("),n=e.indexOf(")"),i=e.substring(t+1,n).split(","),r=0;r<i.length;r++)i[r]=$.trim(i[r]);return 1==i.length&&""==i[0]?[]:i}(r);return jpvs.toJSON({args:e,argNames:r,body:t})},deserializeCall:function(e){var t=jpvs.parseJSON(e);return(e=t.argNames).push(t.body),Function.constructor.apply(null,e).apply(null,t.args)}},function(){var e=!1,i=window.sessionStorage||{},s=!1;function r(e){return"jpvsHist"+location.pathname+"#"+e}function n(e){e=i[r(e)];e&&jpvs.Function.deserializeCall(e)}function a(e,t,n){n=jpvs.Function.serializeCall(t,n);i[r(e)]=n}function t(){var e=window.location.toString(),t=e.indexOf("#");if(0<t){t=$.trim(e.substring(t+1));if(t)return t}return""}function o(){e||(window.onhashchange=function(){s?s=!1:l(t())},e=!0)}function l(e){n(e)}jpvs.History={setStartingHistoryPoint:function(e,t){o(),a("",e,t),n("")},addHistoryPoint:function(e,t,n){o();var i=jpvs.randomString(10),r="#"+i;a(i,e,t),n&&(s=!0),window.location=r},reloadCurrentHistoryPoint:function(){o(),l(t())}}}(),function(){jpvs.parseJSON=function(e){return $.parseJSON(e)};var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function m(e){return e.match(t)?'"'+e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}jpvs.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){if(null===e)return"null";var t=typeof e;if("undefined"!==t){if("number"===t||"boolean"===t)return""+e;if("string"===t)return m(e);if("object"===t){if("function"==typeof e.toJSON)return jpvs.toJSON(e.toJSON());if(e.constructor===Date){var n=e.getUTCMonth()+1,i=e.getUTCDate(),r=e.getUTCFullYear(),s=e.getUTCHours(),a=e.getUTCMinutes(),o=e.getUTCSeconds(),l=e.getUTCMilliseconds();return'"'+r+"-"+(n=n<10?"0"+n:n)+"-"+(i=i<10?"0"+i:i)+"T"+(s=s<10?"0"+s:s)+":"+(a=a<10?"0"+a:a)+":"+(o=o<10?"0"+o:o)+"."+(l=(l=l<100?"0"+l:l)<10?"0"+l:l)+'Z"'}if(e.constructor===Array){for(var c=[],u=0;u<e.length;u++)c.push(jpvs.toJSON(e[u])||"null");return"["+c.join(",")+"]"}var d,h,p,f=[];for(p in e){if("number"===(t=typeof p))d='"'+p+'"';else{if("string"!==t)continue;d=m(p)}"function"!==(t=typeof e[p])&&"undefined"!==t&&(h=jpvs.toJSON(e[p]),f.push(d+":"+h))}return"{"+f.join(",")+"}"}}}}(),function(){var i={};jpvs.lazily=function(e){jpvs.runLazyTask(e.toString(),500,e)},jpvs.runLazyTask=function(e,t,n){n&&(jpvs.cancelLazyTask(e),i[e]=setTimeout(function(){delete i[e],n&&n()},t))},jpvs.cancelLazyTask=function(e){var t=i[e];null!=t&&clearTimeout(t),delete i[e]}}(),function(){var r="QWERTYUIOPLKJHGFDSAZXCVBNM1234567890",s=r.length,a=10*s;jpvs.randomString=function(e){for(var t="",n=0;n<e;n++){var i=Math.floor(Math.random()*a)%s;t+=r[i]}return t}}(),jpvs.Resources={images:{empty16x16:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAA2SURBVDhPpcixEQAgAAMh9186LkDhnwUNZ9sXZsEsmAWzYBbMglkwC2bBLJgFs2AWzIL5bucCxa39H+iOy+4AAAAASUVORK5CYII=",loading:"data:image/gif;base64,R0lGODlhGAAIAPcAAAAAAP8A3ICAgP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgABACwAAAAAGAAIAAAIRAADCBxIsKBBggASKhSocGGAhgkZCpgoAADDARgHWHyYUaNEihsBdAw58uNEkhlRYgxJseLFlC9XMoQ4s2FNhwdz5gwIACH5BAkKAAEALAAAAAAYAAgAAAhDAAMIHEiwoEGCABIqFKhwYYCGCRkOmDgAAEMBGAVYfEixokSKGwFk1PhxYsiOIUeeBFnS40OVLUNCZDjzYc2DOHEGBAAh+QQJCgABACwAAAAAGAAIAAAIQwADCBxIsKBBggASKhSocGGAhgkZDpg4AIBEihYfCtgoICMAihUvTvTIsaPIkA9BkuToUeXJlRs9QmQ482HNgzhxBgQAIfkECQoAAQAsAAAAABgACAAACEMAAwgcSLCgQYIAEioUqHBhgIYJGQ6YOAAAQwEYBVh8SLGiRIobAWTU+HFiyI4hR54EWdLjQ5UtQ0JkOPNhzYM4cQYEADs=",closeButton:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADzSURBVDhPY2BmZv7EwMDwn1zMyMrK+uXnz5/7gQaQDJiYmHyYSNaFpgHDAD09PSuQyRcvXuRCVtvW1iYHEgfRKGaAvPDv37/NyBgUHjo6Om9hYufPn98LEmtpabmIrg6rF1avXn38ypUrQjDbYmNjDYAGvquqqnqE4WVsLgDZEhUVdQ9kK4wGuQKbS/HGAig8QC4BuSg4OPgtuu0EYwGkGaRp/fr1ErhiC2c0gmwH+Rtk+7JlyxTXrl0rjNUQbGEACm2Q/2H+hoUDtjBgQDcAX5QhRy3IMHDyRzYAphldIUgx0CvHYLECcwmIP/B5gYHS7AwAM9IzlWy9T8kAAAAASUVORK5CYII=",closeButtonHover:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVDhPY9TW1v6rqqrKxEAGuHHjBgOjo6Pjn717994lQz+Dk5OTGlk2I1uGYcDs2bNlm5qa1N6+fcuKrPDUqVP8IHEQjdeA1NTUxyAF69atk4ApBBm2Y8cOcQ8Pj5dmZmYf8RoAkoyMjHzy/PlzTphtIMMkJSW/o2sGqcUaBsBY+WZkZPQBZOuWLVvEQIYFBQW9wBbQOAPRx8fnFcjWc+fOCYBcJCws/JskA0CKQTaD6Js3b/LgimacLgDFBsgFINtBrrh9+zYX0S4ABR7M37DwWL58uQxRBiBHGczfoPAAaQa5Ct0QFC+ANE+dOlURW5TBohYUK8iGDHxeYFRRUfkrIyNDVqZ68OABAwDuhIRQ92DTiAAAAABJRU5ErkJggg==",subMenuMarker:"data:image/gif;base64,R0lGODlhBAAHAPAAAAAAAP///yH5BAEAAAEALAAAAAAEAAcAAAIIRA4WaeyrVCgAOw==",dataGridColumnButton:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAICAYAAAArzdW1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAP0lEQVQoU2NsaGjYwkAIgBT9//8/ChcGGwI1CWQaVgxXBDIFmyKQOIoidIUw6zEUwRQiuw+rInQPwBWBGPgwACtpkpAwaQ17AAAAAElFTkSuQmCC",dataGridColumnButtonHover:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAICAYAAAArzdW1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAPklEQVQoU2NsaGj4z0AIgBQBAYjAisGGQE0CmYYVwxWBTMGmCCSOoghdIcx6DEUwhcjuw6oI3QNwRSAGPgwAytOhjjbmr7UAAAAASUVORK5CYII=",moveButton:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAADlSURBVHjapFLRDsIgDLxuU598WvgAfdXo/3+Xr7BaGDDoGDGxySUb9NrrFQLu2IIFSwEnB44EqGHDPbPFAMh9QCJzJp/My39zUTCT129gWjtXXSPJSfVMkH9Lmoy19a1VIMkV4kdyzmqEODCzV6CJSyN5T04xKdkNw6DJHE0LMcSuvCUdKaiCiwLe7Tcu2XGXcQ1nITljNk/M5pGLiBST9o3GCHI+klKQupM3MY7giVr6oXwoD9JuLfXcbpHjFlzzhf0aw0berSoYVhjYK5AeUC2TNh51RIw9hdy9lC2EVfwTXwEGAJ3OoklJmLc2AAAAAElFTkSuQmCC",nodeClosed:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAABl0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuNtCDrVoAAABrSURBVDhP7ZI9CsAgDEY9fM7g6iReJYcIuAXUwSN8kkLHgj+FLs0cHo+XOPfPYwFmRu8d24lijEgpIee8BzFArRUhBIjIOsQApl9KgfcerbU1yA0wiKqCiC6j6SavGBw3OLrC8R9Mx/p8cQCaS2KwCQA20AAAAABJRU5ErkJggg==",nodeOpen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAABl0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuNtCDrVoAAABCSURBVDhPY2AYBfQJgV27dv3v6Oj4T5ZtIM1qampgTLIBMM2RkZGkG4CsmWQD0DWTbAAowGD+htFkByLJATcCNQAAuT01LwirJNQAAAAASUVORK5CYII=",nodeNoChildren:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAABl0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuNtCDrVoAAABlSURBVDhP7ZAxCoAhCIW7/zl0ChcHIQiiwQt0IX9sCNoy+LcEF/F9Pl9Kr/5JgIgMAAwRV4uIHV9zYSllCcYYExQC+HKt1VR1Cq8ALmbmO0BrbVnuvcdeyDlvAbp9nx1n8BZjCXzXd1UGM4buRAAAAABJRU5ErkJggg==",down:"data:image/png;base64,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",minus:"data:image/png;base64,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",plus:"data:image/png;base64,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",up:"data:image/png;base64,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"}},function(){var e,t="jpvs.SessionID";jpvs.getSessionID=function(){if(!e)try{e=sessionStorage[t]}catch(e){}if(!e){e=jpvs.randomString(50);try{sessionStorage[t]=e}catch(e){}}return e}}(),jpvs.addGestureListener=function(e,p,t){(p=p||{}).tapMaxDistance=p.tapMaxDistance||15,p.longTapThreshold=p.longTapThreshold||500,p.doubleTapThreshold=p.doubleTapThreshold||250,p.rotationThreshold=p.rotationThreshold||10*Math.PI/180,p.allowedEventTargets=p.allowedEventTargets||function(e){return!$(e).is("a, a *, select, select *, input, input *, button, button *, .jpvs-Ignore-Touch, .jpvs-Ignore-Touch *")},(e=jpvs.getElementIfWidget(e)).on("touchstart",n),e.on("touchmove",n),e.on("touchend",n),e.on("touchcancel",n);var f={},d=null;function n(e){var c=e.originalEvent;if(p.allowedEventTargets(c.target)){var u=(new Date).getTime();return function(){for(var e,t={},n=0;n<c.touches.length;n++){var i=c.touches[n],r=f[i.identifier];t[i.identifier]=!0,r||(r={start:{target:i.target,time:u,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY},current:{target:i.target,time:u,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY}},f[i.identifier]=r),r.previous=r.current,r.current={target:i.target,time:u,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY}}for(e in f){var s,a,o,l;t[e]||(r=f[e],delete f[e],r.rotating&&h(l={target1:r.rotateTracker.target1,target2:r.rotateTracker.target2,isRotate:!1,isEndRotate:!0,totalAngle:r.rotateTracker.totalAngle,start1:r.rotateTracker.start1,start2:r.rotateTracker.start2,current1:r.rotateTracker.current1,current2:r.rotateTracker.current2,toString:function(){return"End of rotation: total angle "+this.totalAngle}}),r.zooming&&h(l={target1:r.zoomTracker.target1,target2:r.zoomTracker.target2,isZoom:!1,isEndZoom:!0,totalZoomFactor:r.zoomTracker.totalZoomFactor,start1:r.zoomTracker.start1,start2:r.zoomTracker.start2,current1:r.zoomTracker.current1,current2:r.zoomTracker.current2,toString:function(){return"End of zoom: total factor "+this.totalZoomFactor}}),r.dragging&&h(l={target:r.start.target,isDrag:!1,isEndDrag:!0,totalDragX:r.current.clientX-r.start.clientX,totalDragY:r.current.clientY-r.start.clientY,current:{clientX:r.current.clientX,clientY:r.current.clientY,pageX:r.current.pageX,pageY:r.current.pageY},start:{clientX:r.start.clientX,clientY:r.start.clientY,pageX:r.start.pageX,pageY:r.start.pageY},toString:function(){return"End of drag"}}),r.rotating||r.zooming||r.dragging||0==c.touches.length&&(s=r.current.clientX-r.start.clientX,a=r.current.clientY-r.start.clientY,Math.sqrt(s*s+a*a)<p.tapMaxDistance&&(o=u-r.start.time,(l={target:r.start.target,isTap:!0,isLongTap:o>=p.longTapThreshold,clientX:r.start.clientX,clientY:r.start.clientY,pageX:r.start.pageX,pageY:r.start.pageY}).isLongTap?d=null:(d&&(o=r.start.time-d.time)<p.doubleTapThreshold&&(s=r.start.clientX-d.clientX,a=r.start.clientY-d.clientY,Math.sqrt(s*s+a*a)<p.tapMaxDistance&&(l.isDoubleTap=!0,d=null)),l.isDoubleTap||(d={time:u,clientX:r.start.clientX,clientY:r.start.clientY})),l.toString=function(){return"Tap: "+(this.isLongTap?"long":"short")+" - "+(this.isDoubleTap?"double":"simple")},h(l))))}}(),function(){var e,t=[];for(e in f){var n=f[e];t.push(n)}{var i,r,s,a,o,l,c,u,d;1==t.length?(s=t[0].current.clientX-t[0].start.clientX,a=t[0].current.clientY-t[0].start.clientY,Math.sqrt(s*s+a*a)>p.tapMaxDistance&&(t[0].dragging=!0),t[0].dragging&&h(d={target:t[0].start.target,isDrag:!0,dragX:t[0].current.clientX-t[0].previous.clientX,dragY:t[0].current.clientY-t[0].previous.clientY,totalDragX:t[0].current.clientX-t[0].start.clientX,totalDragY:t[0].current.clientY-t[0].start.clientY,current:{clientX:t[0].current.clientX,clientY:t[0].current.clientY,pageX:t[0].current.pageX,pageY:t[0].current.pageY},start:{clientX:t[0].start.clientX,clientY:t[0].start.clientY,pageX:t[0].start.pageX,pageY:t[0].start.pageY},toString:function(){return"Drag: "+this.dragX+"; "+this.dragY+" - Total drag: "+this.totalDragX+"; "+this.totalDragY}})):2==t.length&&(u=t[0].start.clientX-t[1].start.clientX,c=t[0].start.clientY-t[1].start.clientY,i=Math.sqrt(u*u+c*c),r=Math.atan2(c,u),l=t[0].current.clientX-t[1].current.clientX,o=t[0].current.clientY-t[1].current.clientY,s=Math.sqrt(l*l+o*o),a=Math.atan2(o,l),c=t[0].previous.clientX-t[1].previous.clientX,u=t[0].previous.clientY-t[1].previous.clientY,o=Math.sqrt(c*c+u*u),l=Math.atan2(u,c),u=s-i,c=a-r,Math.abs(c)>p.rotationThreshold&&(t[0].rotating=!0,t[1].rotating=!0,c=t[0].rotateTracker||t[1].rotateTracker||{},t[0].rotateTracker=c,t[1].rotateTracker=c),Math.abs(u)>p.tapMaxDistance&&(t[0].zooming=!0,t[1].zooming=!0,u=t[0].zoomTracker||t[1].zoomTracker||{},t[0].zoomTracker=u,t[1].zoomTracker=u),t[0].rotating&&t[1].rotating&&(d={target1:t[0].start.target,target2:t[1].start.target,isRotate:!0,angle:a-l,totalAngle:a-r,current1:{clientX:t[0].current.clientX,clientY:t[0].current.clientY,pageX:t[0].current.pageX,pageY:t[0].current.pageY},start1:{clientX:t[0].start.clientX,clientY:t[0].start.clientY,pageX:t[0].start.pageX,pageY:t[0].start.pageY},current2:{clientX:t[1].current.clientX,clientY:t[1].current.clientY,pageX:t[1].current.pageX,pageY:t[1].current.pageY},start2:{clientX:t[1].start.clientX,clientY:t[1].start.clientY,pageX:t[1].start.pageX,pageY:t[1].start.pageY},toString:function(){return"Rotate: "+this.angle+" - Total angle: "+this.totalAngle}},t[0].rotateTracker.totalAngle=d.totalAngle,t[0].rotateTracker.target1=d.target1,t[0].rotateTracker.target2=d.target2,t[0].rotateTracker.start1=d.start1,t[0].rotateTracker.start2=d.start2,t[0].rotateTracker.current1=d.current1,t[0].rotateTracker.current2=d.current2,h(d)),t[0].zooming&&t[1].zooming&&(d={target1:t[0].start.target,target2:t[1].start.target,isZoom:!0,zoomFactor:s/o,totalZoomFactor:s/i,current1:{clientX:t[0].current.clientX,clientY:t[0].current.clientY,pageX:t[0].current.pageX,pageY:t[0].current.pageY},start1:{clientX:t[0].start.clientX,clientY:t[0].start.clientY,pageX:t[0].start.pageX,pageY:t[0].start.pageY},current2:{clientX:t[1].current.clientX,clientY:t[1].current.clientY,pageX:t[1].current.pageX,pageY:t[1].current.pageY},start2:{clientX:t[1].start.clientX,clientY:t[1].start.clientY,pageX:t[1].start.pageX,pageY:t[1].start.pageY},toString:function(){return"Zoom: "+this.zoomFactor+" - Total zoom: "+this.totalZoomFactor}},t[0].zoomTracker.totalZoomFactor=d.totalZoomFactor,t[0].zoomTracker.target1=d.target1,t[0].zoomTracker.target2=d.target2,t[0].zoomTracker.start1=d.start1,t[0].zoomTracker.start2=d.start2,t[0].zoomTracker.current1=d.current1,t[0].zoomTracker.current2=d.current2,h(d)))}}(),e.stopPropagation(),e.preventDefault(),!1}function h(e){t&&t(e)}}},function(){var e={};function n(){var r={};return location.href.replace(/([^?=&]+)(=([^&]*))?/g,function(e,t,n,i){r[t]=decodeURIComponent(i)}),r}function r(e,t){return e.indexOf("?")<0?e+"?jpvs="+t:e+"&jpvs="+t}(jpvs.Window=e).parseQueryString=n,e.open=function(e,t,n){var i=e;return setTimeout(function(){var e=n?window.open(i,t,n):t?window.open(i,t):window.open(i);e&&e.focus()},10),{withData:function(e){var t=jpvs.randomString(10);localStorage[t]=jpvs.toJSON(e),i=r(i,t)}}},e.navigateTo=function(e){var n=e;return setTimeout(function(){location=n},10),{withData:function(e){var t=jpvs.randomString(10);localStorage[t]=jpvs.toJSON(e),n=r(n,t)}}},e.getData=function(){var e=n().jpvs;if(!e)return null;var t=localStorage[e]||sessionStorage[e]||null;return localStorage.removeItem(e),t?(sessionStorage[e]=t,jpvs.parseJSON(t)):null}}(),function(){var e=["p","th","td"];!function(w){function j(e,t,n,r){if(!e.tag.isInline&&0<n.length)for(n.push("\n"),i=0;i<r;i++)n.push("\t")}function T(e,t,n){return-1<w.inArray(e[e.length-(n=n||1)].tag.name,t)||!!(0<e.length-(n+1)&&T(e,t,n+1))&&(e.pop(),!0)}function b(e){return e?(this.tag=e,this.isRoot=!1):(this.tag=new S("root"),this.isRoot=!0),this.attributes=[],this.children=[],this.hasAttribute=function(e){for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].name==e)return!0;return!1},this.childrenToString=function(){return this.children.join("")},this}function x(e,t){return this.name=e,this.value=t,this}function S(e,t,n,i){if(this.name=e.toLowerCase(),this.isSelfClosing=-1<w.inArray(this.name,h),this.isNonClosing=-1<w.inArray(this.name,p),this.isClosing=null!=t&&0<t.length,this.isInline=-1<w.inArray(this.name,o),this.disallowNest=-1<w.inArray(this.name,l),this.requiredParent=u[w.inArray(this.name,u)+1],this.allowEmpty=-1<w.inArray(this.name,c),this.toProtect=-1<w.inArray(this.name,d),this.rawAttributes=n,this.requiredAttributes=m[w.inArray(this.name,m)+1],i){if(i.tagAttributesCache||(i.tagAttributesCache=[]),-1==w.inArray(this.name,i.tagAttributesCache)){for(var r=f[w.inArray(this.name,f)+1].slice(0),s=0;s<i.allowedAttributes.length;s++){var a=i.allowedAttributes[s][0];(1==i.allowedAttributes[s].length||-1<w.inArray(this.name,i.allowedAttributes[s][1]))&&-1==w.inArray(a,r)&&r.push(a)}i.tagAttributesCache.push(this.name),i.tagAttributesCache.push(r)}this.allowedAttributes=i.tagAttributesCache[w.inArray(this.name,i.tagAttributesCache)+1]}return this.render=!0,this}function C(e){for(;t(e)&&0<e.children.length;)e=e.children[0];return D(e)&&0<e.length&&w.htmlClean.isWhitespace(e.charAt(0))}function k(e){for(;t(e)&&0<e.children.length;)e=e.children[e.children.length-1];return D(e)&&0<e.length&&w.htmlClean.isWhitespace(e.charAt(e.length-1))}function D(e){return e.constructor==String}function M(e){return D(e)||e.tag.isInline}function t(e){return e.constructor==b}function E(e){return e.replace(/&nbsp;|\n/g," ").replace(/\s\s+/g," ")}w.fn.htmlClean=function(e){return this.each(function(){w(this);this.value?this.value=w.htmlClean(this.value,e):this.innerHTML=w.htmlClean(this.innerHTML,e)})},w.htmlClean=function(e,t){t=w.extend({},w.htmlClean.defaults,t);var n,i,r=/<(\/)?(\w+:)?([\w]+)([^>]*)>/gi,s=/(\w+)=(".*?"|'.*?'|[^\s>]*)/gi,a=new b,o=[a],l=a;for(e=(e=t.bodyOnly&&(n=/<body[^>]*>((\n|.)*)<\/body>/i.exec(e))?n[1]:e).concat("<xxx>");n=r.exec(e);){var c,u=new S(n[3],n[1],n[4],t),d=e.substring(i,n.index);if(0<d.length&&(c=l.children[l.children.length-1],0<l.children.length&&D(c=l.children[l.children.length-1])?l.children[l.children.length-1]=c.concat(d):l.children.push(d)),i=r.lastIndex,u.isClosing)T(o,[u.name])&&(o.pop(),l=o[o.length-1]);else{for(var h,p=new b(u);h=s.exec(u.rawAttributes);){if("style"==h[1].toLowerCase()&&t.replaceStyles)for(var f=!u.isInline,m=0;m<t.replaceStyles.length;m++)t.replaceStyles[m][0].test(h[2])&&(f=f||!(u.render=!1),l.children.push(p),o.push(p),l=p,u=new S(t.replaceStyles[m][1],"","",t),p=new b(u));null!=u.allowedAttributes&&(0==u.allowedAttributes.length||-1<w.inArray(h[1],u.allowedAttributes))&&p.attributes.push(new x(h[1],h[2]))}w.each(u.requiredAttributes,function(){var e=this.toString();p.hasAttribute(e)||p.attributes.push(new x(e,""))});for(var g=0;g<t.replace.length;g++)for(var A=0;A<t.replace[g][0].length;A++){var v="string"==typeof t.replace[g][0][A];if(v&&t.replace[g][0][A]==u.name||!v&&t.replace[g][0][A].test(n)){u.render=!1,l.children.push(p),o.push(p),l=p,u=new S(t.replace[g][1],n[1],n[4],t),(p=new b(u)).attributes=l.attributes,g=t.replace.length;break}}d=!0;if(l.isRoot||(l.tag.isInline&&!u.isInline||l.tag.disallowNest&&u.disallowNest&&!u.requiredParent?d=!1:u.requiredParent&&(d=T(o,u.requiredParent))&&(l=o[o.length-1])),d)if(l.children.push(p),u.toProtect)for(;tagMatch2=r.exec(e);){var y=new S(tagMatch2[3],tagMatch2[1],tagMatch2[4],t);if(y.isClosing&&y.name==u.name){p.children.push(RegExp.leftContext.substring(i)),i=r.lastIndex;break}}else u.isSelfClosing||u.isNonClosing||(o.push(p),l=p)}}return w.htmlClean.trim(function e(n,i){var r=[],t=0==n.attributes.length;this.name.concat(null==n.tag.rawAttributes?"":n.tag.rawAttributes);var s=n.tag.render&&(0==i.allowedTags.length||-1<w.inArray(n.tag.name,i.allowedTags))&&(0==i.removeTags.length||-1==w.inArray(n.tag.name,i.removeTags));!n.isRoot&&s&&(r.push("<"),r.push(n.tag.name),w.each(n.attributes,function(){var e,t;-1==w.inArray(this.name,i.removeAttrs)&&(t=RegExp(/^(['"]?)(.*?)['"]?$/).exec(this.value),e=t[2],t=t[1]||'"',"class"==this.name&&(e=w.grep(e.split(" "),function(t){return 0<w.grep(i.allowedClasses,function(e){return e[0]==t&&(1==e.length||-1<w.inArray(n.tag.name,e[1]))}).length}).join(" "),t='"'),null!=e&&(0<e.length||-1<w.inArray(this.name,n.tag.requiredAttributes))&&(r.push(" "),r.push(this.name),r.push("="),r.push(t),r.push(e),r.push(t)))}));if(n.tag.isSelfClosing)s&&r.push(" />"),t=!1;else if(n.tag.isNonClosing)t=!1;else{!n.isRoot&&s&&r.push(">");var a=i.formatIndent++;if(n.tag.toProtect){var o=w.htmlClean.trim(n.children.join("")).replace(/<br>/gi,"\n");r.push(o),t=0==o.length}else{for(var o=[],l=0;l<n.children.length;l++){var c=n.children[l],u=w.htmlClean.trim(E(D(c)?c:c.childrenToString()));M(c)&&0<l&&0<u.length&&(C(c)||k(n.children[l-1]))&&o.push(" "),D(c)?0<u.length&&o.push(u):l==n.children.length-1&&"br"==c.tag.name||(i.format&&j(c,0,o,a),o=o.concat(e(c,i)))}i.formatIndent--,0<o.length&&(i.format&&"\n"!=o[0]&&j(n,0,r,a),r=r.concat(o),t=!1)}!n.isRoot&&s&&(i.format&&j(n,0,r,a-1),r.push("</"),r.push(n.tag.name),r.push(">"))}if(!n.tag.allowEmpty&&t)return[];return r}(a,t).join(""))},w.htmlClean.defaults={bodyOnly:!0,allowedTags:[],removeTags:["basefont","center","dir","font","frame","frameset","iframe","isindex","menu","noframes","s","strike","u"],allowedAttributes:[],removeAttrs:[],allowedClasses:[],format:!1,formatIndent:0,replace:[[["b","big"],"strong"],[["i"],"em"]],replaceStyles:[[/font-weight:\s*bold/i,"strong"],[/font-style:\s*italic/i,"em"],[/vertical-align:\s*super/i,"sup"],[/vertical-align:\s*sub/i,"sub"]]},w.htmlClean.trim=function(e){return w.htmlClean.trimStart(w.htmlClean.trimEnd(e))},w.htmlClean.trimStart=function(e){return e.substring(w.htmlClean.trimStartIndex(e))},w.htmlClean.trimStartIndex=function(e){for(var t=0;t<e.length-1&&w.htmlClean.isWhitespace(e.charAt(t));t++);return t},w.htmlClean.trimEnd=function(e){return e.substring(0,w.htmlClean.trimEndIndex(e))},w.htmlClean.trimEndIndex=function(e){for(var t=e.length-1;0<=t&&w.htmlClean.isWhitespace(e.charAt(t));t--);return t+1},w.htmlClean.isWhitespace=function(e){return-1!=w.inArray(e,n)};var o=["a","abbr","acronym","address","b","big","br","button","caption","cite","code","del","em","font","hr","i","input","img","ins","label","legend","map","q","s","samp","select","small","span","strike","strong","sub","sup","tt","u","var"],l=["h1","h2","h3","h4","h5","h6","p","th","td"],c=e,u=[null,"li",["ul","ol"],"dt",["dl"],"dd",["dl"],"td",["tr"],"th",["tr"],"tr",["table","thead","tbody","tfoot"],"thead",["table"],"tbody",["table"],"tfoot",["table"]],d=["script","style","pre","code"],h=["br","hr","img","link","meta"],p=["!doctype","?xml"],f=[["class"],"?xml",[],"!doctype",[],"a",["accesskey","class","href","name","title","rel","rev","type","tabindex"],"abbr",["class","title"],"acronym",["class","title"],"blockquote",["cite","class"],"button",["class","disabled","name","type","value"],"del",["cite","class","datetime"],"font",["face","size","color"],"form",["accept","action","class","enctype","method","name"],"input",["accept","accesskey","alt","checked","class","disabled","ismap","maxlength","name","size","readonly","src","tabindex","type","usemap","value"],"img",["alt","class","height","src","width"],"ins",["cite","class","datetime"],"label",["accesskey","class","for"],"legend",["accesskey","class"],"link",["href","rel","type"],"meta",["content","http-equiv","name","scheme","charset"],"map",["name"],"optgroup",["class","disabled","label"],"option",["class","disabled","label","selected","value"],"q",["class","cite"],"script",["src","type"],"select",["class","disabled","multiple","name","size","tabindex"],"style",["type"],"table",["class","summary"],"th",["class","colspan","rowspan"],"td",["class","colspan","rowspan"],"textarea",["accesskey","class","cols","disabled","name","readonly","rows","tabindex"]],m=[[],"img",["alt"]],n=[" "," ","\t","\n","\r","\f"]}(jQuery),jpvs.cleanHtml=function(e,t){return jQuery.htmlClean(e||"",t||{bodyOnly:!1,allowedTags:["h1","h2","h3","h4","h5","h6","br","hr","div","span","img","p","font","ul","ol","li","i","em","b","strong","u","sup","sub","table","thead","tbody","tfoot","tr","td","th"],removeTags:[null],allowedAttributes:[["style"],["align"],["src",["img"]]],removeAttrs:[],allowedClasses:[],format:!1,formatIndent:0,replace:[[["b","big"],"strong"],[["i"],"em"]],replaceStyles:[[/font-weight:\s*bold/i,"strong"],[/font-style:\s*italic/i,"em"],[/vertical-align:\s*super/i,"sup"],[/vertical-align:\s*sub/i,"sub"]]})},jpvs.stripHtml=function(e){return jQuery.htmlClean(e||"",{bodyOnly:!1,allowedTags:[null],removeTags:[],allowedAttributes:[],removeAttrs:[],allowedClasses:[],format:!1,formatIndent:0,replace:[],replaceStyles:[]})}}();var SvgParser=function(){var r={r:0,g:0,b:0,a:1},t={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",green:"#008000",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function n(e,d){d.__$ids$__||(d.__$ids$__={}),e.attributes.id&&(d.__$ids$__[e.attributes.id]=e);for(var t=0;t<e.children.length;t++)"#COMMENT"==e.children[t].name&&e.children.splice(t--,1);for(t in delete e.value,e.attributes)a(e,t,e.attributes[t]);function a(e,t,n){var i,r;"style"==t?function(e,t){var n,i=(t=p(t)).split(";");for(n in i){var r=i[n].split(":"),s=p(r[0]),r=p(r[1]);a(e,s,r)}}(e,n):"fill"==t?function(e,t){if(t)if(""!=(t=p(t))&&"none"!=t.toLowerCase()){var n=/^url *\( *#(.+) *\) *$/gi.exec(t);if(n){var i=n[1],r=d.__$ids$__[i];if("linearGradient"==r.name){var s,a=h(r.x1),o=h(r.x2),n=h(r.y1),i=h(r.y2);for(s in e.fill={linearGradient:{x1:a,y1:n,x2:o,y2:i,stops:[]}},r.children){var l,c,u=r.children[s];"stop"==u.name&&(l=u.offset,c=f(u["stop-color"]),null!=(u=u["stop-opacity"])&&(c.a*=u),e.fill.linearGradient.stops.push({color:c,offset:l}))}}}else e.fill={color:f(t)}}else e.fill={};else e.fill={}}(e,n):"stroke"==t?(i=e,(r=n)&&""!=(r=p(r))&&"none"!=r.toLowerCase()?i.stroke={color:f(r)}:i.stroke={}):"d"==t?function(e,t){t=s(t);e.d=t}(e,n):(r=/%$/g.test(n),i=parseFloat(n),r=isFinite(i)&&!r,e[t]=r?i:n)}function h(e){return/%$/g.test(e)?parseFloat(e.substring(0,e.length-1))/100:parseFloat(e)}delete e.attributes}function p(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function f(e){return!e||""==(e=p(e))?r:/^#/gi.test(e)?function(e){3==(e=p(e)).length&&(e=String.fromCharCode(e.charCodeAt(0),e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(2)));return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:1}}(e.substring(1)):/^RGB[^A]/gi.test(e)?function(e){{if(e=p(e),/^\(.*\)$/gi.test(e)){var t=p(e=e.substring(1,e.length-1)).split(","),n=parseInt(t[0]),e=parseInt(t[1]),t=parseInt(t[2]);return{r:n,g:e,b:t,a:1}}return r}}(e.substring(3)):/^RGBA/gi.test(e)?function(e){{if(e=p(e),/^\(.*\)$/gi.test(e)){var t=p(e=e.substring(1,e.length-1)).split(","),n=parseInt(t[0]),i=parseInt(t[1]),e=parseInt(t[2]),t=parseFloat(t[3]);return{r:n,g:i,b:e,a:t}}return r}}(e.substring(4)):(e=e.toLowerCase(),f(e=t[e]))}var o="1234567890.-+",l="qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM";function s(e){if(!e)return null;if(""==(e=p(e)))return null;for(var t,n,i=[],r=0,s=0;s<e.length;s++){var a=e[s];0==r?0<=l.indexOf(a)&&(i.push(t={cmd:a,params:[]}),r=1):1==r?0<=l.indexOf(a)?(i.push(t={cmd:a,params:[]}),r=1):0<=o.indexOf(a)&&(n=a,r=2):2==r&&(0<=o.indexOf(a)?n+=a:r=(0<=l.indexOf(a)?(t.params.push(parseFloat(n)),n=null,i.push(t={cmd:a,params:[]})):(t.params.push(parseFloat(n)),n=null),1))}return n&&t.params.push(parseFloat(n)),i}return{parseString:function(e){return(e=XmlParser.parseString(e,n))?{ids:e.__$ids$__,elements:e.children}:null},parseColor:f,parsePathDefinition:s}}(),XmlParser=function(){function m(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}return{parseString:function(e,i,t){if(!e||""==e)return null;for(var n,r,s=0,a=[],o="",l="",c=0;c<e.length;c++){var u,d,h=e[c];0==s?"<"==h?(s=1,0<(o=!t?m(o):o).length&&d.children.push({name:"#TEXT",attributes:{},children:[],value:o}),u=d,a.push(d={name:o="",attributes:{},children:[],value:null}),u&&u.children.push(d)):o+=h:1==s?" "==h?s=2:"/"==h?""==d.name?d.closing=!0:s=6:">"==h?(s=0,d.closing&&(1<a.length&&(a.pop(),(d=a[a.length-1]).children.pop()),1<a.length&&(a.pop(),d=a[a.length-1]))):(d.name+=h,"!--"==d.name&&(l="",s=7)):2==s?" "==h||("/"==h?s=6:">"==h?s=0:(s=3,n=h,r="")):3==s?"="==h?s=4:n+=h:4==s?" "==h||('"'==h?s=5:f()):5==s?'"'==h?(s=2,d.attributes[m(n)]=r):r+=h:6==s?" "==h||(">"==h?(s=0,1<a.length&&(a.pop(),d=a[a.length-1])):f()):7==s?/-->$/gi.test(l+=h)&&(l=m(l.substring(0,l.length-3)),d.name="#COMMENT",d.value=l,a.pop(),d=a[a.length-1],s=0):function(){throw"Unexpected parser state: "+s}()}var p=a[0]||null;return i&&function e(t){if(t&&(i(t,p),t.children))for(var n in t.children){var n=t.children[n];e(n)}}(p),p;function f(){throw"Invalid character: "+h}}}}();!function(){var a="jpvs.Storage.",o=a.length;function l(e,t,n){t=e[a+t];return t?$.parseJSON(t):n}function c(e,t,n){n=jpvs.toJSON(n);e[a+t]=n}function u(e,t){this.storage=e,this.id=t.id,this.name=t.name}u.prototype.getCount=function(){if(this.deleted)return 0;var n=this.name+".",i=n.length,r=0;return function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e.key(i);if(0==r.indexOf(a)){var s=r.substring(o),r=e.getItem(s);if(!1===t(s,$.parseJSON(r)))return}}}(this.storage,function(e,t){0==e.indexOf(n)&&(e=e.substring(i),e=parseInt(e),isFinite(e)&&(r=Math.max(r,e+1)))}),r},u.prototype.getItem=function(e){if(this.deleted)return null;e=this.name+"."+e;return l(this.storage,e,null)},u.prototype.setItem=function(e,t){this.deleted||(e=this.name+"."+e,c(this.storage,e,t))},u.prototype.removeItem=function(e){this.deleted||(e=this.name+"."+e,this.storage.removeItem(a+e))},u.prototype.removeAllItems=function(){if(!this.deleted)for(var e=this.getCount(),t=0;t<e;t++)this.removeItem(t)},u.prototype.listItems=function(){if(this.deleted)return[];var n=[];return this.each(function(e,t){n.push(t)}),n},u.prototype.each=function(e){if(!this.deleted)for(var t=this.getCount(),n=0;n<t;n++)if(!1===e(n,this.getItem(n)))return},u.prototype.deleteDomain=function(){var e;this.deleted||(this.removeAllItems(),delete(e=l(this.storage,"Domains",{}))[this.id],c(this.storage,"Domains",e),this.deleted=!0)},jpvs.Storage={listDomains:function(n){var e=l(n,"Domains",{}),i=[];return $.each(e,function(e,t){i.push(new u(n,t))}),i},getDomain:function(n,i){var r,e=l(n,"Domains",{});if($.each(e,function(e,t){if(t.name==i)return r=new u(n,t),!1}),r)return r;var t={id:jpvs.randomString(20),name:i},s=new u(n,t);return e[t.id]=t,c(n,"Domains",e),s}}}(),jpvs.equals=function(e,t){return e===t||(null===e&&null===t||(null!==e||null===t)&&((null===e||null!==t)&&(void 0===e&&void 0===t||(void 0!==e||void 0===t)&&((void 0===e||void 0!==t)&&(!0===e&&!0===t||(!0!==e||!0===t)&&((!0===e||!0!==t)&&(!1===e&&!1===t||(!1!==e||!1===t)&&((!1===e||!1!==t)&&(typeof e==typeof t&&("number"==typeof e?!(!isNaN(e)||!isNaN(t))||!(isNaN(e)&&!isNaN(t))&&(!(!isNaN(e)&&isNaN(t))&&e==t):"string"==typeof e?e==t:void 0!==e.length&&void 0!==t.length?function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],r=t[n];if(!jpvs.equals(i,r))return!1}return!0}(e,t):(void 0===e.length||void 0!==t.length)&&((void 0!==e.length||void 0===t.length)&&function(e,t){{if(e.getTime&&t.getTime)return e.getTime()==t.getTime();if(!e.getTime&&t.getTime)return!1;if(e.getTime&&!t.getTime)return!1}var n,i={};for(n in e){var r=e[n],s=t[n];if(!jpvs.equals(r,s))return!1;i[n]=!0}for(n in t)if(!i[n]){r=e[n],s=t[n];if(!jpvs.equals(r,s))return!1}return!0}(e,t))))))))))))},jpvs.filter=function(e,t){for(var n=[],i=0;i<e.length;i++){for(var r=e[i],s=!1,a=0;a<t.length;a++){var o=t[a],l=o.selector(r),c=o.value;if(!function(e,t,n){if(null==e)return!1;var i="number"==typeof e,r=null!=n&&("number"==typeof n||isFinite(parseFloat(n))),s=i&&r,i=(e||"").toString().toUpperCase(),r=(n||"").toString().toUpperCase();return"EQ"==t?i==r:"NEQ"==t?i!=r:"CONTAINS"==t?0<=i.indexOf(r):"NCONTAINS"==t?i.indexOf(r)<0:"STARTS"==t?0==i.indexOf(r):"NSTARTS"==t?0!=i.indexOf(r):"LT"==t?s?e<parseFloat(n):i<r:"LTE"==t?s?e<=parseFloat(n):i<=r:"GT"==t?s?e>parseFloat(n):r<i:"GTE"==t&&(s?e>=parseFloat(n):r<=i)}(l,o.operand.toUpperCase(),c)){s=!0;break}}s||n.push(r)}return n},jpvs.sort=function(e,t){for(var a,n=[],i=0;i<e.length;i++)n.push(e[i]);return t.length&&n.sort((a=t,function(e,t){for(var n=0;n<a.length;n++){var i=a[n],r=i.selector(e),s=i.selector(t),s=jpvs.compare(r,s);if(0!=s)return i.descending?-s:s}return 0})),n},jpvs.compare=function(e,t){if(void 0===e)return void 0===t?0:-1;if(null===e)return void 0===t?1:null===t?0:-1;if(void 0===t)return 1;if(null===t)return 1;var n="number"==typeof e,i="number"==typeof t;if(n&&i)return e-t;if(n&&!i)return-1;if(!n&&i)return 1;e=e.toString().toUpperCase(),t=t.toString().toUpperCase();return t<e?1:e<t?-1:0},jpvs.Button=function(e){this.attach(e),this.click=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.Button,type:"Button",cssClass:"Button",create:function(e){var t=document.createElement("button");return $(t).attr("type","button"),$(e).append(t),t},init:function(e){this.element.click(function(){return e.click.fire(e)})},canAttachTo:function(e){return $(e).is('button,input[type="button"]')},prototype:{text:jpvs.property({get:function(){return this.element.text()},set:function(e){this.element.text(e)}})}}),jpvs.writeButtonBar=function(e,t){if(e&&t){e=jpvs.getElementIfWidget(e);var i=$(document.createElement("div"));return $(i).addClass("ButtonBar").appendTo(e),$.each(t,function(e,t){var n=jpvs.Button.create(i);n.text(t.text||"OK").click.bind(t.click),t.cssClass&&n.element.addClass(t.cssClass)}),i}},jpvs.CheckBox=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.CheckBox,type:"CheckBox",cssClass:"CheckBox",create:function(e){var t=document.createElement("input");return $(t).attr("type","checkbox"),$(e).append(t),t},init:function(e){this.element.click(function(){return e.change.fire(e)}),this.element.change(function(){return e.change.fire(e)})},canAttachTo:function(e){return $(e).is('input[type="checkbox"]')},prototype:{checked:jpvs.property({get:function(){return this.element.prop("checked")},set:function(e){this.element.prop("checked",!!e)}}),text:jpvs.property({get:function(){return this.ensureId(),$('label[for="'+this.id()+'"]').text()},set:function(e){this.ensureId();var t=$('label[for="'+this.id()+'"]');0==t.length&&((t=$(document.createElement("label"))).attr("for",this.id()),t.insertAfter(this.element),this.label=t),t.text(e)}})}}),function(){function t(e,t,n){(e.binder()||jpvs.DataGrid.defaultBinder).call(e,t,n)}function C(e,t){var n=e.element.children(t);return 0==n.length&&(n=$(document.createElement(t)),e.element.append(n)),n}function k(e,t,n,i,r){var s,a=$(document.createElement("tr"));null==r?(n.append(a),e.enableEvenOdd()&&o(-1,n)):(0==(s=n.children("tr")).length?n.append(a):s.eq(r).before(a),e.enableEvenOdd()&&o(r,n));n=e.template(),e=e.emptyRowTemplate();n&&M(a,t,n,e,i)}function n(e,t,n,i){1==(i=null==i?1:i)?t.children("tr").eq(n).remove():1<i&&t.children("tr").slice(n,n+i).remove(),e.enableEvenOdd()&&o(n,t)}function o(e,t){var n=t.children("tr");e<0&&(e+=n.length);for(var i=e%2==0,r=e;r<n.length;r++)n.eq(r).removeClass("Even Odd").addClass(i?"Even":"Odd"),i=!i}function D(e){return"thead"==e?"header":"tfoot"==e?"footer":"body"}function M(r,s,e,t,a){var n;r.empty(),a?($.each(e,function(e,t){var n=t,i="td";((n=t.header||t.body||t.footer?t[s]:n)&&n.isHeader||"header"==s||"footer"==s)&&(i="th");i=$(document.createElement(i));r.append(i),jpvs.applyTemplate(i,n,a)}),r.data("fromEmptyRowTemplate",!1),r.data("dataItem",a)):(jpvs.applyTemplate(r,t||(n=e.length,function(e){var t=jpvs.writeTag(this,"td").attr("colspan",n);jpvs.writeTag(t,"img").attr("src",jpvs.Resources.images.loading),jpvs.writeTag(t,"span",".").css("visibility","hidden")}),a),r.data("fromEmptyRowTemplate",!0))}function E(e){return{sort:e.currentSort(),filter:e.currentFilter()}}jpvs.DataGrid=function(e){this.attach(e),this.dataItemClick=jpvs.event(this),this.changedSortFilter=jpvs.event(this)},jpvs.DataGrid.allStrings={en:{column:"Column",currentColumn:"Selected column",addFilter:"Add filtering rule",addSort:"Add sorting rule",clickToSortAndFilter:"Click here for sorting/filtering options",clickToSort:"Click here for sorting options",clickToFilter:"Click here for filtering options",titleSortAndFilter:"Sorting/filtering options",titleSort:"Sorting options",titleFilter:"Filtering options",noFilterSpecified:"No filtering criteria specified",noSortSpecified:"No sorting specified",ok:"OK",cancel:"Cancel",remove:"Remove",condition:"Condition",orderBy:"Order by",thenBy:"Then by",descending:"Descending",op_EQ:"is equal to",op_NEQ:"is not equal to",op_CONTAINS:"contains",op_NCONTAINS:"does not contain",op_STARTS:"starts with",op_NSTARTS:"does not start with",op_LT:"is less than",op_LTE:"is less than or equal to",op_GT:"is greater than",op_GTE:"is greater than or equal to"},it:{column:"Colonna",currentColumn:"Colonna selezionata",addFilter:"Aggiungi criterio di filtro",addSort:"Aggiungi criterio di ordinamento",clickToSortAndFilter:"Clicca qui per ordinare/filtrare i dati",clickToSort:"Clicca qui per ordinare i dati",clickToFilter:"Clicca qui per filtrare i dati",titleSortAndFilter:"Ordinamento/filtro",titleSort:"Ordinamento",titleFilter:"Filtro",noFilterSpecified:"Nessun criterio di filtro specificato",noSortSpecified:"Nessun ordinamento specificato",ok:"OK",cancel:"Annulla",remove:"Rimuovi",condition:"Condizione",orderBy:"Ordina per",thenBy:"Poi per",descending:"Ordine inverso",op_EQ:"è uguale a",op_NEQ:"è diverso da",op_CONTAINS:"contiene",op_NCONTAINS:"non contiene",op_STARTS:"inizia per",op_NSTARTS:"non inizia per",op_LT:"è minore di",op_LTE:"è minore o uguale a",op_GT:"è maggiore di",op_GTE:"è maggiore o uguale a"}},jpvs.DataGrid.getFilteringOperands=function(){return[{value:"EQ",text:jpvs.DataGrid.strings.op_EQ},{value:"NEQ",text:jpvs.DataGrid.strings.op_NEQ},{value:"CONTAINS",text:jpvs.DataGrid.strings.op_CONTAINS},{value:"NCONTAINS",text:jpvs.DataGrid.strings.op_NCONTAINS},{value:"STARTS",text:jpvs.DataGrid.strings.op_STARTS},{value:"NSTARTS",text:jpvs.DataGrid.strings.op_NSTARTS},{value:"LT",text:jpvs.DataGrid.strings.op_LT},{value:"LTE",text:jpvs.DataGrid.strings.op_LTE},{value:"GT",text:jpvs.DataGrid.strings.op_GT},{value:"GTE",text:jpvs.DataGrid.strings.op_GTE}]},jpvs.makeWidget({widget:jpvs.DataGrid,type:"DataGrid",cssClass:"DataGrid",create:function(e){var t=document.createElement("table");return $(e).append(t),t},init:function(i){jpvs.DataGrid.strings=jpvs.DataGrid.allStrings[jpvs.currentLocale()],this.element.on("click","tr",function(e){return function(e,t){t=$(t).data("dataItem");if(t)return e.dataItemClick.fire(e,null,t)}(i,e.currentTarget)}),this.element.on("mouseenter","thead > tr",function(e){var o,t,l,c,u,n;o=i,t=e.currentTarget,n=o.enableSorting(),e=o.enableFiltering(),(n||e)&&(l="",n&&e?l=jpvs.DataGrid.strings.clickToSortAndFilter:n?l=jpvs.DataGrid.strings.clickToSort:e&&(l=jpvs.DataGrid.strings.clickToFilter),c=o.sortAndFilterExpressions(),0==(u=$(t).data("jpvsColButtons")||[]).length&&($(t).find("td,th").each(function(e){var t,n,i,r,s,a;c[e]&&(t=(i=(r=$(this)).position()).left,n=i.top,i=r.innerWidth(),r.outerHeight(),n=n,i=t+i,i-=(r=jpvs.ImageButton.create(r).imageUrls({normal:jpvs.Resources.images.dataGridColumnButton,hover:jpvs.Resources.images.dataGridColumnButtonHover})).element.width(),r.element.css({position:"absolute",left:i+"px",top:n+"px"}).attr("title",l),r.click((s=o,a=e,function(){!function(c,e){var u=c.enableSorting(),d=c.enableFiltering();if(u||d){var t="";u&&d?t=jpvs.DataGrid.strings.titleSortAndFilter:u?t=jpvs.DataGrid.strings.titleSort:d&&(t=jpvs.DataGrid.strings.titleFilter);var h=jpvs.Popup.create().title(t).show(),n=h,t=h;u&&d&&(n=jpvs.writeTag(h,"fieldset"),t=jpvs.writeTag(h,"fieldset"),jpvs.writeTag(n,"legend",jpvs.DataGrid.strings.titleSort),jpvs.writeTag(t,"legend",jpvs.DataGrid.strings.titleFilter));var p=[];if(u){n=jpvs.Table.create(n);p.push(o(n,jpvs.DataGrid.strings.orderBy)),p.push(o(n,jpvs.DataGrid.strings.thenBy)),p.push(o(n,jpvs.DataGrid.strings.thenBy)),p.push(o(n,jpvs.DataGrid.strings.thenBy));var i=c.currentSort();i||(n=c.sortAndFilterExpressions(),e=n&&n[e]&&n[e].value,i=e?[{name:e}]:[]);for(var r=0;r<p.length;r++)!function(e,t){t&&(e.cmbSort.selectedValue(t.name),e.chkDesc.checked(t.descending))}(p[r],i[r])}var f=[];if(d){t=jpvs.Table.create(t);f.push(l(t)),f.push(l(t)),f.push(l(t)),f.push(l(t));for(var s=c.currentFilter()||[],r=0;r<f.length;r++)!function(e,t){t&&(e.cmbFilter.selectedValue(t.name),e.cmbOp.selectedValue(t.operand),e.txtValue.text(t.value))}(f[r],s[r])}jpvs.writeButtonBar(h,[{text:jpvs.DataGrid.strings.ok,click:function(){if(u){for(var e=[],t=0;t<p.length;t++){var n=p[t].cmbSort,i=p[t].chkDesc,r=n.selectedValue(),i=i.checked();r&&""!=r&&e.push({name:r,descending:i})}c.currentSort(e)}if(d){for(var s=[],t=0;t<f.length;t++){var a=f[t].cmbFilter,o=f[t].cmbOp,l=f[t].txtValue,r=a.selectedValue(),o=o.selectedValue(),l=l.text();r&&""!=r&&o&&""!=o&&s.push({name:r,operand:o,value:l})}c.currentFilter(s)}c.changedSortFilter.fire(c),h.destroy()}},{text:jpvs.DataGrid.strings.cancel,click:a}]),h.close(a)}function a(){h.destroy()}function o(e,t){e=e.writeRow();e.writeCell(t+": ");t=jpvs.DropDownList.create(e.writeCell()),e=jpvs.CheckBox.create(e.writeCell());return e.text(jpvs.DataGrid.strings.descending),t.addItem(""),t.addItems(c.sortAndFilterExpressions()),{cmbSort:t,chkDesc:e}}function l(e){var t=e.writeRow(),n=jpvs.DropDownList.create(t.writeCell()),e=jpvs.DropDownList.create(t.writeCell()),t=jpvs.TextBox.create(t.writeCell());return n.addItem(""),n.addItems(c.sortAndFilterExpressions()),e.addItem(""),e.addItems(jpvs.DataGrid.getFilteringOperands()),{cmbFilter:n,cmbOp:e,txtValue:t}}}(s,a)})),u.push(r))}),$(t).data("jpvsColButtons",u)))}),this.element.on("mouseleave","thead > tr",function(e){!function(e){var t=$(e).data("jpvsColButtons");t&&setTimeout(function(){$.each(t,function(e,t){t.destroy()})},5e3);$(e).data("jpvsColButtons",null)}(e.currentTarget)})},canAttachTo:function(e){return!1},prototype:{template:jpvs.property({get:function(){return this.element.data("template")},set:function(e){this.element.data("template",e)}}),emptyRowTemplate:jpvs.property({get:function(){return this.element.data("emptyRowTemplate")},set:function(e){this.element.data("emptyRowTemplate",e)}}),binder:jpvs.property({get:function(){return this.element.data("binder")},set:function(e){this.element.data("binder",e)}}),caption:jpvs.property({get:function(){var e=this.element.children("caption");return 0!=e.length?e.text():null},set:function(e){var t=this.element.children("caption");0==t.length&&(t=$(document.createElement("caption")),this.element.prepend(t)),t.text(e)}}),enableEvenOdd:jpvs.property({get:function(){var e=this.element.data("enableEvenOdd");return!0!==e&&!1!==e||e},set:function(e){this.element.data("enableEvenOdd",e)}}),enableSorting:jpvs.property({get:function(){var e=this.element.data("enableSorting");return(!0===e||!1===e)&&e},set:function(e){this.element.data("enableSorting",e)}}),enableFiltering:jpvs.property({get:function(){var e=this.element.data("enableFiltering");return(!0===e||!1===e)&&e},set:function(e){this.element.data("enableFiltering",e)}}),sortAndFilterExpressions:jpvs.property({get:function(){var t=this.element.data("sortAndFilterExpressions");return t||(t=[],this.element.find("thead > tr > th").each(function(){var e=$(this).text();t.push({value:e,text:e})})),t},set:function(e){this.element.data("sortAndFilterExpressions",e)}}),currentSort:jpvs.property({get:function(){return this.element.data("currentSort")||null},set:function(e){this.element.data("currentSort",e)}}),currentFilter:jpvs.property({get:function(){return this.element.data("currentFilter")||null},set:function(e){this.element.data("currentFilter",e)}}),clear:function(){return this.element.find("tr").remove(),this},dataBind:function(e){return t(this,"tbody",e),this},dataBindHeader:function(e){return t(this,"thead",e),this},dataBindFooter:function(e){return t(this,"tfoot",e),this},addBodyRow:function(e,t){var n=C(this,"tbody");return k(this,D("tbody"),n,e,t),this},addHeaderRow:function(e,t){var n=C(this,"thead");return k(this,D("thead"),n,e,t),this},addFooterRow:function(e,t){var n=C(this,"tfoot");return k(this,D("tfoot"),n,e,t),this},removeBodyRow:function(e){return n(this,C(this,"tbody"),e),this},removeHeaderRow:function(e){return n(this,C(this,"thead"),e),this},removeFooterRow:function(e){return n(this,C(this,"tfoot"),e),this},removeBodyRows:function(e,t){return n(this,C(this,"tbody"),e,t),this},removeHeaderRows:function(e,t){return n(this,C(this,"thead"),e,t),this},removeFooterRows:function(e,t){return n(this,C(this,"tfoot"),e,t),this}}}),jpvs.DataGrid.defaultBinder=function(e,t){var r=this;function n(){var n=C(r,e),i=D(e);jpvs.readDataSource(t,null,null,E(r),function(e){n.empty(),$.each(e.data,function(e,t){k(r,i,n,t)})})}n(),r.changedSortFilter.unbind("binder"),r.changedSortFilter.bind("binder",n)},jpvs.DataGrid.pagingBinder=function(d){var h=0;function e(e,t){var n=d&&d.pageSize||10,i=d&&d.preserveCurrentPage,r=this,s=C(r,e),a=D(e),o=i?h:0;h=o;var l=function(){var e,t=r.element.data("pagerId");{var n;t?e=jpvs.find("#"+t):(n=document.createElement("div"),r.element.before(n),e=jpvs.Pager.create(n),t=jpvs.randomString(20),e.element.attr("id",t),r.element.data("pagerId",t))}return e.change.unbind("DataGrid"),e.change.bind("DataGrid",c),e}();function c(){var e=this.page();h=o=e,u()}function u(){jpvs.readDataSource(t,o*n,n,E(r),function(e){s.empty(),$.each(e.data,function(e,t){k(r,a,s,t)});e=Math.floor((e.total+n-1)/n);l.totalPages(e),l.page(o)})}u(),r.changedSortFilter.unbind("binder"),r.changedSortFilter.bind("binder",u)}return e.currentPage=jpvs.property({get:function(){return h}}),e},jpvs.DataGrid.scrollingBinder=function(e){var w=e&&e.pageSize||10,j=e&&e.chunkSize||5*w,T=e&&e.width,b=e&&e.height,x=[],S=!1;return function(e,s){var c=this,u=C(c,e),d=D(e),h=null,p=[],a=null,i=0,r=0,t=function(){var e,t=c.element.data("scrollerId");{var n;t?e=jpvs.find("#"+t):(n=document.createElement("div"),c.element.after(n),e=jpvs.Scroller.create(n),t=jpvs.randomString(20),e.element.attr("id",t),c.element.data("scrollerId",t),e.content.append(c.element),e.contentSize({width:"1000%",height:"200%"}),v(),e.objectSize({width:i+e.scrollbarW,height:r+e.scrollbarH}))}return e.change.unbind("DataGrid"),e.change.bind("DataGrid",A),e}();function n(e){for(var t,e=e,n=e+w,i=!0,r=e;r<n&&r<a;r++)if(!p[r]){i=!1,t=r;break}i?g():(e=Math.max(0,t-j),n=Math.min(t+j,a),x.push({start:e,end:n}),f())}function f(){if(!S&&0!=x.length){for(var e=x[0].start,t=x[0].end,n=0;n<x.length;n++)var i=x[n],r=i.start,i=i.end,e=Math.min(e,r),t=Math.max(t,i);x=[],S=!0,jpvs.readDataSource(s,e,t-e,E(c),o(g))}}function o(s){return function(e){S=!1,null===a&&(a=e.total);for(var t=e.start,n=e.count;p.length<a;)p.push(void 0);for(var i=t,r=0;r<n;)p[i++]=e.data[r++];s&&s()}}function l(e){var t;null===h?m(e):(t=e-h,Math.abs(t)<w?function(e,t){if(0<t){c.removeBodyRows(0,t);for(var n=e+w-t,i=0;i++<t;)n<a&&k(c,d,u,p[n++])}else if(t<0){t=-t,c.removeBodyRows(w-t,t);for(n=e,i=0;i<t;)n<a&&k(c,d,u,p[n++],i++)}y()}(e,t):m(e)),h=e}function m(e){u.empty();for(var t=Math.min(e+w,a),n=e;n<t;n++)k(c,d,u,p[n]);y()}function g(){for(var e=c.template(),t=c.emptyRowTemplate(),n=u.children("tr"),i=h+n.length,r=!1,s=0,a=h;a<i;a++){var o=p[a],l=n.eq(s++);o&&l.data("fromEmptyRowTemplate")&&e&&(M(l,d,e,t,o),r=!0)}r&&y(),f()}function A(){var e=this.scrollPosition(),t=e.left;this.contentPosition({top:0,left:t});e=Math.min(a,Math.floor(e.top/(r/w*a-r)*(a-w+5)));l(e),n(e)}function v(){var e={width:c.element.outerWidth(),height:c.element.outerHeight()};r=Math.max(r,e.height),i=Math.max(i,e.width)}function y(){t&&(v(),t.scrollableSize({width:i,height:r/w*a}),t.objectSize({width:T||i+t.scrollbarW,height:b||r+t.scrollbarH}))}jpvs.readDataSource(s,0,w,E(c),o(function(){l(0),jpvs.readDataSource(s,w,j,E(c),o(g))})),c.changedSortFilter.unbind("binder"),c.changedSortFilter.bind("binder",function(){p=[],a=null,jpvs.readDataSource(s,h,w,E(c),o(function(){m(h)}))})}}}(),jQuery(function(e){e.datepicker.regional.it={closeText:"Chiudi",prevText:"&#x3c;Prec",nextText:"Succ&#x3e;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned&#236","Marted&#236","Mercoled&#236","Gioved&#236","Venerd&#236","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}}),function(){function i(e,t){for(e=$.trim(e.toString());e.length<t;)e="0"+e;return e}jpvs.DateBox=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.DateBox,type:"DateBox",cssClass:"DateBox",create:function(e){var t=document.createElement("input");return $(t).attr("type","text"),$(e).append(t),t},init:function(n){this.element.datepicker({onSelect:function(e,t){return n.change.fire(n)}}),this.element.change(function(){return n.change.fire(n)}),this.element.datepicker("option",$.datepicker.regional[jpvs.currentLocale()]),this.element.datepicker("option","changeMonth",!0),this.element.datepicker("option","changeYear",!0),this.element.datepicker("option","yearRange","c-80:c+20"),this.element.datepicker("hide")},canAttachTo:function(e){return!1},prototype:{date:jpvs.property({get:function(){return this.element.datepicker("getDate")},set:function(e){this.element.datepicker("setDate",e)}}),dateString:jpvs.property({get:function(){return function(e){if(!e)return"";var t=e.getFullYear(),n=e.getMonth()+1,e=e.getDate();return i(t,4)+i(n,2)+i(e,2)}(this.date())},set:function(e){this.date(function(e){if(!(e=$.trim(e))||e.length<8)return null;var t=parseInt(e.substring(0,4)),n=parseInt(e.substring(4,6)),e=parseInt(e.substring(6,8));return new Date(t,n-1,e)}(e))}}),dateStringISO:jpvs.property({get:function(){return function(e){if(!e)return"";var t=e.getFullYear(),n=e.getMonth()+1,e=e.getDate();return i(t,4)+"-"+i(n,2)+"-"+i(e,2)+"T00:00:00.000"}(this.date())},set:function(e){this.date(function(e){if(!(e=$.trim(e))||e.length<10)return null;var t=parseInt(e.substring(0,4)),n=parseInt(e.substring(5,7)),e=parseInt(e.substring(8,10));return new Date(t,n-1,e)}(e))}})}})}(),function(){function d(i,r){var e=i.document(),s=e&&e.fields,a=$();i.element.find("span.Field").each(function(){var e=$(this),t=e.data("jpvs.DocumentEditor.fieldInfo"),n=t&&t.fieldName;!n||(t=r[n])&&(s[n]={value:t.value},n=(i.fieldDisplayMapper()||function(e){return e})(t.value),jpvs.write(e.empty(),n),t.highlight&&(a=a.add(e)))}),a.length&&jpvs.flashClass(a,"Field-Highlight")}function x(e,t){var n=i();r(e,t,n),o(e,n)}function a(e){e=t(e);jpvs.runBackgroundTask(e)}function t(n){return function(s){if(s.executionState=s.executionState||1,1==s.executionState)return s.elem=n.element,s.doc=n.document(),s.sections=s.doc&&s.doc.sections,s.fields=s.doc&&s.doc.fields,s.fieldHighlightList=i(),s.executionState=2,{progress:"0%"};if(2==s.executionState)return s.domElems=[],s.elem.empty(),$.each(s.sections,function(e,t){var n=jpvs.writeTag(s.elem,"div");n.addClass("Section").css("position","relative"),n.data("jpvs.DocumentEditor.sectionNum",e),l(n,t);var i=jpvs.writeTag(n,"div");i.addClass("Header"),c(i,t);var r=jpvs.writeTag(n,"div");r.addClass("Footer"),u(r,t);e=jpvs.writeTag(r,"div");e.css("position","absolute"),e.css("bottom","0px"),e.css("left","0px"),e.css("right","0px");t=jpvs.writeTag(n,"div");t.addClass("Body"),jpvs.writeTag(t,"img").attr("src",jpvs.Resources.images.loading),s.domElems.push({sectionElement:n,headerElement:i,bodyElement:t,footerElementInside:e,footerElement:r}),n.data("jpvs.DocumentEditor.domElem",{headerElement:i,bodyElement:t,footerElementInside:e,footerElement:r})}),s.executionState=3,{progress:"1%"};if(3==s.executionState){if(null==s.sectionNum?s.sectionNum=0:s.sectionNum++,s.sectionNum>=s.sections.length)return s.sectionNum=null,s.executionState=4,{progress:"90%"};var e=s.sections[s.sectionNum],t=s.domElems[s.sectionNum];return r(n,s.sectionNum,s.fieldHighlightList),e.header&&(e.header.highlight=!1),e.body&&(e.body.highlight=!1),e.footer&&(e.footer.highlight=!1),{progress:1+Math.floor(s.sectionNum/(s.sections.length-1)*89)+"%"}}if(4!=s.executionState)return 5==s.executionState?(o(n,s.fieldHighlightList),!1):void 0;if(null==s.sectionNum?s.sectionNum=0:s.sectionNum++,s.sectionNum>=s.sections.length)return s.sectionNum=null,s.executionState=5,{progress:"99%"};e=s.sections[s.sectionNum],t=s.domElems[s.sectionNum],t=jpvs.writeTag(t.sectionElement,"div");return t.addClass("MenuContainer").css({position:"absolute",top:"0px",right:"0px",zIndex:(1e4-s.sectionNum).toString()}),function(e,t,n,i,r){t=jpvs.Menu.create(t);t.template(["HorizontalMenuBar","VerticalMenuBar"]),t.itemTemplate(["HorizontalMenuBarItem","VerticalMenuBarItem"]),t.menuItems([{text:"...",tooltip:jpvs.DocumentEditor.strings.sectionOptions,items:[{text:jpvs.DocumentEditor.strings.sectionMargins,click:function(i,r,j){return function(){var e=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.sectionMargins).close(function(){this.destroy()});r.margins=r.margins||{},r.header=r.header||{},r.header.margins=r.header.margins||{},r.footer=r.footer||{},r.footer.margins=r.footer.margins||{};var t=jpvs.Table.create(e).caption(jpvs.DocumentEditor.strings.bodyMargins),s=b(t,"defaultMargin",r.margins.all),a=b(t,"topMargin",r.margins.top),o=b(t,"bottomMargin",r.margins.bottom),l=b(t,"leftMargin",r.margins.left),c=b(t,"rightMargin",r.margins.right),u=b(t=jpvs.Table.create(e).caption(jpvs.DocumentEditor.strings.headerMargins),"defaultMargin",r.header.margins.all),d=b(t,"topMargin",r.header.margins.top),h=b(t,"leftMargin",r.header.margins.left),p=b(t,"rightMargin",r.header.margins.right),f=b(t,"height",r.header.height),m=b(t=jpvs.Table.create(e).caption(jpvs.DocumentEditor.strings.footerMargins),"defaultMargin",r.footer.margins.all),g=b(t,"bottomMargin",r.footer.margins.bottom),A=b(t,"leftMargin",r.footer.margins.left),v=b(t,"rightMargin",r.footer.margins.right),y=b(t,"height",r.footer.height);function w(e){if(!e)return w([s,a,o,l,c,u,d,h,p,f,m,g,A,v,y]);for(var t=!1,n=[],i=0;i<e.length;i++){var r=e[i];r.removeState(jpvs.states.ERROR),void 0===T(e[i])&&(r.addState(jpvs.states.ERROR),n.push(r),t=!0)}return t&&jpvs.alert(jpvs.DocumentEditor.strings.error,jpvs.DocumentEditor.strings.invalidValuesFound,n[0]),!t}function n(){w()&&(r.margins.all=T(s),r.margins.top=T(a),r.margins.bottom=T(o),r.margins.left=T(l),r.margins.right=T(c),r.header.margins.all=T(u),r.header.margins.top=T(d),r.header.margins.left=T(h),r.header.margins.right=T(p),r.header.height=T(f),r.footer.margins.all=T(m),r.footer.margins.bottom=T(g),r.footer.margins.left=T(A),r.footer.margins.right=T(v),r.footer.height=T(y),x(i,j),i.change.fire(i))}jpvs.writeButtonBar(e,[{text:jpvs.DocumentEditor.strings.ok,click:function(){w()&&e.hide(function(){n(),e.destroy()})}},{text:jpvs.DocumentEditor.strings.apply,click:n},{text:jpvs.DocumentEditor.strings.cancel,click:function(){e.destroy()}}]),e.show()};function T(e){var t=$.trim(e.text().replace(" ",""));if(""==t)return null;return/^\+?[0-9]{1,2}(\.[0-9]{1,3})?(cm)?$/gi.test(t)?(t.indexOf("cm")<0&&(t+="cm"),e.text(t),t):void 0}function b(e,t,n){var i=e.writeRow();i.writeCell(jpvs.DocumentEditor.strings[t]);e=jpvs.TextBox.create(i.writeCell());e.text(n);t=jpvs.DocumentEditor.strings[t+"_Notes"];return t&&i.writeCell(t),e}}(e,r,i)},jpvs.Menu.Separator,{text:jpvs.DocumentEditor.strings.addSectionBefore,click:m(e,n,i)},{text:jpvs.DocumentEditor.strings.addSectionAfter,click:m(e,n,i+1)},{text:jpvs.DocumentEditor.strings.removeSection,click:function(e,t,n){return function(){t.length<2?jpvs.alert(jpvs.DocumentEditor.strings.error,jpvs.DocumentEditor.strings.removeSection_Forbidden):jpvs.confirm(jpvs.DocumentEditor.strings.removeSection,jpvs.DocumentEditor.strings.removeSection_Warning,i)};function i(){t.splice(n,1),a(e),e.change.fire(e)}}(e,n,i)},jpvs.Menu.Separator,{text:jpvs.DocumentEditor.strings.sortSections,click:function(i,r){return function(){var e=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.sortSections).close(function(){this.destroy()});jpvs.writeln(e,jpvs.DocumentEditor.strings.sortSections_Prompt),jpvs.writeTag(e,"hr");var t=jpvs.DataGrid.create(e);function n(){var e=t.element.find("tbody > tr");r.splice(0,r.length),e.each(function(){var e=$(this).data("section");r.push(e)}),a(i),i.change.fire(i)}t.template([function(e){jpvs.writeTag(this,"img").attr("src",jpvs.Resources.images.moveButton),this.parent().css("cursor","move").data("section",e)},function(e){jpvs.write(this,function(e){return 150<e.length?e.substring(0,147)+"...":e}(jpvs.stripHtml(e&&e.body&&e.body.content)))}]),t.dataBind(r),t.element.sortable({items:"tbody > tr"}),jpvs.writeTag(e,"hr"),jpvs.writeButtonBar(e,[{text:jpvs.DocumentEditor.strings.ok,click:function(){e.hide(function(){n(),e.destroy()})}},{text:jpvs.DocumentEditor.strings.apply,click:n},{text:jpvs.DocumentEditor.strings.cancel,click:function(){e.destroy()}}]),e.show()}}(e,n)}]}])}(n,t,s.sections,s.sectionNum,e),{progress:90+Math.floor(s.sectionNum/(s.sections.length-1)*9)+"%"}}}function i(){return{list:$()}}function l(e,t){var n=t&&t.margins,i=h(n,"left","2cm"),r=h(n,"top","2cm"),t=h(n,"right","2cm"),n=h(n,"bottom","2cm");e.css("padding-left",i),e.css("padding-top",r),e.css("padding-right",t),e.css("padding-bottom",n)}function c(e,t){var n=t&&t.margins,i=h(n,"left","2cm"),r=h(n,"right","2cm"),s=t&&t.header&&t.header.margins,n=h(s,"top","0.5cm"),i=h(s,"left",i),r=h(s,"right",r),t=t&&t.header&&t.header.height||"1cm";e.css("position","absolute"),e.css("overflow","hidden"),e.css("top",n),e.css("left",i),e.css("right",r),e.css("height",t)}function u(e,t){var n=t&&t.margins,i=h(n,"left","2cm"),r=h(n,"right","2cm"),s=t&&t.footer&&t.footer.margins,n=h(s,"bottom","0.5cm"),i=h(s,"left",i),r=h(s,"right",r),t=t&&t.footer&&t.footer.height||"1cm";e.css("position","absolute"),e.css("overflow","hidden"),e.css("bottom",n),e.css("left",i),e.css("right",r),e.css("height",t)}function r(e,t,n){var i=e.element.find("div.Section").eq(t),r=i.data("jpvs.DocumentEditor.domElem"),s=e.document(),a=s&&s.sections,s=s&&s.fields,o=a&&a[t];l(i,o),c(r.headerElement,o),u(r.footerElement,o),p(e,r.headerElement,r.headerElement,o&&o.header&&o.header.content,s,"Header-Hover",o&&o.header&&o.header.highlight?"Header-Highlight":"",function(e){o.header=o.header||{},o.header.content=e,o.header.highlight=!0},n,jpvs.DocumentEditor.strings.clickToEditHeader,o&&o.header&&o.header.content_even,function(e){o.header=o.header||{},o.header.content_even=e,o.header.highlight=!0}),p(e,r.bodyElement,r.bodyElement,o&&o.body&&o.body.content,s,"Body-Hover",o&&o.body&&o.body.highlight?"Body-Highlight":"",function(e){o.body=o.body||{},o.body.content=e,o.body.highlight=!0},n,jpvs.DocumentEditor.strings.clickToEdit,null,null),p(e,r.footerElementInside,r.footerElement,o&&o.footer&&o.footer.content,s,"Footer-Hover",o&&o.footer&&o.footer.highlight?"Footer-Highlight":"",function(e){o.footer=o.footer||{},o.footer.content=e,o.footer.highlight=!0},n,jpvs.DocumentEditor.strings.clickToEditFooter,o&&o.footer&&o.footer.content_even,function(e){o.footer=o.footer||{},o.footer.content_even=e,o.footer.highlight=!0}),o&&o.header&&o.header.highlight&&(o.header.highlight=!1),o&&o.body&&o.body.highlight&&(o.body.highlight=!1),o&&o.footer&&o.footer.highlight&&(o.footer.highlight=!1)}function o(e,t){t.list.length&&(jpvs.flashClass(t.list,"Field-Highlight"),(e=(e=e.document())&&e.fields)&&$.each(e,function(e,t){t.highlight=!1}))}function h(e,t,n){if(e){e=e[t]||e.all;if(e)return e}return n}function p(s,e,t,n,i,r,a,o,l,c,u,d){var h=n?n:"";e.empty();var p=t.parent().data("jpvs.DocumentEditor.sectionNum"),h=jpvs.cleanHtml(h);""==$.trim(h)&&(h=c),t.css("cursor","pointer").attr("title",jpvs.DocumentEditor.strings.clickToEdit).unbind(".writeContent").bind("click.writeContent",function(){return function(){{function e(){n.destroy()}function t(e,t){return function(){e(),t()}}var n,i,r;d&&s.allowEvenOddHeadersFooters()?(n=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.oddEven),jpvs.writeln(n,jpvs.DocumentEditor.strings.whichContent),r=jpvs.writeTag(n,"ul"),i=jpvs.writeTag(r,"li"),r=jpvs.writeTag(r,"li"),jpvs.LinkButton.create(i).text(jpvs.DocumentEditor.strings.oddPages).click(t(e,f)),jpvs.LinkButton.create(r).text(jpvs.DocumentEditor.strings.evenPages).click(t(e,m)),jpvs.writeButtonBar(n,[{text:jpvs.DocumentEditor.strings.cancel,click:e}]),n.show()):f()}}(),!1}).bind("mouseenter.writeContent",function(){t.parent().addClass("Section-Hover"),t.addClass(r)}).bind("mouseleave.writeContent",function(){t.parent().removeClass("Section-Hover"),t.removeClass(r)});h=XmlParser.parseString("<root>"+h+"</root>",null,!0);function f(){A(s,n,o,p)}function m(){A(s,u,d,p)}!function n(i,r,e,s,a){{var t,o;"#TEXT"==e.name?g(i,r,e.value||"",s,a):"#COMMENT"==e.name?(e.value||"").indexOf("pagebreak")<0?(t=document.createComment(e.value||""),r.append(t)):jpvs.writeTag(r,"hr"):"root"==e.name?e.children&&$.each(e.children,function(e,t){n(i,r,t,s,a)}):(t=e.name,o=jpvs.writeTag(r,t),e.attributes&&$.each(e.attributes,function(e,t){o.attr(e,t)}),e.children&&($.each(e.children,function(e,t){n(i,o,t,s,a)}),"p"==t&&jpvs.writeTag(o,"br")))}}(s,e,h,i,l),""!=a&&jpvs.flashClass(e,a)}function g(e,t,n,i,r){for(var s=/\$\{(.*?)\}/g,a=0,o=s.exec(n);null!=o;o=s.exec(n)){var l=o[0],c=o[1],u=s.lastIndex,l=u-l.length;f(t,n.substring(a,l)),function(a,e,o,l,t){var n=o&&o[l],i=n&&n.value,r=n&&n.highlight,n=a.fieldDisplayMapper()||function(e){return e};i=n(i),""==$.trim(i)&&(i=jpvs.DocumentEditor.strings.clickToEditField);var s=jpvs.writeTag(e,"span",i);s.addClass("Field").attr("title",jpvs.DocumentEditor.strings.clickToEditField).click(function(){var n,e,i,t,r,s;return e=o,i=l,t=(n=a).fieldEditor()||{editField:function(e,t,n){var i=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.fieldEditor).close(function(){this.destroy()}),r=jpvs.TextBox.create(i),t=(t=e&&e[t])&&t.value;r.text(t||""),jpvs.writeButtonBar(i,[{text:jpvs.DocumentEditor.strings.ok,click:function(){i.hide(function(){n(r.text()),i.destroy()})}},{text:jpvs.DocumentEditor.strings.cancel,click:function(){i.destroy(),n()}}]),i.show(function(){r.focus()})}},r=e&&e[i],s=r&&r.value,t.editField.call(t,e,i,function(e){var t;void 0!==e&&e!=s&&((t={})[i]={value:e,highlight:!0},d(n,t),n.change.fire(n))}),!1}).hover(function(){s.addClass("Field-Hover")},function(){s.removeClass("Field-Hover")}),s.data("jpvs.DocumentEditor.fieldInfo",{fieldName:l}),r&&(t.list=t.list.add(s))}(e,t,i,c,r),a=u}f(t,n.substring(a))}jpvs.DocumentEditor=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.DocumentEditor.allStrings={en:{clickToEdit:"Click here to edit",clickToEditField:"Click here to edit this field",clickToEditHeader:"Click here to edit the header",clickToEditFooter:"Click here to edit the footer",textEditor:"Text editor",fieldEditor:"Field editor",sectionOptions:"Options",sectionMargins:"Set margins",removeSection:"Remove section",removeSection_Warning:"The section will be removed. Do you wish to continue?",removeSection_Forbidden:"The section may not be removed. There must be at least one section in the document.",addSectionBefore:"Insert new section before",addSectionAfter:"Insert new section after",sortSections:"Reorder sections",sortSections_Prompt:"Please reorder the sections of the document by dragging them up and down.",invalidValuesFound:"Invalid values found. Please correct and try again.",bodyMargins:"Page margins",defaultMargin:"Default margin",defaultMargin_Notes:"Example: 2.5cm. Used only when any of left/right/bottom/top is missing.",topMargin:"Top margin",topMargin_Notes:"Example: 2cm. If missing, the default margin is used.",bottomMargin:"Bottom margin",bottomMargin_Notes:"Example: 2cm. If missing, the default margin is used.",leftMargin:"Left margin",leftMargin_Notes:"Example: 2cm. If missing, the default margin is used.",rightMargin:"Right margin",rightMargin_Notes:"Example: 2cm. If missing, the default margin is used.",headerMargins:"Header margins and height",footerMargins:"Footer margins and height",height:"Height",error:"Error",ok:"OK",cancel:"Cancel",apply:"Apply",oddEven:"Odd/Even pages",whichContent:"Which content do you wish to edit?",oddPages:"Odd pages",evenPages:"Even pages"},it:{clickToEdit:"Clicca qui per modificare",clickToEditField:"Clicca qui per modificare il campo",clickToEditHeader:"Clicca qui per modificare l'intestazione",clickToEditFooter:"Clicca qui per modificare il piè di pagina",textEditor:"Modifica testo",fieldEditor:"Modifica campo",sectionOptions:"Opzioni",sectionMargins:"Imposta margini",removeSection:"Elimina sezione",removeSection_Warning:"Confermi l'eliminazione della sezione?",removeSection_Forbidden:"La sezione non può essere rimossa. Il documento deve contenere almeno una sezione.",addSectionBefore:"Inserisci sezione prima",addSectionAfter:"Inserisci sezione dopo",sortSections:"Cambia ordine sezioni",sortSections_Prompt:"Riordinare le sezioni trascinandole su e giù.",invalidValuesFound:"Trovati valori non validi. Correggere e riprovare.",bodyMargins:"Margini pagina",defaultMargin:"Margine predefinito",defaultMargin_Notes:"Esempio: 2.5cm. Usato solo quando manca almeno uno dei margini sinistro/destro/inferiore/superiore.",topMargin:"Margine superiore",topMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",bottomMargin:"Margine inferiore",bottomMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",leftMargin:"Margine sinistro",leftMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",rightMargin:"Margine destro",rightMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",headerMargins:"Margini ed altezza dell'intestazione",footerMargins:"Margini ed altezza del piè di pagina",height:"Altezza",error:"Errore",ok:"OK",cancel:"Annulla",apply:"Applica",oddEven:"Pagine dispari/pari",whichContent:"Quale testo si desidera modificare?",oddPages:"Pagine dispari",evenPages:"Pagine pari"}},jpvs.makeWidget({widget:jpvs.DocumentEditor,type:"DocumentEditor",cssClass:"DocumentEditor",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){jpvs.DocumentEditor.strings=jpvs.DocumentEditor.allStrings[jpvs.currentLocale()]},canAttachTo:function(e){return!1},prototype:{document:jpvs.property({get:function(){return this.element.data("document")},setTask:function(e){return this.element.data("document",e),this.element.empty(),t(this)}}),fields:jpvs.property({get:function(){var e=this.document();return e&&e.fields},set:function(e){d(this,e)}}),richTextEditor:jpvs.property({get:function(){return this.element.data("richTextEditor")},set:function(e){this.element.data("richTextEditor",e)}}),fieldEditor:jpvs.property({get:function(){return this.element.data("fieldEditor")},set:function(e){this.element.data("fieldEditor",e)}}),fieldDisplayMapper:jpvs.property({get:function(){return this.element.data("fieldDisplayMapper")},set:function(e){this.element.data("fieldDisplayMapper",e)}}),allowEvenOddHeadersFooters:jpvs.property({get:function(){return this.element.data("allowEvenOddHeadersFooters")},set:function(e){this.element.data("allowEvenOddHeadersFooters",e)}})}});var s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"};function f(e,t){var n=t;$.each(s,function(e,t){n=n.replace(e,t)}),jpvs.write(e,n)}function A(t,n,i,r){var e=t.richTextEditor()||{editText:function(e,t){var n=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.textEditor).close(function(){this.destroy()}),i=jpvs.MultiLineTextBox.create(n);i.text(e),i.element.attr({rows:10,cols:50}),jpvs.writeButtonBar(n,[{text:jpvs.DocumentEditor.strings.ok,click:function(){n.hide(function(){t(i.text()),n.destroy()})}},{text:jpvs.DocumentEditor.strings.cancel,click:function(){n.destroy(),t()}}]),n.show(function(){i.focus()})}};e.editText.call(e,n,function(e){void 0!==e&&e!=n&&(i(e),x(t,r),t.change.fire(t))})}function m(t,n,i){return function(){var e={margins:{},header:{margins:{}},footer:{margins:{}},body:{highlight:!0}};i>=n.length?n.push(e):n.splice(i,0,e),a(t),t.change.fire(t)}}}(),jpvs.DropDownList=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.DropDownList,type:"DropDownList",cssClass:"DropDownList",create:function(e){var t=document.createElement("select");return $(e).append(t),t},init:function(e){this.element.change(function(){return e.change.fire(e)})},canAttachTo:function(e){return $(e).is("select")},prototype:{clearItems:function(){return this.element.empty(),this},addItem:function(e,t){var n=e,t=null!=t?t:e;return null!=n&null!=t&&(e=document.createElement("option"),$(e).attr("value",n).text(t).appendTo(this.element)),this},addItems:function(e){var n=this;return $.each(e,function(e,t){null!=t&&(null!=t.value?n.addItem(t.value,t.text):n.addItem(t))}),this},count:function(){return this.element.find("option").length},selectedValue:jpvs.property({get:function(){return this.element.val()},set:function(e){this.element.val(e)}})}}),function(){function a(e){e.inputFileElement&&e.inputFileElement.remove();var n,t=document.createElement("input");$(t).attr({id:e.inputFileElementID,type:"file",name:"PostedFile"}),e.oldStyleForm.appendChild(t),e.inputFileElement=$(t).change((n=e,function(){var e,t=$(n.inputFileElement)[0];t.files?(e=t.files[0],n.fileselected.fire(n,null,e)):n.fileselected.fire(n,null,{name:t.value})})).css({position:"absolute",top:"-100em",left:"-100em"})}function o(e){var t=e.file();e.posting?(e.lbl.show(),e.lbl.find(".Icon").show().attr("src",jpvs.Resources.images.loading),e.lbl.find(".Text").show().text(e.progress),e.lnkSelect.hide(),e.lnkRename.hide(),e.lnkRemove.hide()):t?(e.lbl.show(),t.icon?e.lbl.find(".Icon").show().attr("src",t.icon):e.lbl.find(".Icon").hide(),t.label?e.lbl.find(".Text").show().text(t.label):e.lbl.find(".Text").hide(),e.lnkSelect.show(),e.allowRename()?e.lnkRename.show():e.lnkRename.hide(),e.lnkRemove.show()):(e.lbl.hide(),e.lnkSelect.show(),e.lnkRename.hide(),e.lnkRemove.hide()),e.enabled()||(e.lnkSelect.hide(),e.lnkRename.hide(),e.lnkRemove.hide())}jpvs.FileBox=function(e){this.attach(e),this.fileselected=jpvs.event(this),this.filedeleted=jpvs.event(this),this.filerename=jpvs.event(this)},jpvs.FileBox.allStrings={en:{show:"Show",select:"Insert...",remove:"Remove",rename:"Rename..."},it:{show:"Visualizza",select:"Inserisci...",remove:"Rimuovi",rename:"Rinomina..."}},jpvs.makeWidget({widget:jpvs.FileBox,type:"FileBox",cssClass:"FileBox",create:function(e){var t=document.createElement("span");return $(e).append(t),t},init:function(e){var t,n,i;jpvs.FileBox.strings=jpvs.FileBox.allStrings[jpvs.currentLocale()],this.inputFileElementID=jpvs.randomString(20),this.lbl=jpvs.writeTag(this.element,"label").click((t=e,function(){var e=t.file();e&&e.url&&window.open(e.url)})),jpvs.writeTag(this.lbl,"img").addClass("Icon"),jpvs.writeTag(this.lbl,"span").addClass("Text"),e.lnkSelect=jpvs.writeTag(this,"label",jpvs.FileBox.strings.select).attr("for",this.inputFileElementID).addClass("LinkButton"),e.lnkRename=jpvs.writeTag(this,"label",jpvs.FileBox.strings.rename).addClass("LinkButton").click((n=e,function(){n.filerename.fire(n)})),e.lnkRemove=jpvs.writeTag(this,"label",jpvs.FileBox.strings.remove).addClass("LinkButton").click((i=e,function(){i.file(null),a(i),i.filedeleted.fire(i)}));var r=jpvs.randomString(10),s=document.createElement("iframe");s.name=r,e.element[0].appendChild(s),this.oldStyleIframe=s,$(s).css("display","none");s=document.createElement("form");s.target=r,s.method="POST",s.enctype="multipart/form-data",s.encoding="multipart/form-data",e.element[0].appendChild(s),this.oldStyleForm=s,a(this),o(e)},canAttachTo:function(e){return!1},prototype:{enabled:jpvs.property({get:function(){return!1!==this.element.data("enabled")},set:function(e){this.element.data("enabled",e),o(this)}}),allowRename:jpvs.property({get:function(){return!!this.element.data("allowRename")},set:function(e){this.element.data("allowRename",e),o(this)}}),file:jpvs.property({get:function(){return this.element.data("file")},set:function(e){this.element.data("file",e),o(this)}}),postFile:function(e,t){var n;n=this,e=e,t=t,($(n.inputFileElement)[0].files?function(t,e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(t.posting=!1,a(t),o(t),n&&n(i.responseText,i.status))},i.upload.onprogress=function(e){e.lengthComputable&&(e=Math.round(100*e.loaded/e.total),t.progress=e+"%",o(t))},t.posting=!0,t.progress="0%",o(t);var r=$(t.inputFileElement)[0].files&&$(t.inputFileElement)[0].files[0];if(r){i.open("POST",e),i.setRequestHeader("Content-Type",r.type);try{i.setRequestHeader("FileName",r.name)}catch(e){}var s=(new TextEncoder).encode(r.name).join(" ");i.setRequestHeader("FileNameUtf8",s),i.send(r)}else i.open("POST",e),i.setRequestHeader("FileNull","true"),i.send()}:function(t,e,n){t.oldStyleIframe.onreadystatechange=function(){var e;"complete"==t.oldStyleIframe.readyState&&(t.posting=!1,a(t),o(t),e=t.oldStyleIframe.contentDocument.body.innerText,n&&n(e,200))},t.posting=!0,t.progress="0%",o(t),t.oldStyleForm.action=e,t.oldStyleForm.submit()})(n,e,t)}}})}(),jpvs.ImageButton=function(e){this.attach(e),this.click=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.ImageButton,type:"ImageButton",cssClass:"ImageButton",create:function(e){var t=document.createElement("img");return $(t).attr("src",jpvs.Resources.images.empty16x16),$(e).append(t),t},init:function(e){var t=this.element.attr("src"),n=this.element.data("jpvsHover");this.imageUrls({normal:t,hover:n}),this.element.hover(function(){e.element.attr("src",e.getHoverImage())},function(){e.element.attr("src",e.getNormalImage())}),this.element.click(function(){return e.click.fire(e)})},canAttachTo:function(e){return!1},prototype:{imageUrls:jpvs.property({get:function(){return this.element.data("images")},set:function(e){this.element.data("images",e),this.element.attr("src",this.getNormalImage())}}),getNormalImage:function(){var e=this.imageUrls();return e?"string"==typeof e?e:e.normal||"":""},getHoverImage:function(){var e=this.imageUrls();return e?"string"==typeof e?e:e.hover||e.normal||"":""}}}),function(){function r(){$("div.LayoutPane-Resizer").remove(),function o(l){for(var e in l.panes){var t=l.panes[e],n=(t.anchor()||"fill").toLowerCase(),i=(t.size()||"auto").toLowerCase(),r=t.resizable(),s=t.scrollable(),e=c(t.element);a(t.element,n,i,s,e),r&&((r=jpvs.writeTag("body","div")).data("LayoutPane",t),"left"==n||"right"==n?(a(r,n,"10px",!1,[]),r.addClass("LayoutPane-Resizer LayoutPane-VerticalResizer")):"top"!=n&&"bottom"!=n||(a(r,n,"10px",!1,[]),r.addClass("LayoutPane-Resizer LayoutPane-HorizontalResizer")),r.css("overflow","hidden"))}function a(e,t,n,i,r){var s,a;0<r.length&&"fill"!=t&&"auto"==n?e.empty().text("Error: since nested LayoutPane's are present, the combination "+t+"/"+n+" is not supported. Please set an explicit size for this LayoutPane."):(e.css({position:"fixed",overflow:i?"auto":"hidden"}),"top"==t?(e.css({left:l.x1+"px",right:l.x2+"px",top:l.y1+"px",bottom:"auto",height:n}),s=e.outerHeight(),o({panes:r,x1:l.x1,x2:l.x2,y1:l.y1,y2:$(window).height()-(l.y1+s)}),l.y1+=s):"bottom"==t?(e.css({left:l.x1+"px",right:l.x2+"px",top:"auto",bottom:l.y2+"px",height:n}),s=e.outerHeight(),o({panes:r,x1:l.x1,x2:l.x2,y1:$(window).height()-(l.y2+s),y2:l.y2}),l.y2+=s):"left"==t?(e.css({left:l.x1+"px",right:"auto",top:l.y1+"px",bottom:l.y2+"px",width:n}),a=e.outerWidth(),o({panes:r,x1:l.x1,x2:$(window).width()-(l.x1+a),y1:l.y1,y2:l.y2}),l.x1+=a):"right"==t?(e.css({left:"auto",right:l.x2+"px",top:l.y1+"px",bottom:l.y2+"px",width:n}),a=e.outerWidth(),o({panes:r,x1:$(window).width()-(l.x2+a),x2:l.x2,y1:l.y1,y2:l.y2}),l.x2+=a):"fill"==t?(e.css({left:l.x1+"px",right:l.x2+"px",top:l.y1+"px",bottom:l.y2+"px"}),o({panes:r,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2})):e.empty().text("Invalid anchor for LayoutPane: "+t),(s=jpvs.find(e))&&(n=e.offset(),a=n.left,r=n.top,t=e.outerWidth(),n=e.outerHeight(),e=s.oldCoordinates||{x:-1,y:-1,w:-1,h:-1},!s.resize||a==e.x&&r==e.y&&t==e.w&&n==e.h||s.resize.fire(s),s.oldCoordinates={x:a,y:r,w:t,h:n}))}}({x1:0,x2:0,y1:0,y2:0,panes:function(){var e=$("div.LayoutPane").first();for(;n(e);)e=e.parent();return c(e)}()})}function c(e){var t=[];return e.children("div.LayoutPane:visible").each(function(){var e=n($(this));e&&t.push(e)}),t}function n(e){e=jpvs.find(e);return e&&"LayoutPane"==e.toString()?e:null}$(window).on("resize",r),$(document).on("mousedown",function(e){if($(e.target).is(".LayoutPane-Resizer"))return t(e.clientX,e.clientY,e.target),!1}),$(document).on("mousemove",function(e){if(s.dragging)return i(e.clientX,e.clientY),!1}),$(document).on("mouseup",function(e){if(s.dragging)return a(e.clientX,e.clientY),!1}),jpvs.addGestureListener(document,{allowedEventTargets:function(e){return $(e).is(".LayoutPane-Resizer")}},function(e){e.isDrag&&!s.dragging&&$(e.target).is(".LayoutPane-Resizer")?t(e.start.clientX,e.start.clientY,e.target):e.isDrag&&s.dragging?i(e.current.clientX,e.current.clientY):e.isEndDrag&&s.dragging&&a(e.current.clientX,e.current.clientY)}),jpvs.LayoutPane=function(e){this.attach(e),this.resize=jpvs.event(this)},jpvs.LayoutPane.refresh=r,jpvs.makeWidget({widget:jpvs.LayoutPane,type:"LayoutPane",cssClass:"LayoutPane",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){r()},canAttachTo:function(e){return!1},prototype:{anchor:jpvs.property({get:function(){return(this.element.data("anchor")||"fill").toLowerCase()},set:function(e){this.element.data("anchor",e),r()}}),size:jpvs.property({get:function(){return(this.element.data("size")||"auto").toLowerCase()},set:function(e){this.element.data("size",e),r()}}),resizable:jpvs.property({get:function(){var e=this.element.data("resizable");return 1==e||"true"==e},set:function(e){this.element.data("resizable",e),r()}}),scrollable:jpvs.property({get:function(){var e=this.element.data("scrollable");return null==e||(1==e||"true"==e)},set:function(e){this.element.data("scrollable",e),r()}}),addClass:function(e){return this.element.addClass(e),this},actualSizePx:function(){var e=this.anchor();return"left"==e||"right"==e?this.element.outerWidth():"top"==e||"bottom"==e?this.element.outerHeight():void 0}}});var s={};function t(e,t,n){s.dragging=!0,s.x0=e,s.y0=t,s.pane=$(n).data("LayoutPane"),s.resizer=$(n),s.originalSizePx=s.pane.actualSizePx(),s.originalResizerPosition=$(n).offset()}function i(e,t){var n,i=s.pane&&s.pane.anchor();"left"==i||"right"==i?(n=e-s.x0,e=s.originalResizerPosition.left+n,$(s.resizer).css("left",e+"px")):"top"!=i&&"bottom"!=i||(n=t-s.y0,n=s.originalResizerPosition.top+n,$(s.resizer).css("top",n+"px"))}function a(e,t){s.dragging=!1;var n,i=s.pane&&s.pane.anchor();"left"==i?(n=e-s.x0,s.pane.size(s.originalSizePx+n+"px")):"right"==i?(n=e-s.x0,s.pane.size(s.originalSizePx-n+"px")):"top"==i?(n=t-s.y0,s.pane.size(s.originalSizePx+n+"px")):"bottom"==i&&(n=t-s.y0,s.pane.size(s.originalSizePx-n+"px")),r()}}(),jpvs.LinkButton=function(e){this.attach(e),this.click=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.LinkButton,type:"LinkButton",cssClass:"LinkButton",create:function(e){var t=document.createElement("a");return $(e).append(t),t},init:function(t){t.element.attr("href","#"),this.element.click(function(e){return e.preventDefault(),!!t.enabled()&&t.click.fire(t)})},canAttachTo:function(e){return!1},prototype:{text:jpvs.property({get:function(){return this.element.text()},set:function(e){this.element.text(e)}}),enabled:jpvs.property({get:function(){return!1!==this.element.data("enabled")},set:function(e){this.element.data("enabled",!!e),e?this.removeState(jpvs.states.DISABLED):this.addState(jpvs.states.DISABLED)}})}}),function(){var h={};function e(t){return jpvs.property({get:function(){var e=this.element.data(t);return e?"string"!=typeof e?e:e.split(","):[]},set:function(e){this.element.data(t,e)}})}function c(e,t,n){var i;return"function"==typeof e?i=e:"string"==typeof e&&(i=n[e]),i=i||(0==t?n.Default_Level0:n.Default_OtherLevels)}function p(e){!function n(e){if(!e)return;e.hideIfNonRoot();var e=e.getChildren();$.each(e,function(e,t){n(t)})}(e.rootElement)}function t(e){e=$(e.currentTarget);e.data("menuItem")!==jpvs.Menu.Separator&&e.addClass("Item-Hover")}function n(e){$(e.currentTarget).removeClass("Item-Hover")}function i(e){var t=$(e.target).closest(".Menu .Item"),n=t.closest(".Menu");0==t.length?$.each(h,function(e,t){p(t)}):(e=t.data("menuItem"))!==jpvs.Menu.Separator&&(n=jpvs.find(n),(t=t.data("subMenu"))?t.show():p(n),n.click.fire(n,null,e),e&&e.click&&e.click.call(e,e),e&&e.href&&(window.location=e.href))}$(document).ready(function(){try{$(document).on("mouseover.jpvsMenu",".Menu .Item",t),$(document).on("mouseout.jpvsMenu",".Menu .Item",n),$(document).on("click.jpvsMenu",i)}catch(e){}}),jpvs.Menu=function(e){this.attach(e),this.click=jpvs.event(this)},jpvs.Menu.Separator={},jpvs.Menu.MenuElement=function(e,t,n,i,r){this.element=e,this.menuItems=t,this.level=n,this.isPopup=i,this.childrenAlignment=r,this.itemElements=e.find(".Item"),this.parentElement=null},jpvs.Menu.MenuElement.prototype.show=function(){$.each(h,function(e,t){p(t)});for(var e=[],t=this;null!=t;t=t.parentElement)e.unshift(t);for(var n,i,r,s,a,o=0;o<e.length;o++){var l,c,u,d=e[o];d.element.show(),d.isPopup&&d.parentElement&&(c=function(e,t){for(var n=0;n<e.itemElements.length;n++){var i=$(e.itemElements[n]);if(i.data("subMenu")===t)return i}}(l=d.parentElement,d),"right"==l.childrenAlignment?d.element.position({my:"left top",at:"right top",of:c,collision:"flipfit"}):"bottom"==l.childrenAlignment?d.element.position({my:"left top",at:"left bottom",of:c,collision:"flipfit"}):(a=s=void 0,s=(r=c).offset(),a=r.outerWidth(),r=r.outerHeight(),u={x:s.left,y:s.top,w:a,h:r},n=u,u="right"==(i=l.childrenAlignment)?{x:n.x+n.w,y:n.y}:"bottom"==i?{x:n.x,y:n.y+n.h}:n,d.element.css({position:"absolute",left:u.x+"px",top:u.y+"px"}),jpvs.fitInWindow(d.element)))}},jpvs.Menu.MenuElement.prototype.hide=function(){this.element.hide()},jpvs.Menu.MenuElement.prototype.hideIfNonRoot=function(){0!=this.level&&this.element.hide()},jpvs.Menu.MenuElement.prototype.getChildren=function(){var n=[];return $.each(this.itemElements,function(e,t){t=$(t).data("subMenu");n.push(t)}),n},jpvs.Menu.Templates={HorizontalMenuBar:function(e){var t=e.items,i=e.itemTemplate,n=e.level,e=jpvs.Table.create(this).addClass("HorizontalMenuBar").addClass("HorizontalMenuBar-Level"+n),r=e.writeBodyRow();return $.each(t,function(e,t){var n=r.writeCell().addClass("Item");jpvs.applyTemplate(n,i,t)}),new jpvs.Menu.MenuElement(e.element,t,0!=n,!1,"bottom")},VerticalMenuBar:function(e){var t=e.items,i=e.itemTemplate,e=e.level,r=jpvs.Table.create(this).addClass("VerticalMenuBar").addClass("VerticalMenuBar-Level"+e);return $.each(t,function(e,t){var n=r.writeBodyRow();n.element.addClass("Item"),jpvs.applyTemplate(n,i,t)}),new jpvs.Menu.MenuElement(r.element,t,0!=e,!1,"right")},PopupMenu:function(e){var t=e.items,i=e.itemTemplate,e=e.level,r=jpvs.Table.create(this).addClass("PopupMenu").addClass("PopupMenu-Level"+e);return $.each(t,function(e,t){var n=r.writeBodyRow();n.element.addClass("Item"),jpvs.applyTemplate(n,i,t)}),new jpvs.Menu.MenuElement(r.element,t,0!=e,!0,"right")}},jpvs.Menu.ItemTemplates={HorizontalMenuBarItem:function(e){e===jpvs.Menu.Separator?(this.addClass("Separator"),jpvs.write(this,"|")):(jpvs.write(this,e&&e.text),e&&e.tooltip&&this.attr("title",e.tooltip))},VerticalMenuBarItem:function(e){jpvs.Menu.ItemTemplates.PopupMenuItem.call(this,e)},PopupMenuItem:function(e){var t,n,i;e===jpvs.Menu.Separator?(this.addClass("Separator"),i=jpvs.writeTag(this,"td").attr("colspan",3),jpvs.writeTag(i,"hr")):(t=jpvs.writeTag(this,"td").addClass("Icon"),n=jpvs.writeTag(this,"td",e&&e.text).addClass("Text"),i=jpvs.writeTag(this,"td").addClass("SubMenu"),e&&e.tooltip&&n.attr("title",e.tooltip),e&&e.icon&&jpvs.writeTag(t,"img").attr("src",e.icon),e&&e.items&&e.items.length&&jpvs.writeTag(i,"img").attr("src",jpvs.Resources.images.subMenuMarker))}},jpvs.Menu.Templates.Default_Level0=jpvs.Menu.Templates.HorizontalMenuBar,jpvs.Menu.Templates.Default_OtherLevels=jpvs.Menu.Templates.PopupMenu,jpvs.Menu.ItemTemplates.Default_Level0=jpvs.Menu.ItemTemplates.HorizontalMenuBarItem,jpvs.Menu.ItemTemplates.Default_OtherLevels=jpvs.Menu.ItemTemplates.PopupMenuItem,jpvs.makeWidget({widget:jpvs.Menu,type:"Menu",cssClass:"Menu",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){var t,t=(function i(e,r,s){var e=$(e).contents();e.each(function(){var e,t=this,n=$(this);3==t.nodeType?r&&(r.text=a(r.text,n.text())):1==t.nodeType&&("ul"==(e=t.nodeName.toLowerCase())||"ol"==e?i(t,null,s):"a"==e?r&&(r.text=a(r.text,n.text()),r.href=n.attr("href")):"button"==e?r&&(r.text=a(r.text,n.text()),r.click=t.onclick):(n=r,r={text:"",items:[]},s.push(r),i(t,r,r.items),r=n))})}(this.element,null,t=[]),function e(t){if(!t)return;for(var n=0;n<t.length;n++){var i=t[n],r=null!=i.text&&""!=$.trim(i.text),s=null!=i.items&&0!=i.items.length;r||s||(t[n]=jpvs.Menu.Separator),e(i.items)}}(t),t);function a(e,t){return e=$.trim(e)+" "+$.trim(t),$.trim(e)}this.element.empty(),this.menuItems(t),this.ensureId(),h[this.id()]=this},canAttachTo:function(e){return!1},prototype:{template:e("jpvsTemplate"),itemTemplate:e("jpvsItemTemplate"),menuItems:jpvs.property({get:function(){return this.element.data("menuItems")},set:function(e){this.element.data("menuItems",e),function(e,t){e.element.empty();var n=e.template(),i=e.itemTemplate();e.rootElement=function n(i,r,s,a,e){if(e&&0!=e.length){var t=c(r[a],a,jpvs.Menu.Templates),o=c(s[a],a,jpvs.Menu.ItemTemplates),o=jpvs.applyTemplate(i,t,{items:e,itemTemplate:o,level:a});0==a?o.show():o.hide();var l=o.element.find(".Item");return $.each(e,function(e,t){(e=l[e])&&((e=$(e)).data("menuItem",t),(t=n(i,r,s,a+1,t&&t.items))&&e.data("subMenu",t))}),o}}(e.element,n,i,0,t),function n(e,i){i&&(i.parentElement=e,e=i.getChildren(),$.each(e,function(e,t){n(i,t)}))}(null,e.rootElement)}(this,e)}})}})}(),jpvs.MultiLineTextBox=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.MultiLineTextBox,type:"MultiLineTextBox",cssClass:"MultiLineTextBox",create:function(e){var t=document.createElement("textarea");return $(e).append(t),t},init:function(e){this.element.change(function(){return e.change.fire(e)})},canAttachTo:function(e){return $(e).is("textarea")},prototype:{text:jpvs.property({get:function(){return this.element.val()},set:function(e){this.element.val(e)}})}}),function(){function h(e){return e.element.data("items")}function p(e,t){e.element.data("items",t)}function i(e){var e=h(e),n=[];return $.each(e,function(e,t){t.selected&&n.push(t)}),n}function f(e){var t=i(e),n=e.labelTemplate()||function(e){var t,n=[];for(t in e)n.push(e[t].text||"");jpvs.write(this,n.join(", "))};jpvs.applyTemplate(e.label.empty(),n,t)}jpvs.MultiSelectBox=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.MultiSelectBox.allStrings={en:{selectAll:"Select all",unselectAll:"Unselect all"},it:{selectAll:"Seleziona tutto",unselectAll:"Deseleziona tutto"}},jpvs.makeWidget({widget:jpvs.MultiSelectBox,type:"MultiSelectBox",cssClass:"MultiSelectBox",create:function(e){var t=document.createElement("table");return $(e).append(t),t},init:function(e){jpvs.MultiSelectBox.strings=jpvs.MultiSelectBox.allStrings[jpvs.currentLocale()];var i=[];this.element.find("option").each(function(){var e=$(this),t=e.val(),n=e.text(),e=e.prop("selected");i.push({value:t,text:n,selected:e})});var t=this.element.data(),n=jpvs.writeTag(this.element.parent(),"table");n.insertAfter(this.element),this.element.remove(),n.attr("id",this.element.attr("id")),n.attr("class",this.element.attr("class")),this.element=n,this.element.data(t),p(e,i);t=jpvs.writeTag(e,"tbody"),t=jpvs.writeTag(t,"tr");this.label=jpvs.writeTag(t,"td"),this.label.addClass("Label");t=jpvs.writeTag(t,"td");t.addClass("ButtonContainer"),this.button=jpvs.Button.create(t).text("..."),this.element.click(function(){!function(r){var s=h(r),e=jpvs.Popup.create().addState("MultiSelectBox").title(null).modal(!1).position({my:"left top",at:"left bottom",of:r.label,collision:"fit",position:"absolute"});e.autoDestroy(!0);var t=r.prompt();t&&jpvs.writeln(e,t);jpvs.LinkButton.create(e).text(jpvs.MultiSelectBox.strings.selectAll).click(function(){n(!0)}),jpvs.write(e," "),jpvs.LinkButton.create(e).text(jpvs.MultiSelectBox.strings.unselectAll).click(function(){n(!1)}),jpvs.writeln(e);var t=r.containerTemplate()||function(){return jpvs.writeTag(this,"ul")},a=jpvs.applyTemplate(e,t),o=r.itemTemplate()||function(e){var t=jpvs.writeTag(this,"li").addClass(e.group?"GroupItem":""),n=jpvs.CheckBox.create(t).text(e.text).change(function(){i.change.fire(i)}),i={selected:jpvs.property({get:function(){return n.checked()},set:function(e){n.checked(e)}}),change:jpvs.event(r)};return i},l=r.groupTemplate()||function(r){var e=jpvs.writeTag(this,"li").addClass("GroupHeader");jpvs.LinkButton.create(e).text(r.group).click(function(){for(var e=function(e){for(var t=[],n=[],i=0;i<s.length;i++)(s[i].group||"")==e&&(t.push(s[i]),n.push(c[i]));return{groupItems:t,groupItemObjects:n}}(r.group),t=0,n=0;n<e.groupItems.length;n++)e.groupItems[n].selected&&t++;for(var i=t<e.groupItems.length,n=0;n<e.groupItems.length;n++)e.groupItems[n].selected=i,e.groupItemObjects[n].selected(i);d()})},c=[],u="";function n(e){for(var t=0;t<s.length;t++){var n=s[t];c[t].selected(e),n.selected=e}d()}function d(){p(r,s),f(r),r.change.fire(r)}$.each(s,function(e,t){var n=t.group||"";n.toUpperCase()!=u.toUpperCase()&&(jpvs.applyTemplate(a,l,{group:n}),u=n);var i,r,n=jpvs.applyTemplate(a,o,t);c.push(n),n.selected(!!t.selected),n.change((i=n,r=t,function(){r.selected=i.selected(),d()}))}),e.show()}(e)}),f(e)},canAttachTo:function(e){return!1},prototype:{caption:jpvs.property({get:function(){return this.element.data("caption")},set:function(e){this.element.data("caption",e)}}),prompt:jpvs.property({get:function(){return this.element.data("prompt")},set:function(e){this.element.data("prompt",e)}}),containerTemplate:jpvs.property({get:function(){return this.element.data("containerTemplate")},set:function(e){this.element.data("containerTemplate",e)}}),itemTemplate:jpvs.property({get:function(){return this.element.data("itemTemplate")},set:function(e){this.element.data("itemTemplate",e)}}),groupTemplate:jpvs.property({get:function(){return this.element.data("groupTemplate")},set:function(e){this.element.data("groupTemplate",e)}}),labelTemplate:jpvs.property({get:function(){return this.element.data("labelTemplate")},set:function(e){this.element.data("labelTemplate",e),f(this)}}),clearItems:function(){return p(this,[]),f(this),this},addItem:function(e,t,n,i){var r=e,t=null!=t?t:e;return null!=r&null!=t&&((e=h(this)).push({value:r,text:t,selected:!!n,group:i}),p(this,e),f(this)),this},addItems:function(e){var n=this;return $.each(e,function(e,t){null!=t&&(null!=t.value?n.addItem(t.value,t.text,t.selected,t.group):n.addItem(t))}),this},count:function(){return h(this).length},selectedValues:jpvs.property({get:function(){return e=i(e=this),n=[],$.each(e,function(e,t){n.push(t.value)}),n;var e,n},set:function(e){var t,n,i;n=e,e=h(t=this),i={},$.each(e,function(e,t){t.selected=!1,i[t.value]=t}),$.each(n,function(e,t){t=i[t];t&&(t.selected=!0)}),p(t,e),f(t)}}),selectedValuesString:jpvs.property({get:function(){return this.selectedValues().join(",")},set:function(e){e=$.trim(e);""!=e?this.selectedValues(e.split(",")):this.selectedValues([])}})}})}(),function(){function t(e){e.lnkFirst.enabled(0<e.page()),e.lnkPrev.enabled(0<e.page()),null!=e.totalPages()?(e.lnkNext.enabled(e.page()<e.totalPages()-1),e.lnkLast.enabled(e.page()<e.totalPages()-1),e.lnkLast.element.show()):(e.lnkNext.enabled(!0),e.lnkLast.enabled(!1),e.lnkLast.element.hide())}jpvs.Pager=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.Pager.allStrings={en:{firstPage:"First page",previousPage:"Previous page",nextPage:"Next page",lastPage:"Last page",pag:"Page"},it:{firstPage:"Prima pagina",previousPage:"Pagina precedente",nextPage:"Pagina successiva",lastPage:"Ultima pagina",pag:"Pag."}},jpvs.makeWidget({widget:jpvs.Pager,type:"Pager",cssClass:"Pager",create:function(e){var t=document.createElement("table");return $(e).append(t),t},init:function(t){var n,e=jpvs.writeTag(t.element,"tbody"),i=jpvs.writeTag(e,"tr"),r=jpvs.writeTag(i,"td"),s=jpvs.writeTag(i,"td"),a=jpvs.writeTag(i,"td"),e=jpvs.writeTag(i,"td"),i=jpvs.writeTag(i,"td");jpvs.Pager.strings=jpvs.Pager.allStrings[jpvs.currentLocale()],t.lnkFirst=jpvs.LinkButton.create(r).text(jpvs.Pager.strings.firstPage).click(function(){null!=t.totalPages()?t.page(Math.min(0,t.totalPages()-1)):t.page(0),t.change.fire(t)}),t.lnkNext=jpvs.LinkButton.create(e).text(jpvs.Pager.strings.nextPage).click(function(){null!=t.totalPages()?t.page(Math.min(t.page()+1,t.totalPages()-1)):t.page(t.page()+1),t.change.fire(t)}),t.lnkPrev=jpvs.LinkButton.create(s).text(jpvs.Pager.strings.previousPage).click(function(){t.page(Math.max(0,t.page()-1)),t.change.fire(t)}),t.lnkLast=jpvs.LinkButton.create(i).text(jpvs.Pager.strings.lastPage).click(function(){null!=t.totalPages()&&(t.page(t.totalPages()-1),t.change.fire(t))}),t.cmbPages=jpvs.DropDownList.create(a).change(function(){var e=parseInt(this.selectedValue());t.page(Math.min(e,t.totalPages()-1)),t.change.fire(t)}),t.pnl=jpvs.writeTag(a,"div").css({"white-space":"nowrap",display:"none"}),jpvs.write(t.pnl,jpvs.Pager.strings.pag+" "),t.txt=jpvs.TextBox.create(t.pnl).width("3em"),t.txt.element.css("text-align","right").on("keydown",(n=t,function(e){40==e.which?(n.page(n.page()+1),n.change.fire(n)):38==e.which?(n.page(n.page()-1),n.change.fire(n)):13==e.which&&(n.page(parseInt(n.txt.text())-1),n.change.fire(n))})),t.lblTot=jpvs.writeTag(t.pnl,"span")},canAttachTo:function(e){return!1},prototype:{page:jpvs.property({get:function(){return this.element.data("page")||0},set:function(e){null!=e&&isFinite(e)&&0<=e&&(null==this.totalPages()||e<this.totalPages())&&(this.element.data("page",e),this.cmbPages.selectedValue(e.toString()),this.txt.text((e+1).toString()),t(this))}}),totalPages:jpvs.property({get:function(){var e=this.element.data("totalPages");return void 0!==e?e:null},set:function(e){this.totalPages()==e&&null!=e||(this.element.data("totalPages",e),function(e,t){if(e.cmbPages.clearItems(),null!=t&&t<=50){e.useDropDown=!0,e.cmbPages.element.show(),e.pnl.hide();for(var n=0;n<t;n++)e.cmbPages.addItem(n.toString(),jpvs.Pager.strings.pag+" "+(n+1)+" / "+t)}else e.useDropDown=!1,e.cmbPages.element.hide(),e.pnl.show(),null!=t?(e.lblTot.text(" / "+t.toString()),e.lblTot.show()):e.lblTot.hide()}(this,e),t(this)),null!=e&&0<e&&this.page()>=e&&(this.page(e-1),this.change.fire(this))}})}})}(),jpvs.PasswordBox=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.PasswordBox,type:"PasswordBox",cssClass:"PasswordBox",create:function(e){var t=document.createElement("input");return $(t).attr("type","password"),$(e).append(t),t},init:function(e){this.element.change(function(){return e.change.fire(e)})},canAttachTo:function(e){return $(e).is('input[type="password"]')},prototype:{text:jpvs.property({get:function(){return this.element.val()},set:function(e){this.element.val(e)}}),width:jpvs.property({get:function(){return this.element.css("width")},set:function(e){this.element.css("width",e)}})}}),function(){var s={};function e(e){if(27==e.which){e=jpvs.Popup.getTopMost();if(e)return e.closeButton.click.fire(e),!1}}function t(e){var e=$(e.target).closest(".Popup"),n=e.length?e.attr("id"):"",i=(new Date).getTime()-500;$.each(s,function(e,t){t.open&&t.openTimestamp<i&&e!=n&&(t.autoHide&&t.widget.hide(),t.autoDestroy&&t.widget.destroy())})}$(document).ready(function(){try{$(document).on("click.jpvsPopup",t).on("keydown.jpvsPopup",e)}catch(e){}}),jpvs.Popup=function(e){this.attach(e),this.close=jpvs.event(this)},jpvs.Popup.getTopMost=function(){var i,r;return $.each(s,function(e,t){var n;t.open&&(n=t.widget.zIndex(),(!r||r<n)&&(i=t,r=n))}),i?i.widget:null},jpvs.makeWidget({widget:jpvs.Popup,type:"Popup",cssClass:"Popup",create:function(e){var t=document.createElement("div");return $(t).attr("id",jpvs.randomString(20)),$(e).append(t),t},init:function(e){s[this.element.attr("id")]={open:!1,autoDestroy:!1,autoHide:!1,widget:this};var t=this.element.contents();this.blanketElement=$(document.createElement("div")),this.blanketElement.addClass("DimScreen").css({position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%"}),this.element.append(this.blanketElement),this.contentsElement=$(document.createElement("div")),this.contentsElement.addClass("Contents").append(t),this.element.append(this.contentsElement),this.element.hide();var n=this.element.data("jpvsWidth");n&&this.contentsElement.css({width:n});t=this.contentsElement.children("h1").detach(),n=this.contentsElement.contents();this.titleElement=$(document.createElement("div")),this.titleElement.addClass("Title"),this.contentsElement.append(this.titleElement),this.bodyElement=$(document.createElement("div")),this.bodyElement.addClass("Body"),this.contentsElement.append(this.bodyElement),this.bodyElement.append(n),this.closeButton=jpvs.ImageButton.create(this.titleElement),this.closeButton.imageUrls({normal:jpvs.Resources.images.closeButton,hover:jpvs.Resources.images.closeButtonHover}),this.closeButton.click.bind(function(){e.hide(),e.close.fire(e)});var i,n=jpvs.writeTag(this.titleElement,"h1");n.append(t.contents()),this.contentsElement.draggable&&this.contentsElement.draggable({addClasses:!1,containment:"window",cursor:"move",handle:n,scroll:!1}),this.modal(!0),this.contentsElement.mousedown((i=this,function(){i.bringForward()}))},canAttachTo:function(e){return!1},destroy:function(){var e=this;return this.hide(function(){delete s[e.element.attr("id")],e.element.remove()}),!1},getMainContentElement:function(){return this.bodyElement},prototype:{modal:jpvs.property({get:function(){return this.element.data("modal")},set:function(e){this.element.data("modal",!!e)}}),autoHide:jpvs.property({get:function(){return!!s[this.element.attr("id")].autoHide},set:function(e){s[this.element.attr("id")].autoHide=!!e}}),autoDestroy:jpvs.property({get:function(){return!!s[this.element.attr("id")].autoDestroy},set:function(e){s[this.element.attr("id")].autoDestroy=!!e}}),position:jpvs.property({get:function(){return this.element.data("position")},set:function(e){this.element.data("position",e)}}),applyPosition:function(e){var t=this.contentsElement.outerWidth(),n=this.contentsElement.outerHeight(),i=$(window),r=i.width(),n=n-i.height(),i=t-r,t=this.bodyElement.width(),r=this.bodyElement.height();(5<i||5<n)&&(this.bodyElement.css("overflow","auto"),0<i&&this.bodyElement.css("width",(t-=i)+"px"),0<n&&this.bodyElement.css("height",(r-=n)+"px"));r=this.position()||{my:"center",at:"center",of:$(window),collision:"fit",position:"fixed"};return e?r.using=function(e){$(this).animate(e)}:delete r.using,this.contentsElement.css("position",r.position||"fixed").position(r),this},center:function(){return this.position(null),this.applyPosition(),this},show:function(e){var t=this;this.element.show(),this.contentsElement.show();var n=this.contentsElement.css("position");return"absolute"!=n&&"fixed"!=n&&this.applyPosition(!1),this.contentsElement.hide(),this.contentsElement.fadeIn(function(){t.applyPosition(!0),e&&e()}),this.modal()?this.blanketElement.show():this.blanketElement.hide(),s[this.element.attr("id")].open=!0,s[this.element.attr("id")].openTimestamp=(new Date).getTime(),this.bringForward(),this},hide:function(e){return s[this.element.attr("id")].open=!1,this.blanketElement.hide(),this.contentsElement.fadeOut(e),this},bringForward:function(){var e=jpvs.Popup.getTopMost();return e?e!==this&&this.zIndex(e.zIndex()+1):this.zIndex(1e4),"BODY"!=this.element.parent()[0].nodeName&&this.element.appendTo("body"),this},title:jpvs.property({get:function(){return this.titleElement.children("h1").text()},set:function(e){this.titleElement.children("h1").text(e),e?this.titleElement.show():this.titleElement.hide()}}),width:jpvs.property({get:function(){return this.contentsElement.width()},set:function(e){this.contentsElement.css("width",e)}}),maxWidth:jpvs.property({get:function(){return this.contentsElement.css("max-width")},set:function(e){this.contentsElement.css("max-width",e)}}),zIndex:jpvs.property({get:function(){var e=parseInt(this.contentsElement.css("zIndex"));return isFinite(e)?e:1e4},set:function(e){this.blanketElement.css("zIndex",e),this.contentsElement.css("zIndex",e)}})}}),jpvs.alert=function(){var e={title:jpvs.alert.defaultTitle,text:"",onclose:null,buttons:[{text:"OK"}]};4<=arguments.length?(e.title=arguments[0],e.text=arguments[1],e.onclose=arguments[2],e.buttons=arguments[3]):3==arguments.length?(e.title=arguments[0],e.text=arguments[1],arguments[2]&&arguments[2].length&&"string"!=typeof arguments[2]?e.buttons=arguments[2]:e.onclose=arguments[2]):2==arguments.length?arguments[1]&&arguments[1].length&&"string"!=typeof arguments[1]?(e.text=arguments[0],e.buttons=arguments[1]):(e.title=arguments[0],e.text=arguments[1]):1==arguments.length&&(e.text=arguments[0]);var r=jpvs.Popup.create();r.maxWidth("75%").title(e.title||null),jpvs.write(r.bodyElement,e.text),e.buttons&&$.each(e.buttons,function(e,t){var n,i;t&&(t.click=(n=r,i=t.click,function(){i&&i(),n.close.fire()}))}),jpvs.writeButtonBar(r.bodyElement,e.buttons),r.show(),r.center(),r.close.bind(function(){if(r.hide(),e.onclose)if("function"==typeof e.onclose)e.onclose();else if(e.onclose.__WIDGET__)e.onclose.focus();else try{$(e.onclose).focus()}catch(e){}setTimeout(function(){r.destroy()},5e3)})},jpvs.confirm=function(e,t,n,i,r,s){var a=!1;jpvs.alert(e,t,function(){a?n&&n():i&&i()},[{text:r||"OK",click:function(){a=!0}},{text:s||"Cancel",click:function(){a=!1}}])}}(),function(){function t(e){var t=parseFloat(null!=e.progress()?e.progress():50);isFinite(t)||(t=50),t=Math.max(0,t);var t=Math.min(100,t),n=e.text()||"",i=e.color(),r=e.width();r?e.element.css("width",r):e.element.css("width",null),e.divBack.css("width",t+"%"),i?e.divBack.css("background-color",i):e.divBack.css("background-color",null),e.divText.text(n)}jpvs.ProgressBar=function(e){this.attach(e)},jpvs.makeWidget({widget:jpvs.ProgressBar,type:"ProgressBar",cssClass:"ProgressBar",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){this.element.empty(),this.element.css({position:"relative"}),this.divBack=jpvs.writeTag(this,"div").addClass("Background").css({position:"absolute",top:"0px",left:"0px",height:"100%"}),this.divText=jpvs.writeTag(this,"div").addClass("Text").css({position:"absolute",top:"0px",left:"0px",height:"100%",width:"100%"}),t(this)},canAttachTo:function(e){return!1},prototype:{width:jpvs.property({get:function(){return this.element.data("width")},set:function(e){this.element.data("width",e),t(this)}}),progress:jpvs.property({get:function(){return this.element.data("progress")},set:function(e){this.element.data("progress",e),t(this)}}),text:jpvs.property({get:function(){return this.element.data("text")},set:function(e){this.element.data("text",e),t(this)}}),color:jpvs.property({get:function(){return this.element.data("color")},set:function(e){this.element.data("color",e),t(this)}})}})}(),function(){function n(e){return jpvs.Scheduler.strings[e]||"Error: "+e}function i(e,t){return function(){e.mode(t)}}function r(e){var t;!function(e){jpvs.find(e.pager.find("button")).each(function(){this.removeState("Active")});var t,n=e.mode();"day"==n?t=e.btnDay:"week"==n?t=e.btnWeek:"month"==n?t=e.btnMonth:"agenda"==n&&(t=e.btnAgenda);t&&t.addState("Active")}(e),(s[(t=e).mode()]||function(){jpvs.write(t.body,"Invalid mode: "+t.mode())})(t)}jpvs.Scheduler=function(e){this.attach(e),this.requireAdd=jpvs.event(this)},jpvs.Scheduler.allStrings={en:{today:"Today",day:"Day",week:"Week",month:"Month",agenda:"Agenda",add:"Add"},it:{today:"Oggi",day:"Giorno",week:"Settimana",month:"Mese",agenda:"Agenda",add:"Aggiungi"}},jpvs.makeWidget({widget:jpvs.Scheduler,type:"Scheduler",cssClass:"Scheduler",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){var t;jpvs.Scheduler.strings=jpvs.Scheduler.allStrings[jpvs.currentLocale()],e.pager=jpvs.writeTag(e,"div").addClass("Pager"),e.header=jpvs.writeTag(e,"div").addClass("Header"),e.body=jpvs.writeTag(e,"div").addClass("Body"),t=e,jpvs.Button.create(t.pager).text(n("today")).click(function(e){return function(){e.date(moment().format("YYYYMMDD"))}}(t)),jpvs.Button.create(t.pager).text("<").click(function(n){return function(){var e=n.mode(),t=moment(n.date(),"YYYYMMDD");"day"==e?t.add(-1,"days"):"week"==e?t.add(-7,"days"):"month"==e&&t.add(-1,"month"),n.date(t.format("YYYYMMDD"))}}(t)),jpvs.Button.create(t.pager).text(">").click(function(n){return function(){var e=n.mode(),t=moment(n.date(),"YYYYMMDD");"day"==e?t.add(1,"days"):"week"==e?t.add(7,"days"):"month"==e&&t.add(1,"month"),n.date(t.format("YYYYMMDD"))}}(t)),jpvs.writeTag(t.pager,"span"," ").addClass("Spacer"),t.btnDay=jpvs.Button.create(t.pager).text(n("day")).click(i(t,"day")),t.btnWeek=jpvs.Button.create(t.pager).text(n("week")).click(i(t,"week")),t.btnMonth=jpvs.Button.create(t.pager).text(n("month")).click(i(t,"month")),t.btnAgenda=jpvs.Button.create(t.pager).text(n("agenda")).click(i(t,"agenda")),jpvs.writeTag(t.pager,"span"," ").addClass("Spacer"),jpvs.Button.create(t.pager).text(n("add")).click(function(e){return function(){e.requireAdd.fire(e)}}(t)),r(e)},canAttachTo:function(e){return!1},prototype:{readDataFunction:jpvs.property({get:function(){return this.element.data("readDataFunction")},set:function(e){this.element.data("readDataFunction",e),r(this)}}),mode:jpvs.property({get:function(){return this.element.data("mode")||"day"},set:function(e){this.element.data("mode",e),r(this)}}),date:jpvs.property({get:function(){return this.element.data("date")||moment().format("YYYYMMDD")},set:function(e){this.element.data("date",e),r(this)}}),refresh:function(){r(this)},dayItemTemplate:jpvs.property({get:function(){return this.element.data("dayItemTemplate")||e},set:function(e){this.element.data("dayItemTemplate",e),r(this)}}),weekItemTemplate:jpvs.property({get:function(){return this.element.data("weekItemTemplate")||t},set:function(e){this.element.data("weekItemTemplate",e),r(this)}}),monthItemTemplate:jpvs.property({get:function(){return this.element.data("monthItemTemplate")||o},set:function(e){this.element.data("monthItemTemplate",e),r(this)}}),agendaItemTemplate:jpvs.property({get:function(){return this.element.data("agendaItemTemplate")||l},set:function(e){this.element.data("agendaItemTemplate",e),r(this)}})}});var s={day:function(a){var o=a.date();u(a,o,o,function(e){a.header.empty(),g(a.header,0,1,0,moment(o,"YYYYMMDD").format("dddd - LL")),a.body.empty(),a.body.css("overflow-y","scroll"),a.body.css("overflow-x","hidden"),h(a.body);var t,n=a.dayItemTemplate();for(t in e){var i=e[t],r=p(i.timeFrom),s=p(i.timeTo),s=m(a.body,1/7,6/7,r,s,"","Item");jpvs.applyTemplate(s,n,i)}})},week:function(l){var e=moment(l.date(),"YYYYMMDD"),c=moment(e).startOf("week"),t=c.format("YYYYMMDD"),e=moment(e).endOf("week").format("YYYYMMDD");u(l,t,e,function(e){l.header.empty(),l.header.css("overflow-y","scroll"),l.header.css("overflow-x","hidden"),function(e,t){for(var n=moment(t),i=0;i<7;i++)m(e,i/7,(i+1)/7,0,1,i<6?"R":"",0==n.day()||6==n.day()?"Holiday":""),g(e,i/7,(i+1)/7,0,n.format("ddd - L")),n=n.add(1,"days")}(l.header,c),l.body.empty(),l.body.css("overflow-y","scroll"),l.body.css("overflow-x","hidden"),function(e,t){for(var n=moment(t),i=0;i<7;i++)m(e,i/7,(i+1)/7,0,24/d,i<6?"R":"",0==n.day()||6==n.day()?"Holiday":""),n=n.add(1,"days")}(l.body,c),h(l.body);var t,n=l.weekItemTemplate();for(t in e){var i=e[t],r=p(i.timeFrom),s=p(i.timeTo),a=f(i.dateFrom,c),o=f(i.dateTo,c),s=m(l.body,a+.1/7,o+.9/7,r,s,"","Item");jpvs.applyTemplate(s,n,i)}})},month:function(a){var e=moment(a.date(),"YYYYMMDD"),o=moment(e).startOf("month"),t=o.format("YYYYMMDD"),l=moment(e).endOf("month"),e=l.format("YYYYMMDD");u(a,t,e,function(e){a.header.empty(),a.header.css("overflow-y","scroll"),a.header.css("overflow-x","hidden"),function(e){for(var t=moment.weekdays(),n=1;n<7;n++)m(e,(n-1)/7,n/7,0,1,"R",6==n?"Holiday":""),g(e,(n-1)/7,n/7,0,t[n]);m(e,6/7,1,0,1,"R","Holiday"),g(e,6/7,1,0,t[0])}(a.header),a.body.empty(),a.body.css("overflow-y","scroll"),a.body.css("overflow-x","hidden");var t,n=function(e,t,n){var i=moment(t),r=(i.format("YYYYMMDD"),0),s={};for(;!i.isAfter(n);){var a=i.day(),o=0==a?6/7:(a-1)/7,l=r/6,c={x1:o+.05/7,x2:o+1/7-.05/7,y1:l+.05/6,y2:l+1/6-.05/6},o=m(e,c.x1,c.x2,c.y1,c.y2,"RLTB",0==a||6==a?"Holiday":""),l=i.date();jpvs.writeTag(o,"h1",l.toString()),c.div=o,s[i.format("YYYYMMDD")]=c,0==a&&r++,i.add(1,"days")}return s}(a.body,o,l),i=a.monthItemTemplate();for(t in e){var r,s=e[t];n[s.dateFrom]&&(r=n[s.dateFrom].div,jpvs.applyTemplate(r,i,s))}})},agenda:function(r){var e=moment(r.date(),"YYYYMMDD"),t=e.format("YYYYMMDD"),e=moment(e).add(90,"days").format("YYYYMMDD");u(r,t,e,function(e){r.header.empty(),r.body.empty(),r.body.css("overflow-y","auto"),r.body.css("overflow-x","auto");var t,n=r.agendaItemTemplate();for(t in e){var i=e[t];jpvs.applyTemplate(r.body,n,i)}})}};function u(e,t,n,i){e=e.readDataFunction();e?e(t,n,i):i&&i([])}var d=10;function h(e){for(var t=0;t<24;t++){m(e,0,1,t/d,(t+1)/d,0!=t?"T":""),m(e,0,1,(t+.5)/d,(t+1)/d,"t");var n=moment().hours(t).minutes(0).format("HH:mm"),i=moment().hours(t).minutes(30).format("HH:mm");a(e,0,t/d,n),a(e,0,(t+.5)/d,i)}e.scrollTop(8/d*e.height())}function p(e){e=moment(e,"HHmm");return(e.hours()+e.minutes()/60)/d}function f(e,t){for(var n=0,i=moment(e).format("YYYYMMDD"),r=moment(t).format("YYYYMMDD");moment(i,"YYYYMMDD").isAfter(moment(r,"YYYYMMDD"));)n++,i=moment(i,"YYYYMMDD").add(-1,"days").format("YYYYMMDD");for(;moment(i,"YYYYMMDD").isBefore(moment(r,"YYYYMMDD"));)n--,i=moment(i,"YYYYMMDD").add(1,"days").format("YYYYMMDD");return n/7}function m(e,t,n,i,r,s,a){i=jpvs.writeTag(e,"div").css({position:"absolute",left:100*t+"%",top:100*i+"%",width:100*(n-t)+"%",height:100*(r-i)+"%",overflow:"hidden"});return i.addClass("Rectangle"),a&&i.addClass(a),0<=s.indexOf("L")&&i.css("border-left","1px solid #000"),0<=s.indexOf("R")&&i.css("border-right","1px solid #000"),0<=s.indexOf("T")&&i.css("border-top","1px solid #000"),0<=s.indexOf("B")&&i.css("border-bottom","1px solid #000"),0<=s.indexOf("l")&&i.css("border-left","1px dashed #000"),0<=s.indexOf("r")&&i.css("border-right","1px dashed #000"),0<=s.indexOf("t")&&i.css("border-top","1px dashed #000"),0<=s.indexOf("b")&&i.css("border-bottom","1px dashed #000"),i}function a(e,t,n,i){n=jpvs.writeTag(e,"div").css({position:"absolute",left:100*t+"%",top:100*n+"%","font-size":"8pt"});jpvs.write(n,i)}function g(e,t,n,i,r){t=jpvs.writeTag(e,"div").css({position:"absolute",left:100*t+"%",top:100*i+"%",width:100*(n-t)+"%","font-size":"8pt","text-align":"center"});jpvs.write(t,r)}function e(e){var t=moment(e.timeFrom,"HHmm").format("HH:mm"),e=moment(e.timeTo,"HHmm").format("HH:mm");jpvs.write(this,t+" - "+e)}function t(e){var t=moment(e.timeFrom,"HHmm").format("HH:mm"),e=moment(e.timeTo,"HHmm").format("HH:mm");jpvs.write(this,t+" - "+e)}function o(e){var t=moment(e.timeFrom,"HHmm").format("HH:mm"),e=moment(e.timeTo,"HHmm").format("HH:mm");jpvs.writeln(this,t+" - "+e)}function l(e){var t=moment(e.dateFrom,"YYYYMMDD").format("L"),n=moment(e.dateTo,"YYYYMMDD").format("L"),i=moment(e.timeFrom,"HHmm").format("HH:mm"),e=moment(e.timeTo,"HHmm").format("HH:mm");t!=n?jpvs.writeln(this,t+" "+i+" - "+n+" "+e):jpvs.writeln(this,t+"    "+i+" - "+e)}}(),function(){function r(n){return function(){var e=n.element.innerWidth()-n.scrollbarW,t=n.element.innerHeight()-n.scrollbarH;n.contentBox.css({width:e+"px",height:t+"px"})}}jpvs.Scroller=function(e){this.attach(e),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.Scroller,type:"Scroller",cssClass:"Scroller",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){var t={width:e.element.width(),height:e.element.height()};e.element.css({position:"relative",width:"200px",height:"200px"});var n,i=e.element.contents();e.scrollerBox=jpvs.writeTag(e.element,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"scroll"}),e.scrollerSizer=jpvs.writeTag(e.scrollerBox,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"hidden"}),e.contentBox=jpvs.writeTag(e.element,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"hidden"}),e.content=jpvs.writeTag(e.contentBox,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"hidden"}),e.scrollbarW=function(){var e=$('<div style="width: 100%; height:200px;">test</div>'),t=$('<div style="width:200px;height:150px; position: absolute; top: 0px; left: 0px; visibility: hidden; overflow:hidden;"></div>').append(e),n=e[0],e=t[0];$("body").append(e);n=n.offsetWidth;t.css("overflow","scroll");e=e.clientWidth;return t.remove(),n-e}(),e.scrollbarH=e.scrollbarW,e.scrollerBox.scroll((n=e,function(){n.change.fire(n)})),$(window).resize(r(e)),i.length&&(e.content.append(i),t.height+=e.scrollbarH,t.width+=e.scrollbarW,e.scrollableSize(t).contentSize(t)),r(e)()},canAttachTo:function(e){return!1},getMainContentElement:function(){return this.content},prototype:{objectSize:jpvs.property({get:function(){return{width:this.element.width(),height:this.element.height()}},set:function(e){this.element.width(e.width).height(e.height),r(this)()}}),scrollableSize:jpvs.property({get:function(){return{width:this.scrollerSizer.width(),height:this.scrollerSizer.height()}},set:function(e){this.scrollerSizer.width(e.width).height(e.height),r(this)()}}),contentSize:jpvs.property({get:function(){return{width:this.content.width(),height:this.content.height()}},set:function(e){this.content.width(e.width).height(e.height),r(this)()}}),scrollPosition:jpvs.property({get:function(){return{top:this.scrollerBox.scrollTop(),left:this.scrollerBox.scrollLeft()}},set:function(e){this.scrollerBox.scrollTop(e.top).scrollLeft(e.left)}}),contentPosition:jpvs.property({get:function(){return{top:this.contentBox.scrollTop(),left:this.contentBox.scrollLeft()}},set:function(e){this.contentBox.scrollTop(e.top).scrollLeft(e.left)}})}})}(),function(){function t(t){return function(){t.searchFunction()(t.txt.text(),function(e){e&&e.length?(t.grid.clear().template(t.gridTemplate()),t.grid.binder(t.pageSize()?jpvs.DataGrid.pagingBinder({pageSize:t.pageSize()}):jpvs.DataGrid.defaultBinder),t.grid.addHeaderRow({}).dataBind(e),t.pnl.show()):t.pnl.hide()})}}jpvs.SearchEngine=function(e){this.attach(e)},jpvs.makeWidget({widget:jpvs.SearchEngine,type:"SearchEngine",cssClass:"SearchEngine",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){e.lbl=jpvs.writeTag(e,"div","Missing 'label' property.").addClass("Label"),e.txt=jpvs.TextBox.create(e),e.txt.lazychange(t(e)),e.pnlAdditionalFields=jpvs.writeTag(e,"div").addClass("AdditionalFields"),e.pnl=jpvs.writeTag(e,"div").addClass("Results").hide(),e.grid=jpvs.DataGrid.create(e.pnl),e.grid.enableEvenOdd(!0),e.grid.element.addClass("Grid")},canAttachTo:function(e){return!1},focus:function(){this.txt.focus()},prototype:{label:jpvs.property({get:function(){return this.lbl.text()},set:function(e){this.lbl.text(e)}}),applyAdditionalFieldsTemplate:function(e){return e&&jpvs.applyTemplate(this.pnlAdditionalFields,e,this),this},searchFunction:jpvs.property({get:function(){return this.element.data("searchFunction")||function(){alert("Missing 'searchFunction' property.")}},set:function(e){this.element.data("searchFunction",e)}}),gridTemplate:jpvs.property({get:function(){return this.element.data("gridTemplate")||[{header:"Missing 'gridTemplate' property.",body:"Missing 'gridTemplate' property."}]},set:function(e){this.element.data("gridTemplate",e)}}),pageSize:jpvs.property({get:function(){return this.element.data("pageSize")||null},set:function(e){this.element.data("pageSize",e)}}),refresh:function(){return t(this)(),this}}})}(),function(){function e(e,t){var n,i,n=(i=t,0==(t=(n=e).element.children(i)).length&&(t=$(document.createElement(i)),n.element.append(t)),t),t=$(document.createElement("tr"));return n.append(t),new r(e,t)}function r(e,t){this.table=e,this.element=t}jpvs.Table=function(e){this.attach(e)},jpvs.makeWidget({widget:jpvs.Table,type:"Table",cssClass:"Table",create:function(e){var t=document.createElement("table");return $(e).append(t),t},init:function(e){},canAttachTo:function(e){return $(e).is("table")},prototype:{addClass:function(e){return this.element.addClass(e),this},removeClass:function(e){return this.element.removeClass(e),this},css:function(){return this.element.css.apply(this.element,arguments),this},writeHeaderRow:function(){return e(this,"thead")},writeBodyRow:function(){return e(this,"tbody")},writeRow:function(){return this.writeBodyRow()},writeFooterRow:function(){return e(this,"tfoot")},caption:jpvs.property({get:function(){var e=this.element.children("caption");return 0!=e.length?e.text():null},set:function(e){var t=this.element.children("caption");0==t.length&&(t=$(document.createElement("caption")),this.element.prepend(t)),t.text(e)}}),clear:function(){return this.element.find("tr").remove(),this}}}),r.prototype.writeHeaderCell=function(e){return jpvs.writeTag(this.element,"th",e)},r.prototype.writeCell=function(e){return jpvs.writeTag(this.element,"td",e)},r.prototype.getMainContentElement=function(){return this.element}}(),function(){var t=1,i=5;function n(e){this.tableElement=e,this.floatingHeaderClone=null,this.uniqueName="TableExtender"+t++,this.allCellsSelector=".NAME>tr>th, .NAME>tr>td".replace(/NAME/g,this.uniqueName),this.allHeaderCellsSelector=".NAME>tr>th".replace(/NAME/g,this.uniqueName),this.afterResize=new jpvs.Event,this.changeFilterSort=new jpvs.Event}function m(e){return e.prop("colspan")||1}function g(e){var t=0;return e.prevAll().each(function(){var e=$(this);t+=m(e)}),t}function A(e,t){return 0<g(e)&&t<i}function v(e,t){return e.outerWidth()-t<i}function y(e){return e.find("col").filter(function(){return $(this).parent()[0]===e[0]||$(this).parent().parent()[0]===e[0]})}function w(e){for(var t=e;;){(t=t.parent())[0].nodeName;if(!t||0==t.length||"body"==t[0].nodeName.toLowerCase()){t=null;break}var n=t.css("overflow");if("auto"==n||"scroll"==n||"hidden"==n)break}return t||$(window)}function j(e){return parseFloat(e.style.width)}function T(e){if(window.localStorage){e=e.data("tableName")||"__GenericTable__",e=localStorage["jpvs.TableExtenders.Sizes."+e];return(e?jpvs.parseJSON(e):{})||{}}return{}}function p(e){var n=e.tableElement,t=e.allHeaderCellsSelector;e.floatingHeaderClone&&(n=n.add(e.floatingHeaderClone)),e.sortSettings=e.sortSettings||[],e.filterSettings=e.filterSettings||[];var i={};for(r in e.sortSettings)i[e.sortSettings[r].colName]=!0;var r,s={};for(r in e.filterSettings)s[e.filterSettings[r].colName]=!0;$(t).each(function(){var e=$(this),t=g(e),t=y(n).eq(t).data("colName")||t.toString();e.removeClass("Sorted").removeClass("Filtered"),i[t]&&e.addClass("Sorted"),s[t]&&e.addClass("Filtered")})}function r(e,t,n){var i=e.tableElement,r=t.offset(),n=n.pageX-r.left,r=g(t),i=y(i).eq(r),r=e.enableSorting()&&f(i,"colSort"),i=e.enableFiltering()&&f(i,"colFilter"),i=r||i,n=!A(t,n)&&!v(t,n);return i&&n}function f(e,t){t=e.data(t);return null==t||("true"==t||1==t||"false"!=t&&0!=t)}jpvs.TableExtender={create:function(e){return new n(jpvs.getElementIfWidget(e))}},n.prototype.resizableColumns=jpvs.property({get:function(){return!!this._resizableColumns},set:function(e){this._resizableColumns=!!e}}),n.prototype.persistColumnSizes=jpvs.property({get:function(){return!!this._persistColumnSizes},set:function(e){this._persistColumnSizes=!!e}}),n.prototype.enableSorting=jpvs.property({get:function(){return!!this._enableSorting},set:function(e){this._enableSorting=!!e}}),n.prototype.enableFiltering=jpvs.property({get:function(){return!!this._enableFiltering},set:function(e){this._enableFiltering=!!e}}),n.prototype.persistSortSettings=jpvs.property({get:function(){return!!this._persistSortSettings},set:function(e){this._persistSortSettings=!!e}}),n.prototype.persistFilterSettings=jpvs.property({get:function(){return!!this._persistFilterSettings},set:function(e){this._persistFilterSettings=!!e}}),n.prototype.getSortAndFilterSettings=function(){return{sort:this.sortSettings,filter:this.filterSettings}},n.prototype.clearSortAndFilterSettings=function(){this.sortSettings=[],this.filterSettings=[]},n.prototype.tableHeaderAlwaysVisible=jpvs.property({get:function(){return!!this._tableHeaderAlwaysVisible},set:function(e){this._tableHeaderAlwaysVisible=!!e}}),n.prototype.apply=function(){var e;jpvs.DataGrid.strings=jpvs.DataGrid.allStrings[jpvs.currentLocale()],(e=this).tableElement.children("thead,tbody,tfoot").addClass(e.uniqueName),function(e){var i=e.tableElement,e=e.allCellsSelector;i.css("width","auto");var r=[];i.find(e).each(function(){var e=$(this),t=g(e),n=e.prop("colspan")||1,e=e.outerWidth();1==n&&(r[t]=e)});var n=0;$.each(r,function(e,t){n+=t}),i.css({"table-layout":"fixed",width:n+"px"});var s=y(i);$.each(r,function(e,t){var n=s.eq(e);n.length||(e=jpvs.writeTag(i,"colgroup"),n=jpvs.writeTag(e,"col")),n.css("width",t+"px")}),i.find(e).css("overflow","hidden")}(this),this.persistColumnSizes()&&function(e){var t=e.tableElement;e.allCellsSelector;{var n,i;window.localStorage&&(n=T(t),i=0,y(t).each(function(e){var t=$(this),e=t.data("colName")||"ColIndex"+e,e=n[e]||t.width();t.css("width",e+"px"),i+=e}),t.css("width",i+"px"))}}(this),this.tableHeaderAlwaysVisible()&&function(i){var r=w(i.tableElement);!r[0].nodeName||"absolute"!=(e=r.css("position"))&&"relative"!=e&&"fixed"!=e&&r.css("position","relative");i.floatingHeaderClone&&i.floatingHeaderClone.remove();i.floatingHeaderClone=i.tableElement.clone(!0),i.floatingHeaderClone.children("tbody, tfoot, caption").remove(),i.floatingHeaderClone.insertAfter(i.tableElement),r.off("scroll.jpvsTableExtender4"),r.on("scroll.jpvsTableExtender4",t);var e=r[0].jpvs,s=e?0:parseInt(r.css("border-left-width"),10),a=e?0:parseInt(r.css("border-top-width"),10);function t(){var e=r.offset()||{left:r.scrollLeft(),top:r.scrollTop()},t=e.left-r.scrollLeft(),n=e.top-r.scrollTop(),e=i.tableElement.offset(),t=e.left-t,n=e.top-n;r.scrollTop()>n?i.floatingHeaderClone.show().css({position:"absolute",left:t-s+"px",top:r.scrollTop()-a+"px",margin:"0px"}):i.floatingHeaderClone.hide()}t()}(this),this.resizableColumns()&&(function(e){var t=e.tableElement,n=e.allCellsSelector;e.floatingHeaderClone&&(t=t.add(e.floatingHeaderClone));t.off("mousemove.jpvsTableExtender1").on("mousemove.jpvsTableExtender1",n,function(e){var t=$(e.currentTarget),n=t.offset(),n=e.pageX-n.left;A(t,n)||v(t,n)?t.addClass("ColumnResize"):t.removeClass("ColumnResize")}),t.off("mouseleave.jpvsTableExtender1").on("mouseleave.jpvsTableExtender1",n,function(e){$(e.currentTarget).removeClass("ColumnResize")})}(this),function(r){var s,a,o,l,c,u,d,h,p=r.tableElement,e=r.allCellsSelector;w(p);r.floatingHeaderClone&&(p=p.add(r.floatingHeaderClone));function f(e,t){var n=g(e)+m(e)-1,i=y(p),e=r.floatingHeaderClone&&y(r.floatingHeaderClone);s=i.eq(n),a=e.eq(n),o=n,l=t,c=j(s[0]),d=c,u=0,i.each(function(){u+=j(this)}),h=null}function n(e,t){var n=u-c+d;e?(p.css("width",n+"px"),s.css("width",d+"px"),a.css("width",d+"px"),r.verticalResizingCue&&(r.verticalResizingCue.remove(),r.verticalResizingCue=null)):(r.verticalResizingCue||(r.verticalResizingCue=jpvs.writeTag("body","div").css({position:"absolute",height:p.height()+"px",width:"0px",top:p.offset().top+"px","border-right":"1px dotted #f00"})),r.verticalResizingCue.css("left",t.pageX+"px")),r.persistColumnSizes()&&function(e,t,n,i){var r=e.tableElement;e.allCellsSelector;window.localStorage&&(y(r),e=T(r),n=t.data("colName")||"ColIndex"+n,e[n]=i,e=jpvs.toJSON(e),r=r.data("tableName")||"__GenericTable__",localStorage["jpvs.TableExtenders.Sizes."+r]=e)}(r,s,o,d),h={newTableWidth:n,columnIndex:o,newColumnWidth:d,resizing:!0},r.afterResize.fire(r,null,h)}p.off("mousedown.jpvsTableExtender2").on("mousedown.jpvsTableExtender2",e,function(e){var t=$(e.currentTarget),n=p.eq(0).offset(),i=e.pageX-n.left,n=t.offset(),n=e.pageX-n.left;return A(t,n)?(f(t.prev(),i),!1):v(t,n)?(f(t,i),!1):void 0}),$(document).off("mousemove.jpvsTableExtender2"+r.uniqueName).on("mousemove.jpvsTableExtender2"+r.uniqueName,function(e){var t;s&&(t=p.eq(0).offset(),t=e.pageX-t.left,d=Math.max(c+(t-l),2*i),n(!1,e))}),$(document).off("mouseup.jpvsTableExtender2"+r.uniqueName).on("mouseup.jpvsTableExtender2"+r.uniqueName,function(e){if(s&&(n(!0,e),h))return h.resizing=!1,r.afterResize.fire(r,null,h),a=s=null,!1})}(this)),(this.enableFiltering()||this.enableSorting())&&function(n){var e=n.tableElement,t=n.allHeaderCellsSelector;n.floatingHeaderClone&&(e=e.add(n.floatingHeaderClone));(function(e){var t=e.tableElement.data("tableName")||"__GenericTable__";window.localStorage&&(e.persistSortSettings()&&(e.sortSettings=jpvs.parseJSON(localStorage["jpvs.TableExtenders.Sorts."+t]||"[]")),e.persistFilterSettings()&&(e.filterSettings=jpvs.parseJSON(localStorage["jpvs.TableExtenders.Filters."+t]||"[]")))})(n),p(n),e.off("mousemove.jpvsTableExtender3").on("mousemove.jpvsTableExtender3",t,function(e){var t=$(e.currentTarget);r(n,t,e)?t.addClass("SortOrFilter"):t.removeClass("SortOrFilter")}),e.off("mouseleave.jpvsTableExtender3").on("mouseleave.jpvsTableExtender3",t,function(e){$(e.currentTarget).removeClass("SortOrFilter")}),e.off("mousedown.jpvsTableExtender3").on("mousedown.jpvsTableExtender3",t,function(e){var t=$(e.currentTarget);if(r(n,t,e))return function(c,e){var t=c.tableElement;c.sortSettings=c.sortSettings||[],c.filterSettings=c.filterSettings||[];var n=g(e),i=y(t).eq(n),e=c.enableSorting()&&f(i,"colSort"),t=c.enableFiltering()&&f(i,"colFilter"),r=i.data("colName")||n.toString(),s=i.data("colHeader")||r,a=i.data("colType")||"text",i="???";c.enableSorting()&&c.enableFiltering()?i=jpvs.DataGrid.strings.titleSortAndFilter:c.enableSorting()?i=jpvs.DataGrid.strings.titleSort:c.enableFiltering()&&(i=jpvs.DataGrid.strings.titleFilter);var u,o,i=jpvs.Popup.create().title(i).close(function(){p(c),function(e){var t=e.tableElement.data("tableName")||"__GenericTable__";window.localStorage&&(e.persistSortSettings()&&(localStorage["jpvs.TableExtenders.Sorts."+t]=jpvs.toJSON(e.sortSettings||[])),e.persistFilterSettings()&&(localStorage["jpvs.TableExtenders.Filters."+t]=jpvs.toJSON(e.filterSettings||[])))}(c),c.changeFilterSort.fire(c)});jpvs.write(i,jpvs.DataGrid.strings.currentColumn+": "),jpvs.writeTag(i,"strong",s),jpvs.write(i,"   "),t&&jpvs.LinkButton.create(i).text(jpvs.DataGrid.strings.addFilter).click(function(){c.filterSettings.push({colName:r,colType:a,colHeader:s,operand:"EQ",value:""}),d()});jpvs.write(i,"   "),e&&jpvs.LinkButton.create(i).text(jpvs.DataGrid.strings.addSort).click(function(){c.sortSettings.push({colName:r,colType:a,colHeader:s,descending:!1}),l()});jpvs.writeln(i),t&&(jpvs.writeTag(i,"hr"),u=jpvs.Table.create(i),d());e&&(jpvs.writeTag(i,"hr"),o=jpvs.Table.create(i),l());function d(){if(u.clear(),c.filterSettings.length)for(var e=0;e<c.filterSettings.length;e++)!function(e,t){var n=u.writeRow();jpvs.write(n.writeCell(),jpvs.DataGrid.strings.condition+": "),jpvs.writeTag(n.writeCell(),"strong",e.colHeader);var i=jpvs.DropDownList.create(n.writeCell());i.addItem("");var r,s="date"==(e.colType||"text").toLowerCase(),a=jpvs.DataGrid.getFilteringOperands();for(r in a){var o=a[r],l=!0;(l=s&&(0<=o.value.indexOf("CONTAINS")||0<=o.value.indexOf("START"))?!1:l)&&i.addItem(o.value,o.text)}i.selectedValue(e.operand).change(function(){e.operand=this.selectedValue()}),s?jpvs.DateBox.create(n.writeCell()).dateString(e.value||null).change(function(){e.value=this.dateString()||""}):jpvs.TextBox.create(n.writeCell()).text(e.value||"").change(function(){e.value=this.text()||""});jpvs.LinkButton.create(n.writeCell()).text(jpvs.DataGrid.strings.remove).click(function(){c.filterSettings.splice(t,1),d()})}(c.filterSettings[e],e);else{var t=u.writeRow();jpvs.write(t.writeCell(),jpvs.DataGrid.strings.noFilterSpecified)}}function l(){if(o.clear(),c.sortSettings.length){for(var e=0;e<c.sortSettings.length;e++)!function(e,t){var n=o.writeRow();n.element.data("item",e),jpvs.writeTag(n.writeCell().css("cursor","move"),"img").attr("src",jpvs.Resources.images.moveButton),jpvs.write(n.writeCell(),(0==t?jpvs.DataGrid.strings.orderBy:jpvs.DataGrid.strings.thenBy)+": "),jpvs.writeTag(n.writeCell(),"strong",e.colHeader),jpvs.CheckBox.create(n.writeCell()).text(jpvs.DataGrid.strings.descending).checked(e.descending).change(function(){e.descending=this.checked()}),jpvs.LinkButton.create(n.writeCell()).text(jpvs.DataGrid.strings.remove).click(function(){c.sortSettings.splice(t,1),l()})}(c.sortSettings[e],e);o.element.find("tbody").sortable({handle:"td:first",update:h})}else{var t=o.writeRow();jpvs.write(t.writeCell(),jpvs.DataGrid.strings.noSortSpecified)}}function h(){c.sortSettings=[],o.element.find("tr").each(function(){var e=$(this).data("item");c.sortSettings.push(e)}),l()}i.show()}(n,t),!1})}(this)}}(),jpvs.TextBox=function(e){this.attach(e),this.change=jpvs.event(this),this.lazychange=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.TextBox,type:"TextBox",cssClass:"TextBox",create:function(e){var t=document.createElement("input");return $(t).attr("type","text"),$(e).append(t),t},init:function(e){e.element.change(function(){return e.change.fire(e)}),e.lazyChangeID=jpvs.randomString(10),e.curText=e.text(),e.element.on("click change keyup keypress input",function(){e.text()!=e.curText&&(e.curText=e.text(),jpvs.runLazyTask(e.lazyChangeID,750,function(){e.lazychange.fire(e)}))}),e.autoCompleteUniqueID=jpvs.randomString(10),e.element.attr("autocomplete")||e.element.attr("autocomplete","off")},canAttachTo:function(e){return $(e).is('input[type="text"]')},prototype:{text:jpvs.property({get:function(){return this.element.val()},set:function(e){this.element.val(e),this.curText=this.text()}}),width:jpvs.property({get:function(){return this.element.css("width")},set:function(e){this.element.css("width",e)}}),autocomplete:function(e){if(this.element.attr("list",null),$("#"+this.autoCompleteUniqueID).remove(),e&&e.length){for(var t=jpvs.writeTag(this.element.parent(),"datalist").attr("id",this.autoCompleteUniqueID),n=0;n<e.length;n++)jpvs.writeTag(t,"option").attr("value",e[n]);this.element.attr("list",this.autoCompleteUniqueID),this.element.attr("autocomplete","off")}return this}}}),function(){function a(e){var t=e.startingTile();if(t){for(var n=e.width(),i=e.height(),r=e.tileWidth(),s=e.tileHeight(),a=r+e.tileSpacingHorz(),o=s+e.tileSpacingVert(),l=e.originX(),c=e.originY(),u=l-r/2;0<u;)u-=a;u+=a;for(var d=[];u+r<n;)d.push(u),u+=a;for(var u=l-r/2,h=1/0,p=0;p<d.length&&Math.abs(d[p]-u)<h;p++)h=Math.abs(d[p]-u);f=p-1,f=Math.max(f,0);var f=Math.min(f,d.length-1),m=1+(e.lastRenderedGeneration||0);e.lastRenderedGeneration=m;for(var g=c-s/2,A=0,v=f,y=t;y&&!(v>=d.length&&(v=0,i<=(g+=o)));)w(e,u=d[v],g,r,s,n,i,y,A,m),v++,A++,y=y.getNextTile&&y.getNextTile();for(v=f-1,g=c-s/2,y=t.getPreviousTile&&t.getPreviousTile(),A=-1;y&&!(v<0&&(v=d.length-1,(g-=o)+s<=0));)w(e,u=d[v],g,r,s,n,i,y,A,m),v--,A--,y=y.getPreviousTile&&y.getPreviousTile();e.element.children(".Tile").each(function(){var e=$(this),t=e.data("tileObject"),n=t&&t.jpvsTileBrowserInfo;n&&n.generation==m||(e.remove(),t.jpvsTileBrowserInfo=null)})}else e.element.children(".Tile").remove()}function p(e,t,n,i,r,s){var a=e+n,o=t+i;return 0<=e&&e<=r&&0<=t&&t<=s||0<=a&&a<=r&&0<=t&&t<=s||0<=e&&e<=r&&0<=o&&o<=s||0<=a&&a<=r&&0<=o&&o<=s}function w(t,e,n,i,r,s,a,o,l,c){if(o){var u,d=o.jpvsTileBrowserInfo;if(d)p(e,n,i,r,s,a)?(u=!1,d.x!=e&&(d.x=e,d.tile.css("left",e+"px")),d.y!=n&&(d.y=n,d.tile.css("top",n+"px")),d.tw!=i&&(d.tw=i,d.tile.css("width",i+"px"),u=!0),d.th!=r&&(d.th=r,d.tile.css("height",r+"px"),u=!0),u&&h(d.tile),d.generation=c):(d.tile.remove(),o.jpvsTileBrowserInfo=null);else if(p(e,n,i,r,s,a)){a=jpvs.writeTag(t,"div");return a.data("tileObject",o),o.jpvsTileBrowserInfo={tile:a,x:e,y:n,tw:i,th:r,tileIndex:l,generation:c},a.addClass("Tile").css({position:"absolute",left:e+"px",top:n+"px",width:i+"px",height:r+"px",overflow:"hidden"}),h(a),a}}function h(e){o.template&&jpvs.applyTemplate(e.empty(),o.template,{tileObject:o,tileBrowser:t,tile:e})}}function r(e,t){return function(){"up"==t?e.desiredOriginY(e.desiredOriginY()+e.height()/4):"down"==t?e.desiredOriginY(e.desiredOriginY()-e.height()/4):"plus"==t?o(e,1.1):"minus"==t&&o(e,1/1.1),l(e)}}function o(e,t){var n=e.desiredTileWidth()*t,t=e.desiredTileHeight()*t;e.desiredTileWidth(n),e.desiredTileHeight(t);var r,s,a,n=e.width(),t=e.height(),o=n/2,l=t/2,c=1/0;e.element.children(".Tile").each(function(){var e,t,n=$(this).data("tileObject"),i=n&&n.jpvsTileBrowserInfo;i&&(e=i.x+i.tw/2,t=i.y+i.th/2,(i=(o-e)*(o-e)+(l-t)*(l-t))<c&&(c=i,r=n,s=e,a=t))}),r&&(e.originX(s),e.desiredOriginX(s),e.originY(a),e.desiredOriginY(a),e.startingTile(r))}function l(n){var e,t,i={originX:n.desiredOriginX()-n.originX(),originY:n.desiredOriginY()-n.originY(),tileWidth:n.desiredTileWidth()-n.tileWidth(),tileHeight:n.desiredTileHeight()-n.tileHeight()};function r(e,t,n,i){e=t-e;return(n-i)/e/e}function s(e,t,n,i){if(t<=e)return i;e=t-e;return i+n*e*e}t=i,(1<=Math.abs(t.originX)||1<=Math.abs(t.originY)||1<=Math.abs(t.tileWidth)||1<=Math.abs(t.tileHeight))&&(e=(new Date).getTime(),n.animationInfo={x:{tEnd:i=e+500,finalValue:n.desiredOriginX(),k:r(e,i,n.originX(),n.desiredOriginX())},y:{tEnd:i,finalValue:n.desiredOriginY(),k:r(e,i,n.originY(),n.desiredOriginY())},tw:{tEnd:i,finalValue:n.desiredTileWidth(),k:r(e,i,n.tileWidth(),n.desiredTileWidth())},th:{tEnd:i,finalValue:n.desiredTileHeight(),k:r(e,i,n.tileHeight(),n.desiredTileHeight())}},n.animating||jpvs.requestAnimationFrame(function e(){if(!n.animationInfo)return void(n.animating=!1);n.animating=!0;var t=(new Date).getTime();n.originX(s(t,n.animationInfo.x.tEnd,n.animationInfo.x.k,n.animationInfo.x.finalValue));n.originY(s(t,n.animationInfo.y.tEnd,n.animationInfo.y.k,n.animationInfo.y.finalValue));n.tileWidth(s(t,n.animationInfo.tw.tEnd,n.animationInfo.tw.k,n.animationInfo.tw.finalValue));n.tileHeight(s(t,n.animationInfo.th.tEnd,n.animationInfo.th.k,n.animationInfo.th.finalValue));a(n);t>n.animationInfo.x.tEnd&&t>n.animationInfo.y.tEnd&&t>n.animationInfo.tw.tEnd&&t>n.animationInfo.th.tEnd&&(n.animationInfo=null);jpvs.requestAnimationFrame(e)}))}jpvs.TileBrowser=function(e){this.attach(e),this.tileClick=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.TileBrowser,type:"TileBrowser",cssClass:"TileBrowser",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){e.element.empty(),e.element.css({overflow:"hidden"});var n,i,a,t=jpvs.writeTag(e,"div").addClass("Buttons").css({overflow:"hidden",position:"absolute",right:"0px",top:"0px",bottom:"0px",width:"3em",zIndex:99999});jpvs.writeTag(t,"img").addClass("Up").click(r(e,"up")).attr("src",jpvs.Resources.images.up).css({position:"absolute",right:"0px",top:"0px",width:"100%"}),jpvs.writeTag(t,"img").addClass("Down").click(r(e,"down")).attr("src",jpvs.Resources.images.down).css({position:"absolute",right:"0px",bottom:"0px",width:"100%"}),jpvs.writeTag(t,"img").addClass("Plus").click(r(e,"plus")).attr("src",jpvs.Resources.images.plus).css({position:"absolute",right:"0px",bottom:"50%",width:"100%"}),jpvs.writeTag(t,"img").addClass("Minus").click(r(e,"minus")).attr("src",jpvs.Resources.images.minus).css({position:"absolute",right:"0px",top:"50%",width:"100%"}),e.element.on("click",(n=e,function(e){var t=$(e.target).closest(".Tile"),t=t&&t.length&&t.data("tileObject");if(t)return n.tileClick.fire(n,null,t,e)})),e.element.on("wheel",(i=e,function(e){var t=e&&e.originalEvent&&e.originalEvent.deltaY||e.originalEvent.deltaX||0,n=i.desiredOriginY();return e.shiftKey?o(i,t<0?1.1:1/1.1):i.desiredOriginY(n-t),l(i),!1})),jpvs.addGestureListener(e.element,null,(a=e,function(e){if(e.isDrag){var t,n=(r=(i=$(e.target).closest(".Tile"))&&i.length&&i.data("tileObject"))&&r.jpvsTileBrowserInfo;n&&(r!==a.startingTile()&&(t=n.x+n.tw/2,s=n.y+n.th/2,a.originX(t),a.originY(s),a.desiredOriginX(t),a.desiredOriginY(s),a.startingTile(r)),t=a.desiredOriginX()+e.dragX,s=a.desiredOriginY()+e.dragY,a.desiredOriginX(t),a.desiredOriginY(s),l(a))}else if(e.isZoom)o(a,e.zoomFactor),l(a);else if(e.isTap){var i,r,s=$(e.target);if(s.is(".Buttons > *"))s.click(),e.isLongTap&&(s.click(),s.click(),s.click());else if(r=(i=$(e.target).closest(".Tile"))&&i.length&&i.data("tileObject"))return a.tileClick.fire(a,null,r,null)}}))},canAttachTo:function(e){return!1},prototype:{refresh:function(e){return a(this),e&&l(this),this},startingTile:jpvs.property({get:function(){return this.element.data("startingTile")},set:function(e){this.element.data("startingTile",e)}}),width:jpvs.property({get:function(){return this.element.width()},set:function(e){this.element.width(e)}}),height:jpvs.property({get:function(){return this.element.height()},set:function(e){this.element.height(e)}}),tileWidth:jpvs.property({get:function(){var e=this.element.data("tileWidth");return null!=e?e:this.width()/8},set:function(e){this.element.data("tileWidth",e)}}),tileHeight:jpvs.property({get:function(){var e=this.element.data("tileHeight");return null!=e?e:this.tileWidth()},set:function(e){this.element.data("tileHeight",e)}}),desiredTileWidth:jpvs.property({get:function(){var e=this.element.data("desiredTileWidth");return null!=e?e:this.tileWidth()},set:function(e){this.element.data("desiredTileWidth",e)}}),desiredTileHeight:jpvs.property({get:function(){var e=this.element.data("desiredTileHeight");return null!=e?e:this.tileHeight()},set:function(e){this.element.data("desiredTileHeight",e)}}),tileSpacingHorz:jpvs.property({get:function(){var e=this.element.data("tileSpacingHorz");return null!=e?e:this.tileWidth()/5},set:function(e){this.element.data("tileSpacingHorz",e)}}),tileSpacingVert:jpvs.property({get:function(){var e=this.element.data("tileSpacingVert");return null!=e?e:this.tileHeight()/5},set:function(e){this.element.data("tileSpacingVert",e)}}),originX:jpvs.property({get:function(){var e=this.element.data("originX");return null!=e?e:this.width()/2},set:function(e){this.element.data("originX",e)}}),originY:jpvs.property({get:function(){var e=this.element.data("originY");return null!=e?e:this.height()/2},set:function(e){this.element.data("originY",e)}}),desiredOriginX:jpvs.property({get:function(){var e=this.element.data("desiredOriginX");return null!=e?e:this.originX()},set:function(e){this.element.data("desiredOriginX",e)}}),desiredOriginY:jpvs.property({get:function(){var e=this.element.data("desiredOriginY");return null!=e?e:this.originY()},set:function(e){this.element.data("desiredOriginY",e)}})}})}(),function(){function c(e,t,n,i){var r=e.nodeTemplate()||jpvs.Tree.Templates.StandardNode,s=jpvs.applyTemplate(t,r,n);s.element.data("nodeElement",s);r=e.childrenContainerTemplate()||jpvs.Tree.Templates.StandardChildrenContainer,n=jpvs.applyTemplate(t,r,n);return s.parentNodeElement=i,s.childrenContainerElement=n,s.childrenNodeElements=[{}],(n.nodeElement=s).refreshState(),e.nodeRendered.fire(e,null,s),s}jpvs.Tree=function(e){this.attach(e),this.nodeClick=jpvs.event(this),this.nodeRightClick=jpvs.event(this),this.nodeRendered=jpvs.event(this)},jpvs.Tree.Templates={StandardNode:function(e){var t=jpvs.writeTag(this,"div");t.addClass("Node");var n,i=new jpvs.Tree.NodeElement(e,t,function(){var e=jpvs.find(this.element.find(".ImageButton"));this.childrenNodeElements&&0!=this.childrenNodeElements.length?this.isExpanded()?e&&e.imageUrls({normal:jpvs.Resources.images.nodeOpen}):e&&e.imageUrls({normal:jpvs.Resources.images.nodeClosed}):(e&&e.imageUrls({normal:jpvs.Resources.images.nodeNoChildren}),this.childrenContainerElement.element.hide())},function(){this.getTree().element.find(".Node > .Text").removeClass("Selected"),this.element.find(".Text").addClass("Selected")},function(){var e=this.node,t=this.element.find("img.Icon"),n=this.element.find("span.Text");t.attr("src",e.icon),n.text(e.toString())});jpvs.ImageButton.create(t).click(function(){i.toggle()}),e.marker&&((n=jpvs.writeTag(t,"img")).addClass("Marker"),n.attr("src",e.marker)),e.icon&&((n=jpvs.writeTag(t,"img")).addClass("Icon"),n.attr("src",e.icon));var r,t=jpvs.writeTag(t,"span").addClass("Text");jpvs.write(t,e.toString());var s=i.getTree();return t.dblclick(function(){i.toggle()}).mousedown(function(e){r=(new Date).getTime()}).mouseup(function(e){var t=(new Date).getTime();if(!(r+500<t))return 2==e.button?(i.select(),s.nodeRightClick.fire(s,null,i,e),!1):(i.select(),void s.nodeClick.fire(s,null,i,e))}),i},StandardChildrenContainer:function(e){var t=jpvs.writeTag(this,"div");return t.addClass("ChildrenContainer"),t.hide(),new jpvs.Tree.ChildrenContainerElement(e,t)}},jpvs.Tree.NodeElement=function(e,t,n,i,r){this.node=e,this.element=t,this.refreshState=n,this.refreshNode=r,this.select=i,this.parentNodeElement=null,this.childrenContainerElement=null,this.childrenNodeElements=null},jpvs.Tree.NodeElement.prototype.getTree=function(){return jpvs.find(this.element.parents(".Tree").first())},jpvs.Tree.NodeElement.prototype.isExpanded=function(){return this.childrenContainerElement.element.is(":visible")},jpvs.Tree.NodeElement.prototype.toggle=function(){this.isExpanded()?this.collapse():this.expand()},jpvs.Tree.NodeElement.prototype.collapse=function(){var e=this;this.childrenContainerElement.element.hide(100,function(){e.refreshState()})},jpvs.Tree.NodeElement.prototype.expand=function(e){var t=this,n=this.getTree();n&&n.refreshChildren(t,function(){t.childrenNodeElements&&0!=t.childrenNodeElements.length?t.childrenContainerElement.element.show(100,function(){t.refreshState(),e&&e()}):(t.refreshState(),e&&e())})},jpvs.Tree.NodeElement.prototype.setMarkerIcon=function(e){this.element.find("img.Marker").attr("src",e)},jpvs.Tree.ChildrenContainerElement=function(e,t){this.node=e,this.element=t,this.nodeElement=null},jpvs.makeWidget({widget:jpvs.Tree,type:"Tree",cssClass:"Tree",create:function(e){var t=document.createElement("div");return $(e).append(t),t},init:function(e){e.element.on("contextmenu",function(){return!1})},canAttachTo:function(e){return!1},prototype:{nodeTemplate:jpvs.property({get:function(){return this.element.data("nodeTemplate")},set:function(e){this.element.data("nodeTemplate",e)}}),childrenContainerTemplate:jpvs.property({get:function(){return this.element.data("childrenContainerTemplate")},set:function(e){this.element.data("childrenContainerTemplate",e)}}),childrenSelector:jpvs.property({get:function(){return this.element.data("childrenSelector")},set:function(e){this.element.data("childrenSelector",e)}}),dataBind:function(e){return function(n,e){n.element.empty();var i=[];$.each(e,function(e,t){t=c(n,n.element,t,null);i.push(t)}),n.element.data("nodeElements",i)}(this,e),this},refreshNode:function(e){return(e=e).refreshState(),e.refreshNode(),this},refreshChildren:function(e,t){var a,o,l;return l=t,function(e,t,n){t=(e.childrenSelector()||function(e){return e.children||[]})(t,function(e){n(e||[])});void 0===t||n(null===t?[]:t)}(a=this,(o=e).node,function(e){var n,i,r,s,t=o.childrenContainerElement;t.element.empty(),n=a,i=t,r=o,s=[],$.each(e,function(e,t){t=c(n,i.element,t,r);s.push(t)}),r.childrenNodeElements=s,l&&l()}),this},nodeElements:function(){return this.element.data("nodeElements")}}})}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e;function d(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(h(e,t))return;return 1}function s(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){for(var n=[],i=0;i<e.length;++i)n.push(t(e[i],i));return n}function u(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return Mt(e,t,n,i,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=A.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function g(e){var t=p(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}var A=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1},v=d.momentProperties=[],t=!1;function y(e,t){var n,i,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=f(t)),s(t._locale)||(e._locale=t._locale),0<v.length)for(n=0;n<v.length;n++)s(r=t[i=v[n]])||(e[i]=r);return e}function w(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,d.updateOffset(this),t=!1)}function j(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function T(e){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(r,s){var a=!0;return u(function(){if(null!=d.deprecationHandler&&d.deprecationHandler(null,r),a){for(var e,t,n=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\n["+i+"] ",arguments[0])h(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}T(r+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),a=!1}return s.apply(this,arguments)},s)}var b={};function x(e,t){null!=d.deprecationHandler&&d.deprecationHandler(e,t),b[e]||(T(t),b[e]=!0)}function S(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e,t){var n,i=u({},e);for(n in t)h(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},u(i[n],e[n]),u(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)h(e,n)&&!h(t,n)&&o(e[n])&&(i[n]=u({},i[n]));return i}function k(e){null!=e&&this.set(e)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null;var D=Object.keys||function(e){var t,n=[];for(t in e)h(e,t)&&n.push(t);return n};function M(e,t,n){var i=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},F={};function O(e,t,n,i){var r="string"==typeof i?function(){return this[i]()}:i;e&&(F[e]=r),t&&(F[t[0]]=function(){return M(r.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e,t){return e.isValid()?(t=I(t,e.localeData()),Y[t]=Y[t]||function(i){for(var e,r=i.match(E),t=0,s=r.length;t<s;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<s;n++)t+=S(r[n])?r[n].call(e,i):r[n];return t}}(t),Y[t](e)):e.localeData().invalidDate()}function I(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(_.lastIndex=0;0<=n&&_.test(e);)e=e.replace(_,i),_.lastIndex=0,--n;return e}var N={};function R(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function H(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)h(e,n)&&(t=H(n))&&(i[t]=e[n]);return i}var V={};function z(e,t){V[e]=t}function U(e){return e%4==0&&e%100!=0||e%400==0}function L(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function W(e){var t=+e,e=0;return e=0!=t&&isFinite(t)?L(t):e}function G(t,n){return function(e){return null!=e?(q(this,t,e),d.updateOffset(this,n),this):X(this,t)}}function X(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&U(e.year())&&1===e.month()&&29===e.date()?(n=W(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),De(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Q=/\d/,$=/\d\d/,J=/\d{3}/,Z=/\d{4}/,K=/[+-]?\d{6}/,ee=/\d\d?/,te=/\d\d\d\d?/,ne=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,re=/\d{1,4}/,se=/[+-]?\d{1,6}/,ae=/\d+/,oe=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,ce=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function de(e,n,i){fe[e]=S(n)?n:function(e,t){return e&&i?i:n}}function he(e,t){return h(fe,e)?fe[e](t._strict,t._locale):new RegExp(pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var fe={},me={};function ge(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),c(n)&&(i=function(e,t){t[n]=W(e)}),t=0;t<e.length;t++)me[e[t]]=i}function Ae(e,r){ge(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}var ve,ye=0,we=1,je=2,Te=3,be=4,xe=5,Se=6,Ce=7,ke=8;function De(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?U(e)?29:28:31-n%7%2}ve=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),z("month",8),de("M",ee),de("MM",ee,$),de("MMM",function(e,t){return t.monthsShortRegex(e)}),de("MMMM",function(e,t){return t.monthsRegex(e)}),ge(["M","MM"],function(e,t){t[we]=W(e)-1}),ge(["MMM","MMMM"],function(e,t,n,i){i=n._locale.monthsParse(e,i,n._strict);null!=i?t[we]=i:f(n).invalidMonth=e});var Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ye=ue,Fe=ue;function Oe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=W(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Be(e){return null!=e?(Oe(this,e),d.updateOffset(this,!0),this):X(this,"Month")}function Ie(){function e(e,t){return t.length-e.length}for(var t,n=[],i=[],r=[],s=0;s<12;s++)t=p([2e3,s]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(n.sort(e),i.sort(e),r.sort(e),s=0;s<12;s++)n[s]=pe(n[s]),i[s]=pe(i[s]);for(s=0;s<24;s++)r[s]=pe(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ne(e){return U(e)?366:365}O("Y",0,0,function(){var e=this.year();return e<=9999?M(e,4):"+"+e}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),R("year","y"),z("year",1),de("Y",oe),de("YY",ee,$),de("YYYY",re,Z),de("YYYYY",se,K),de("YYYYYY",se,K),ge(["YYYYY","YYYYYY"],ye),ge("YYYY",function(e,t){t[ye]=2===e.length?d.parseTwoDigitYear(e):W(e)}),ge("YY",function(e,t){t[ye]=d.parseTwoDigitYear(e)}),ge("Y",function(e,t){t[ye]=parseInt(e,10)}),d.parseTwoDigitYear=function(e){return W(e)+(68<W(e)?1900:2e3)};var Re=G("FullYear",!0);function He(e,t,n,i,r,s,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,i,r,s,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,i,r,s,a),o}function Pe(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ve(e,t,n){n=7+t-n;return n-(7+Pe(e,0,n).getUTCDay()-t)%7-1}function ze(e,t,n,i,r){var s,r=1+7*(t-1)+(7+n-i)%7+Ve(e,i,r),r=r<=0?Ne(s=e-1)+r:r>Ne(e)?(s=e+1,r-Ne(e)):(s=e,r);return{year:s,dayOfYear:r}}function Ue(e,t,n){var i,r,s=Ve(e.year(),t,n),s=Math.floor((e.dayOfYear()-s-1)/7)+1;return s<1?i=s+Le(r=e.year()-1,t,n):s>Le(e.year(),t,n)?(i=s-Le(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function Le(e,t,n){var i=Ve(e,t,n),n=Ve(e+1,t,n);return(Ne(e)-i+n)/7}O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),z("week",5),z("isoWeek",5),de("w",ee),de("ww",ee,$),de("W",ee),de("WW",ee,$),Ae(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=W(e)});function We(e,t){return e.slice(t,7).concat(e.slice(0,t))}O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),de("d",ee),de("e",ee),de("E",ee),de("dd",function(e,t){return t.weekdaysMinRegex(e)}),de("ddd",function(e,t){return t.weekdaysShortRegex(e)}),de("dddd",function(e,t){return t.weekdaysRegex(e)}),Ae(["dd","ddd","dddd"],function(e,t,n,i){i=n._locale.weekdaysParse(e,i,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),Ae(["d","e","E"],function(e,t,n,i){t[i]=W(e)});var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Qe=ue,$e=ue,Je=ue;function Ze(){function e(e,t){return t.length-e.length}for(var t,n,i,r=[],s=[],a=[],o=[],l=0;l<7;l++)i=p([2e3,1]).day(l),t=pe(this.weekdaysMin(i,"")),n=pe(this.weekdaysShort(i,"")),i=pe(this.weekdays(i,"")),r.push(t),s.push(n),a.push(i),o.push(t),o.push(n),o.push(i);r.sort(e),s.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ke(){return this.hours()%12||12}function et(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function tt(e,t){return t._meridiemParse}O("H",["HH",2],0,"hour"),O("h",["hh",2],0,Ke),O("k",["kk",2],0,function(){return this.hours()||24}),O("hmm",0,0,function(){return""+Ke.apply(this)+M(this.minutes(),2)}),O("hmmss",0,0,function(){return""+Ke.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+M(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)}),et("a",!0),et("A",!1),R("hour","h"),z("hour",13),de("a",tt),de("A",tt),de("H",ee),de("h",ee),de("k",ee),de("HH",ee,$),de("hh",ee,$),de("kk",ee,$),de("hmm",te),de("hmmss",ne),de("Hmm",te),de("Hmmss",ne),ge(["H","HH"],Te),ge(["k","kk"],function(e,t,n){e=W(e);t[Te]=24===e?0:e}),ge(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ge(["h","hh"],function(e,t,n){t[Te]=W(e),f(n).bigHour=!0}),ge("hmm",function(e,t,n){var i=e.length-2;t[Te]=W(e.substr(0,i)),t[be]=W(e.substr(i)),f(n).bigHour=!0}),ge("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Te]=W(e.substr(0,i)),t[be]=W(e.substr(i,2)),t[xe]=W(e.substr(r)),f(n).bigHour=!0}),ge("Hmm",function(e,t,n){var i=e.length-2;t[Te]=W(e.substr(0,i)),t[be]=W(e.substr(i))}),ge("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Te]=W(e.substr(0,i)),t[be]=W(e.substr(i,2)),t[xe]=W(e.substr(r))});var nt=G("Hours",!0);var it,rt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:Ee,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:qe,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},st={},at={};function ot(e){return e&&e.toLowerCase().replace("_","-")}function lt(e){for(var t,n,i,r,s=0;s<e.length;){for(t=(r=ot(e[s]).split("-")).length,n=(n=ot(e[s+1]))?n.split("-"):null;0<t;){if(i=ct(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}(r,n)>=t-1)break;t--}s++}return it}function ct(t){var e;if(void 0===st[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=it._abbr,require("./locale/"+t),ut(e)}catch(e){st[t]=null}return st[t]}function ut(e,t){return e&&((t=s(t)?ht(e):dt(e,t))?it=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),it._abbr}function dt(e,t){if(null===t)return delete st[e],null;var n,i=rt;if(t.abbr=e,null!=st[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])i=st[t.parentLocale]._config;else{if(null==(n=ct(t.parentLocale)))return at[t.parentLocale]||(at[t.parentLocale]=[]),at[t.parentLocale].push({name:e,config:t}),null;i=n._config}return st[e]=new k(C(i,t)),at[e]&&at[e].forEach(function(e){dt(e.name,e.config)}),ut(e),st[e]}function ht(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return it;if(!a(e)){if(t=ct(e))return t;e=[e]}return lt(e)}function pt(e){var t=e._a;return t&&-2===f(e).overflow&&(t=t[we]<0||11<t[we]?we:t[je]<1||t[je]>De(t[ye],t[we])?je:t[Te]<0||24<t[Te]||24===t[Te]&&(0!==t[be]||0!==t[xe]||0!==t[Se])?Te:t[be]<0||59<t[be]?be:t[xe]<0||59<t[xe]?xe:t[Se]<0||999<t[Se]?Se:-1,f(e)._overflowDayOfYear&&(t<ye||je<t)&&(t=je),f(e)._overflowWeeks&&-1===t&&(t=Ce),f(e)._overflowWeekday&&-1===t&&(t=ke),f(e).overflow=t),e}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/Z|[+-]\d\d(?::?\d\d)?/,At=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yt=/^\/?Date\((-?\d+)/i,wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,jt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tt(e){var t,n,i,r,s,a,o=e._i,l=ft.exec(o)||mt.exec(o);if(l){for(f(e).iso=!0,t=0,n=At.length;t<n;t++)if(At[t][1].exec(l[1])){r=At[t][0],i=!1!==At[t][2];break}if(null!=r){if(l[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(l[3])){s=(l[2]||" ")+vt[t][0];break}if(null==s)return void(e._isValid=!1)}if(i||null==s){if(l[4]){if(!gt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(s||"")+(a||""),kt(e)}else e._isValid=!1}else e._isValid=!1}else e._isValid=!1}function bt(e,t,n,i,r,s){r=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ee.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return s&&r.push(parseInt(s,10)),r}function xt(e){var t,n,i,r,s=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));s?(t=bt(s[4],s[3],s[2],s[5],s[6],s[7]),n=s[1],i=t,r=e,n&&Xe.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()?(f(r).weekdayMismatch=!0,r._isValid=!1):(e._a=t,e._tzm=(r=s[8],t=s[9],s=s[10],r?jt[r]:t?0:60*(((t=parseInt(s,10))-(s=t%100))/100)+s),e._d=Pe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0)):e._isValid=!1}function St(e,t,n){return null!=e?e:null!=t?t:n}function Ct(e){var t,n,i,r,s,a=[];if(!e._d){for(r=e,s=new Date(d.now()),n=r._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],e._w&&null==e._a[je]&&null==e._a[we]&&function(e){var t,n,i,r,s,a,o,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,a=4,n=St(t.GG,e._a[ye],Ue(Et(),1,4).year),i=St(t.W,1),((r=St(t.E,1))<1||7<r)&&(o=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,l=Ue(Et(),s,a),n=St(t.gg,e._a[ye],l.year),i=St(t.w,l.week),null!=t.d?((r=t.d)<0||6<r)&&(o=!0):null!=t.e?(r=t.e+s,(t.e<0||6<t.e)&&(o=!0)):r=s);i<1||i>Le(n,s,a)?f(e)._overflowWeeks=!0:null!=o?f(e)._overflowWeekday=!0:(a=ze(n,i,r,s,a),e._a[ye]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(i=St(e._a[ye],n[ye]),(e._dayOfYear>Ne(i)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=Pe(i,0,e._dayOfYear),e._a[we]=i.getUTCMonth(),e._a[je]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Te]&&0===e._a[be]&&0===e._a[xe]&&0===e._a[Se]&&(e._nextDay=!0,e._a[Te]=0),e._d=(e._useUTC?Pe:He).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Te]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function kt(e){if(e._f!==d.ISO_8601)if(e._f!==d.RFC_2822){e._a=[],f(e).empty=!0;for(var t,n,i,r,s,a=""+e._i,o=a.length,l=0,c=I(e._f,e._locale).match(E)||[],u=0;u<c.length;u++)n=c[u],(t=(a.match(he(n,e))||[])[0])&&(0<(r=a.substr(0,a.indexOf(t))).length&&f(e).unusedInput.push(r),a=a.slice(a.indexOf(t)+t.length),l+=t.length),F[n]?(t?f(e).empty=!1:f(e).unusedTokens.push(n),i=n,s=e,null!=(r=t)&&h(me,i)&&me[i](r,s._a,s,i)):e._strict&&!t&&f(e).unusedTokens.push(n);f(e).charsLeftOver=o-l,0<a.length&&f(e).unusedInput.push(a),e._a[Te]<=12&&!0===f(e).bigHour&&0<e._a[Te]&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Te]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((n=e.isPM(n))&&t<12&&(t+=12),t=n||12!==t?t:0):t}(e._locale,e._a[Te],e._meridiem),null!==(o=f(e).era)&&(e._a[ye]=e._locale.erasConvertYear(o,e._a[ye])),Ct(e),pt(e)}else xt(e);else Tt(e)}function Dt(e){var t=e._i,n=e._f;return e._locale=e._locale||ht(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),j(t)?new w(pt(t)):(i(t)?e._d=t:a(n)?function(e){var t,n,i,r,s,a,o=!1;if(0===e._f.length)return f(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)s=0,a=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],kt(t),m(t)&&(a=!0),s+=f(t).charsLeftOver,s+=10*f(t).unusedTokens.length,f(t).score=s,o?s<i&&(i=s,n=t):(null==i||s<i||a)&&(i=s,n=t,a&&(o=!0));u(e,n||t)}(e):n?kt(e):s(n=(t=e)._i)?t._d=new Date(d.now()):i(n)?t._d=new Date(n.valueOf()):"string"==typeof n?function(e){var t=yt.exec(e._i);null===t?(Tt(e),!1===e._isValid&&(delete e._isValid,xt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:d.createFromInputFallback(e)))):e._d=new Date(+t[1])}(t):a(n)?(t._a=r(n.slice(0),function(e){return parseInt(e,10)}),Ct(t)):o(n)?function(e){var t,n;e._d||(n=void 0===(t=P(e._i)).day?t.date:t.day,e._a=r([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ct(e))}(t):c(n)?t._d=new Date(n):d.createFromInputFallback(t),m(e)||(e._d=null),e))}function Mt(e,t,n,i,r){var s={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(o(e)&&l(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,(s=new w(pt(Dt(s=s))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Et(e,t,n,i){return Mt(e,t,n,i,!1)}d.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),d.ISO_8601=function(){},d.RFC_2822=function(){};var _t=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Yt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:g()});function Ft(e,t){var n,i;if(!(t=1===t.length&&a(t[0])?t[0]:t).length)return Et();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Ot=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Bt(e){var t=P(e),n=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,e=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(h(e,t)&&(-1===ve.call(Ot,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Ot.length;++n)if(e[Ot[n]]){if(i)return!1;parseFloat(e[Ot[n]])!==W(e[Ot[n]])&&(i=!0)}return!0}(t),this._milliseconds=+e+1e3*c+6e4*l+1e3*o*60*60,this._days=+a+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=ht(),this._bubble()}function It(e){return e instanceof Bt}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Rt(e,n){O(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+M(~~(e/60),2)+n+M(~~e%60,2)})}Rt("Z",":"),Rt("ZZ",""),de("Z",ce),de("ZZ",ce),ge(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Pt(ce,e)});var Ht=/([\+\-]|\d\d)/gi;function Pt(e,t){t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Ht)||["-",0,0])[1]+W(e[2]))?0:"+"===e[0]?t:-t}function Vt(e,t){var n;return t._isUTC?(n=t.clone(),t=(j(e)||i(e)?e:Et(e)).valueOf()-n.valueOf(),n._d.setTime(n._d.valueOf()+t),d.updateOffset(n,!1),n):Et(e).local()}function zt(e){return-Math.round(e._d.getTimezoneOffset())}function Ut(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}d.updateOffset=function(){};var Lt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Wt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gt(e,t){var n,i=e,r=null;return It(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(r=Lt.exec(e))?(n="-"===r[1]?-1:1,i={y:0,d:W(r[je])*n,h:W(r[Te])*n,m:W(r[be])*n,s:W(r[xe])*n,ms:W(Nt(1e3*r[Se]))*n}):(r=Wt.exec(e))?(n="-"===r[1]?-1:1,i={y:Xt(r[2],n),M:Xt(r[3],n),w:Xt(r[4],n),d:Xt(r[5],n),h:Xt(r[6],n),m:Xt(r[7],n),s:Xt(r[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(n=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Vt(t,e),e.isBefore(t)?n=qt(e,t):((n=qt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Et(i.from),Et(i.to)),(i={}).ms=n.milliseconds,i.M=n.months),i=new Bt(i),It(e)&&h(e,"_locale")&&(i._locale=e._locale),It(e)&&h(e,"_isValid")&&(i._isValid=e._isValid),i}function Xt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qt(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(x(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),$t(this,Gt(e,t),i),this}}function $t(e,t,n,i){var r=t._milliseconds,s=Nt(t._days),t=Nt(t._months);e.isValid()&&(i=null==i||i,t&&Oe(e,X(e,"Month")+t*n),s&&q(e,"Date",X(e,"Date")+s*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&d.updateOffset(e,s||t))}Gt.fn=Bt.prototype,Gt.invalid=function(){return Gt(NaN)};var Jt=Qt(1,"add"),ue=Qt(-1,"subtract");function Zt(e){return"string"==typeof e||e instanceof String}function Kt(e){return j(e)||i(e)||Zt(e)||c(e)||function(t){var e=a(t),n=!1;e&&(n=0===t.filter(function(e){return!c(e)&&Zt(t)}).length);return e&&n}(e)||function(e){var t,n,i=o(e)&&!l(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<s.length;t+=1)n=s[t],r=r||h(e,n);return i&&r}(e)||null==e}function en(e,t){if(e.date()<t.date())return-en(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months"),i=t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i);return-(n+i)||0}function tn(e){return void 0===e?this._locale._abbr:(null!=(e=ht(e))&&(this._locale=e),this)}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";te=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function nn(){return this._locale}var rn=126227808e5;function sn(e,t){return(e%t+t)%t}function an(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-rn:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-rn:Date.UTC(e,t,n)}function ln(e,t){return t.erasAbbrRegex(e)}function cn(){for(var e=[],t=[],n=[],i=[],r=this.eras(),s=0,a=r.length;s<a;++s)t.push(pe(r[s].name)),e.push(pe(r[s].abbr)),n.push(pe(r[s].narrow)),i.push(pe(r[s].name)),i.push(pe(r[s].abbr)),i.push(pe(r[s].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function un(e,t){O(0,[e,e.length],0,t)}function dn(e,t,n,i,r){var s;return null==e?Ue(this,i,r).year:(s=Le(e,i,r),function(e,t,n,i,r){r=ze(e,t,n,i,r),r=Pe(r.year,0,r.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,e,t=s<t?s:t,n,i,r))}O("N",0,0,"eraAbbr"),O("NN",0,0,"eraAbbr"),O("NNN",0,0,"eraAbbr"),O("NNNN",0,0,"eraName"),O("NNNNN",0,0,"eraNarrow"),O("y",["y",1],"yo","eraYear"),O("y",["yy",2],0,"eraYear"),O("y",["yyy",3],0,"eraYear"),O("y",["yyyy",4],0,"eraYear"),de("N",ln),de("NN",ln),de("NNN",ln),de("NNNN",function(e,t){return t.erasNameRegex(e)}),de("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ge(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){i=n._locale.erasParse(e,i,n._strict);i?f(n).era=i:f(n).invalidEra=e}),de("y",ae),de("yy",ae),de("yyy",ae),de("yyyy",ae),de("yo",function(e,t){return t._eraYearOrdinalRegex||ae}),ge(["y","yy","yyy","yyyy"],ye),ge(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ye]=n._locale.eraYearOrdinalParse(e,r):t[ye]=parseInt(e,10)}),O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),un("gggg","weekYear"),un("ggggg","weekYear"),un("GGGG","isoWeekYear"),un("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),de("G",oe),de("g",oe),de("GG",ee,$),de("gg",ee,$),de("GGGG",re,Z),de("gggg",re,Z),de("GGGGG",se,K),de("ggggg",se,K),Ae(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=W(e)}),Ae(["gg","GG"],function(e,t,n,i){t[i]=d.parseTwoDigitYear(e)}),O("Q",0,"Qo","quarter"),R("quarter","Q"),z("quarter",7),de("Q",Q),ge("Q",function(e,t){t[we]=3*(W(e)-1)}),O("D",["DD",2],"Do","date"),R("date","D"),z("date",9),de("D",ee),de("DD",ee,$),de("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ge(["D","DD"],je),ge("Do",function(e,t){t[je]=W(e.match(ee)[0])});ne=G("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),z("dayOfYear",4),de("DDD",ie),de("DDDD",J),ge(["DDD","DDDD"],function(e,t,n){n._dayOfYear=W(e)}),O("m",["mm",2],0,"minute"),R("minute","m"),z("minute",14),de("m",ee),de("mm",ee,$),ge(["m","mm"],be);Me=G("Minutes",!1);O("s",["ss",2],0,"second"),R("second","s"),z("second",15),de("s",ee),de("ss",ee,$),ge(["s","ss"],xe);var hn,Ge=G("Seconds",!1);for(O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),z("millisecond",16),de("S",ie,Q),de("SS",ie,$),de("SSS",ie,J),hn="SSSS";hn.length<=9;hn+="S")de(hn,ae);function pn(e,t){t[Se]=W(1e3*("0."+e))}for(hn="S";hn.length<=9;hn+="S")ge(hn,pn);qe=G("Milliseconds",!1),O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");re=w.prototype;function fn(e){return e}re.add=Jt,re.calendar=function(e,t){1===arguments.length&&(arguments[0]?Kt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=o(e)&&!l(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r=0;r<i.length;r+=1)n=n||h(e,i[r]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var n=e||Et(),e=Vt(n,this).startOf("day"),e=d.calendarFormat(this,e)||"sameElse",t=t&&(S(t[e])?t[e].call(this,n):t[e]);return this.format(t||this.localeData().calendar(e,this,Et(n)))},re.clone=function(){return new w(this)},re.diff=function(e,t,n){var i,r,s;if(!this.isValid())return NaN;if(!(i=Vt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=H(t)){case"year":s=en(this,i)/12;break;case"month":s=en(this,i);break;case"quarter":s=en(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:L(s)},re.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:an,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-sn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-sn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-sn(t,1e3)-1}return this._d.setTime(t),d.updateOffset(this,!0),this},re.format=function(e){return e=e||(this.isUtc()?d.defaultFormatUtc:d.defaultFormat),e=B(this,e),this.localeData().postformat(e)},re.from=function(e,t){return this.isValid()&&(j(e)&&e.isValid()||Et(e).isValid())?Gt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},re.fromNow=function(e){return this.from(Et(),e)},re.to=function(e,t){return this.isValid()&&(j(e)&&e.isValid()||Et(e).isValid())?Gt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},re.toNow=function(e){return this.to(Et(),e)},re.get=function(e){return S(this[e=H(e)])?this[e]():this},re.invalidAt=function(){return f(this).overflow},re.isAfter=function(e,t){return e=j(e)?e:Et(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},re.isBefore=function(e,t){return e=j(e)?e:Et(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},re.isBetween=function(e,t,n,i){return e=j(e)?e:Et(e),t=j(t)?t:Et(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n)))},re.isSame=function(e,t){return e=j(e)?e:Et(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},re.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},re.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},re.isValid=function(){return m(this)},re.lang=te,re.locale=tn,re.localeData=nn,re.max=Yt,re.min=_t,re.parsingFlags=function(){return u({},f(this))},re.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)h(e,t)&&n.push({unit:t,priority:V[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=P(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(S(this[e=H(e)]))return this[e](t);return this},re.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:an,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=sn(t,6e4);break;case"second":t=this._d.valueOf(),t-=sn(t,1e3)}return this._d.setTime(t),d.updateOffset(this,!0),this},re.subtract=ue,re.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},re.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},re.toDate=function(){return new Date(this.valueOf())},re.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e;return(e=t?this.clone().utc():this).year()<0||9999<e.year()?B(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(e,"Z")):B(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},re.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+t+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+(n+'[")]'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(re[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},re.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},re.eraName=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},re.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},re.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},re.eraYear=function(){for(var e,t,n=this.localeData().eras(),i=0,r=n.length;i<r;++i)if(e=n[i].since<=n[i].until?1:-1,t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return(this.year()-d(n[i].since).year())*e+n[i].offset;return this.year()},re.year=Re,re.isLeapYear=function(){return U(this.year())},re.weekYear=function(e){return dn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},re.isoWeekYear=function(e){return dn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},re.quarter=re.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},re.month=Be,re.daysInMonth=function(){return De(this.year(),this.month())},re.week=re.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},re.isoWeek=re.isoWeeks=function(e){var t=Ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},re.weeksInYear=function(){var e=this.localeData()._week;return Le(this.year(),e.dow,e.doy)},re.weeksInWeekYear=function(){var e=this.localeData()._week;return Le(this.weekYear(),e.dow,e.doy)},re.isoWeeksInYear=function(){return Le(this.year(),1,4)},re.isoWeeksInISOWeekYear=function(){return Le(this.isoWeekYear(),1,4)},re.date=ne,re.day=re.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},re.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},re.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=(t=e,e=this.localeData(),"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?t:t-7)},re.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},re.hour=re.hours=nt,re.minute=re.minutes=Me,re.second=re.seconds=Ge,re.millisecond=re.milliseconds=qe,re.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:zt(this);if("string"==typeof e){if(null===(e=Pt(ce,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=zt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?$t(this,Gt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this},re.utc=function(e){return this.utcOffset(0,e)},re.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},re.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Pt(le,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},re.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},re.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},re.isLocal=function(){return!!this.isValid()&&!this._isUTC},re.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},re.isUtc=Ut,re.isUTC=Ut,re.zoneAbbr=function(){return this._isUTC?"UTC":""},re.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},re.dates=n("dates accessor is deprecated. Use date instead.",ne),re.months=n("months accessor is deprecated. Use month instead",Be),re.years=n("years accessor is deprecated. Use year instead",Re),re.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),re.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=Dt(t))._a?(e=(t._isUTC?p:Et)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0,a=0;a<i;a++)(n&&e[a]!==t[a]||!n&&W(e[a])!==W(t[a]))&&s++;return s+r}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});Z=k.prototype;function mn(e,t,n,i){var r=ht(),t=p().set(i,t);return r[n](t,e)}function gn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return mn(e,t,n,"month");for(var i=[],r=0;r<12;r++)i[r]=mn(e,r,n,"month");return i}function An(e,t,n,i){t=("boolean"==typeof e?c(t)&&(n=t,t=void 0):(t=e,e=!1,c(n=t)&&(n=t,t=void 0)),t||"");var r,s=ht(),a=e?s._week.dow:0,o=[];if(null!=n)return mn(t,(n+a)%7,i,"day");for(r=0;r<7;r++)o[r]=mn(t,(r+a)%7,i,"day");return o}Z.calendar=function(e,t,n){return S(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},Z.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(E).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},Z.invalidDate=function(){return this._invalidDate},Z.ordinal=function(e){return this._ordinal.replace("%d",e)},Z.preparse=fn,Z.postformat=fn,Z.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return S(r)?r(e,t,n,i):r.replace(/%d/i,e)},Z.pastFuture=function(e,t){return S(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},Z.set=function(e){var t,n;for(n in e)h(e,n)&&(S(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Z.eras=function(e,t){for(var n,i=this._eras||ht("en")._eras,r=0,s=i.length;r<s;++r)switch("string"==typeof i[r].since&&(n=d(i[r].since).startOf("day"),i[r].since=n.valueOf()),typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":n=d(i[r].until).startOf("day").valueOf(),i[r].until=n.valueOf()}return i},Z.erasParse=function(e,t,n){var i,r,s,a,o,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(s=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),o=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(s===e)return l[i];break;case"NNNNN":if(o===e)return l[i]}else if(0<=[s,a,o].indexOf(e))return l[i]},Z.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?d(e.since).year():d(e.since).year()+(t-e.offset)*n},Z.erasAbbrRegex=function(e){return h(this,"_erasAbbrRegex")||cn.call(this),e?this._erasAbbrRegex:this._erasRegex},Z.erasNameRegex=function(e){return h(this,"_erasNameRegex")||cn.call(this),e?this._erasNameRegex:this._erasRegex},Z.erasNarrowRegex=function(e){return h(this,"_erasNarrowRegex")||cn.call(this),e?this._erasNarrowRegex:this._erasRegex},Z.months=function(e,t){return e?(a(this._months)?this._months:this._months[(this._months.isFormat||_e).test(t)?"format":"standalone"])[e.month()]:a(this._months)?this._months:this._months.standalone},Z.monthsShort=function(e,t){return e?(a(this._monthsShort)?this._monthsShort:this._monthsShort[_e.test(t)?"format":"standalone"])[e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Z.monthsParse=function(e,t,n){var i,r;if(this._monthsParseExact)return function(e,t,n){var i,r,s,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ve.call(this._shortMonthsParse,e))?r:null:-1!==(r=ve.call(this._longMonthsParse,e))?r:null:"MMM"===t?-1!==(r=ve.call(this._shortMonthsParse,e))||-1!==(r=ve.call(this._longMonthsParse,e))?r:null:-1!==(r=ve.call(this._longMonthsParse,e))||-1!==(r=ve.call(this._shortMonthsParse,e))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Z.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Fe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Z.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Ye),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Z.week=function(e){return Ue(e,this._week.dow,this._week.doy).week},Z.firstDayOfYear=function(){return this._week.doy},Z.firstDayOfWeek=function(){return this._week.dow},Z.weekdays=function(e,t){return t=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?We(t,this._week.dow):e?t[e.day()]:t},Z.weekdaysMin=function(e){return!0===e?We(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Z.weekdaysShort=function(e){return!0===e?We(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Z.weekdaysParse=function(e,t,n){var i,r;if(this._weekdaysParseExact)return function(e,t,n){var i,r,s,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ve.call(this._weekdaysParse,e))?r:null:"ddd"===t?-1!==(r=ve.call(this._shortWeekdaysParse,e))?r:null:-1!==(r=ve.call(this._minWeekdaysParse,e))?r:null:"dddd"===t?-1!==(r=ve.call(this._weekdaysParse,e))||-1!==(r=ve.call(this._shortWeekdaysParse,e))||-1!==(r=ve.call(this._minWeekdaysParse,e))?r:null:"ddd"===t?-1!==(r=ve.call(this._shortWeekdaysParse,e))||-1!==(r=ve.call(this._weekdaysParse,e))||-1!==(r=ve.call(this._minWeekdaysParse,e))?r:null:-1!==(r=ve.call(this._minWeekdaysParse,e))||-1!==(r=ve.call(this._weekdaysParse,e))||-1!==(r=ve.call(this._shortWeekdaysParse,e))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},Z.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Z.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Z.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Z.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Z.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ut("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===W(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),d.lang=n("moment.lang is deprecated. Use moment.locale instead.",ut),d.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ht);var vn=Math.abs;function yn(e,t,n,i){n=Gt(t,n);return e._milliseconds+=i*n._milliseconds,e._days+=i*n._days,e._months+=i*n._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function jn(e){return 4800*e/146097}function Tn(e){return 146097*e/4800}function bn(e){return function(){return this.as(e)}}se=bn("ms"),K=bn("s"),Q=bn("m"),$=bn("h"),ie=bn("d"),J=bn("w"),Jt=bn("M"),Yt=bn("Q"),_t=bn("y");function xn(e){return function(){return this.isValid()?this._data[e]:NaN}}ue=xn("milliseconds"),nt=xn("seconds"),Me=xn("minutes"),Ge=xn("hours"),qe=xn("days"),ne=xn("months"),Re=xn("years");var Sn=Math.round,Cn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kn(e,t,n,i){var r=Gt(e).abs(),s=Sn(r.as("s")),a=Sn(r.as("m")),o=Sn(r.as("h")),l=Sn(r.as("d")),c=Sn(r.as("M")),u=Sn(r.as("w")),r=Sn(r.as("y")),l=(s<=n.ss?["s",s]:s<n.s&&["ss",s])||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return(l=(l=null!=n.w?l||u<=1&&["w"]||u<n.w&&["ww",u]:l)||c<=1&&["M"]||c<n.M&&["MM",c]||r<=1&&["y"]||["yy",r])[2]=t,l[3]=0<+e,l[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,l)}var Dn=Math.abs;function Mn(e){return(0<e)-(e<0)||+e}function En(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,s,a,o=Dn(this._milliseconds)/1e3,l=Dn(this._days),c=Dn(this._months),u=this.asSeconds();return u?(e=L(o/60),t=L(e/60),o%=60,e%=60,n=L(c/12),c%=12,i=o?o.toFixed(3).replace(/\.?0+$/,""):"",r=Mn(this._months)!==Mn(u)?"-":"",s=Mn(this._days)!==Mn(u)?"-":"",a=Mn(this._milliseconds)!==Mn(u)?"-":"",(u<0?"-":"")+"P"+(n?r+n+"Y":"")+(c?r+c+"M":"")+(l?s+l+"D":"")+(t||e||o?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(o?a+i+"S":"")):"P0D"}Z=Bt.prototype;return Z.isValid=function(){return this._isValid},Z.abs=function(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this},Z.add=function(e,t){return yn(this,e,t,1)},Z.subtract=function(e,t){return yn(this,e,t,-1)},Z.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+jn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Tn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Z.asMilliseconds=se,Z.asSeconds=K,Z.asMinutes=Q,Z.asHours=$,Z.asDays=ie,Z.asWeeks=J,Z.asMonths=Jt,Z.asQuarters=Yt,Z.asYears=_t,Z.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},Z._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*wn(Tn(n)+t),n=t=0),i.milliseconds=e%1e3,e=L(e/1e3),i.seconds=e%60,e=L(e/60),i.minutes=e%60,e=L(e/60),i.hours=e%24,t+=L(e/24),n+=e=L(jn(t)),t-=wn(Tn(e)),e=L(n/12),n%=12,i.days=t,i.months=n,i.years=e,this},Z.clone=function(){return Gt(this)},Z.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},Z.milliseconds=ue,Z.seconds=nt,Z.minutes=Me,Z.hours=Ge,Z.days=qe,Z.weeks=function(){return L(this.days()/7)},Z.months=ne,Z.years=Re,Z.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Cn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(i=Object.assign({},Cn,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),t=this.localeData(),i=kn(this,!n,i,t),n&&(i=t.pastFuture(+this,i)),t.postformat(i)},Z.toISOString=En,Z.toString=En,Z.toJSON=En,Z.locale=tn,Z.localeData=nn,Z.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",En),Z.lang=te,O("X",0,0,"unix"),O("x",0,0,"valueOf"),de("x",oe),de("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ge("x",function(e,t,n){n._d=new Date(W(e))}),d.version="2.29.1",e=Et,d.fn=re,d.min=function(){return Ft("isBefore",[].slice.call(arguments,0))},d.max=function(){return Ft("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=p,d.unix=function(e){return Et(1e3*e)},d.months=function(e,t){return gn(e,t,"months")},d.isDate=i,d.locale=ut,d.invalid=g,d.duration=Gt,d.isMoment=j,d.weekdays=function(e,t,n){return An(e,t,n,"weekdays")},d.parseZone=function(){return Et.apply(null,arguments).parseZone()},d.localeData=ht,d.isDuration=It,d.monthsShort=function(e,t){return gn(e,t,"monthsShort")},d.weekdaysMin=function(e,t,n){return An(e,t,n,"weekdaysMin")},d.defineLocale=dt,d.updateLocale=function(e,t){var n,i;return null!=t?(i=rt,null!=st[e]&&null!=st[e].parentLocale?st[e].set(C(st[e]._config,t)):(t=C(i=null!=(n=ct(e))?n._config:i,t),null==n&&(t.abbr=e),(t=new k(t)).parentLocale=st[e],st[e]=t),ut(e)):null!=st[e]&&(null!=st[e].parentLocale?(st[e]=st[e].parentLocale,e===ut()&&ut(e)):null!=st[e]&&delete st[e]),st[e]},d.locales=function(){return D(st)},d.weekdaysShort=function(e,t,n){return An(e,t,n,"weekdaysShort")},d.normalizeUnits=H,d.relativeTimeRounding=function(e){return void 0===e?Sn:"function"==typeof e&&(Sn=e,!0)},d.relativeTimeThreshold=function(e,t){return void 0!==Cn[e]&&(void 0===t?Cn[e]:(Cn[e]=t,"s"===e&&(Cn.ss=t-1),!0))},d.calendarFormat=function(e,t){return(t=e.diff(t,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},d.prototype=re,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},d}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0!==this.day()?"[Lo scorso] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[La scorsa] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})});