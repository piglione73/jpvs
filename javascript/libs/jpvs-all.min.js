/*! jpvs 2017-03-13 */
var jpvs=function(){function a(a,b){var c=document.getElementsByTagName("head")[0]||document.documentElement,d=document.createElement("script");d.src=a;var e=!1;d.onload=d.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,b())},c.insertBefore(d,c.firstChild)}function b(a,b){var c=!1;for(var d in a){var e=a[d];if(e==b){c=!0;break}}return c?!1:(a.push(b),!0)}function c(a,c){var d=[];if(a)for(var e in a){var f=a[e],g=tree.ClassToModule[f];b(d,g)}if(c)for(var e in c){var g=c[e];b(d,g)}for(var h=!0;h;){h=!1;for(var e in d){var g=d[e],i=tree.ModuleToDepends[g];for(var j in i){var k=i[j];b(d,k)&&(h=!0)}}}var l=jpvs.baseUrl||"jpvs",m=[];for(var e in d){var g=d[e],n=tree.ModuleToFiles[g];for(var j in n){var o=n[j];b(m,l+"/"+o)}}return m.reverse(),m}return function(b,d){function e(){f.TotalCount||(f.TotalCount=f.length);var b=f.shift();b?setTimeout(function(){a(b,e)},10):(jpvs.createAllWidgets(),d&&d(jpvs.widgets))}if(b)if("function"==typeof b)d=b,$(document).ready(function(){jpvs.createAllWidgets(),d(jpvs.widgets)});else{var f=c(b.classes,b.modules);$(document).ready(e)}else;}}();!function(){function a(){i||(g(b),i=!0)}function b(){if(null==j){if(!(h.length>0))return void(i=!1);j=h.shift()}try{var a=(new Date).getTime();if(null==j.startTime&&(j.startTime=a,j.endTime=j.startTime+j.duration),j.step){var e=d(a);j.animFunc(e)}else{var e=c(a);j.animFunc(e)}a>=j.endTime&&(j=null)}finally{g(b)}}function c(a){return a<=j.startTime?j.t0:a>=j.endTime?j.t1:j.easingFunc(j.startTime,j.endTime,j.t0,j.t1,a)}function d(a){var b=j.t0,c=j.t1,d=j.step,e=j.startTime,f=j.endTime,g=Math.ceil(Math.abs((c-b)/d)),h=c>b?1:-1,i=(f-e)/g,k=Math.floor((a-e)/i);return e>=a?b:a>=f?c:b+h*k*d}function e(a,b,c,d,e){var f=(e-a)/(b-a),g=.5-Math.cos(f*Math.PI)/2,h=c+g*(d-c);return h}function f(a,b,c,d,e){var f=(e-a)/(b-a),g=f,h=c+g*(d-c);return h}var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)};jpvs.requestAnimationFrame=function(){g.apply(window,arguments)};var h=[],i=!1,j=null;jpvs.animate=function(b,c){var d=b&&null!=b.t0?b.t0:0,f=b&&null!=b.t1?b.t1:1,g=Math.abs(b&&b.step||0),i=Math.abs(b&&b.duration||1e3),j=b&&b.easingFunction||e,k=c||b;h.push({t0:d,t1:f,step:g,duration:i,animFunc:k,easingFunc:j,startTime:null,endTime:null}),a()},jpvs.animate.harmonicEasing=e,jpvs.animate.linearEasing=f,jpvs.flashClass=function(a,b,c,d,e){var f=$(a),g=d||2,h=2*g;jpvs.animate({t0:0,t1:h,step:1,duration:c||1e3},function(a){a%2==0?f.addClass(b):f.removeClass(b)}),jpvs.animate({t0:0,t1:1,step:1,duration:e||2e3},function(a){1==a&&f.removeClass(b)})}}(),function(){function a(a,b,d,e){var f={};try{for(;;){var g=a(f),h=c(g);if(!h.keepRunning)return b&&b(f.returnValue),f.returnValue;d&&h.progress&&d(h.progress)}}catch(i){e&&e(i)}}function b(a,b,d,e){function f(){j=!0}function g(){if(!j)try{for(var f=(new Date).getTime(),k=f+i;!j;){var l=a(h),m=c(l);if(!m.keepRunning)return void(b&&b(h.returnValue));var n=(new Date).getTime();if(!(k>n)){i=m.minRunTimeMs;var o=n-f,p=o*(1-m.cpu)/m.cpu;return setTimeout(g,p),void(d&&m.progress&&d(m.progress))}}}catch(q){e&&e(q)}}var h={},i=0,j=!1;return{run:g,cancel:f}}function c(a){return null===a||void 0===a||a===!1?{keepRunning:!1}:a===!0?{keepRunning:!0,cpu:d,minRunTimeMs:e,progress:null}:{keepRunning:!0,cpu:a.cpu||d,minRunTimeMs:a.minRunTimeMs||e,progress:a.progress}}var d=.5,e=50;jpvs.runTask=function(a,b,c,d,e){return a?jpvs.runBackgroundTask(b,c,d,e):jpvs.runForegroundTask(b,c,d,e)},jpvs.runBackgroundTask=function(a,c,d,e){var f=b(a,c,d,e);return setTimeout(f.run,0),{cancel:f.cancel}},jpvs.runForegroundTask=function(b,c,d,e){return a(b,c,d,e)}}(),function(){function a(){this.buffer=[]}function b(a){this._input=a,this._index=-1,this._buffer=[]}function c(a){this._input=a,this._index=-1,this._buffer=[]}a.prototype.append=function(a){return this.buffer.push(a),this},a.prototype.toString=function(){return this.buffer.join("")};var d={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){for(var d=new a,e=new b(c);e.moveNext();){var f=e.current;e.moveNext();var g=e.current;e.moveNext();var h=e.current,i=f>>2,j=(3&f)<<4|g>>4,k=(15&g)<<2|h>>6,l=63&h;isNaN(g)?k=l=64:isNaN(h)&&(l=64),d.append(this.codex.charAt(i)+this.codex.charAt(j)+this.codex.charAt(k)+this.codex.charAt(l))}return d.toString()},decode:function(b){for(var d=new a,e=new c(b);e.moveNext();){var f=e.current;if(128>f)d.append(String.fromCharCode(f));else if(f>191&&224>f){e.moveNext();var g=e.current;d.append(String.fromCharCode((31&f)<<6|63&g))}else{e.moveNext();var g=e.current;e.moveNext();var h=e.current;d.append(String.fromCharCode((15&f)<<12|(63&g)<<6|63&h))}}return d.toString()}};b.prototype={current:Number.NaN,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var a=this._input.charCodeAt(++this._index);return 13==a&&10==this._input.charCodeAt(this._index+1)&&(a=10,this._index+=2),128>a?this.current=a:a>127&&2048>a?(this.current=a>>6|192,this._buffer.push(63&a|128)):(this.current=a>>12|224,this._buffer.push(a>>6&63|128),this._buffer.push(63&a|128)),!0}},c.prototype={current:64,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=64,!1;var a=d.codex.indexOf(this._input.charAt(++this._index)),b=d.codex.indexOf(this._input.charAt(++this._index)),c=d.codex.indexOf(this._input.charAt(++this._index)),e=d.codex.indexOf(this._input.charAt(++this._index)),f=a<<2|b>>4,g=(15&b)<<4|c>>2,h=(3&c)<<6|e;return this.current=f,64!=c&&this._buffer.push(g),64!=e&&this._buffer.push(h),!0}},jpvs.encodeUtf8Base64=function(a){return d.encode(a)},jpvs.decodeBase64Utf8=function(a){return d.decode(a)}}(),function(){function a(a,f,i,k,l){var m=g(i,k),n=j(a,f);n(m());var o={idFrom:b(a)+"/"+f,idTo:c(i)+"/"+k};d(o,a,f,h(i,k),l),o={idTo:b(a)+"/"+f,idFrom:c(i)+"/"+k},e(o,i,k,a,j(a,f),l)}function b(a){var b=a.data("jpvs.binding.id");return b||(b=jpvs.randomString(20),a.data("jpvs.binding.id",b)),b}function c(a){var b=a["jpvs.binding.id"];return b||(b=jpvs.randomString(20),a["jpvs.binding.id"]=b),b}function d(a,b,c,d,e){var f=i(b,c);q.put(a.idFrom,a.idTo,b,f,function(a){d(a)&&e&&e(!1,!0)})}function e(a,b,c,d,e,f){var h=g(b,c);q.put(a.idFrom,a.idTo,d,h,function(a){e(a)&&f&&f(!0,!1)})}function f(a){function b(a){return this.mustInvert?!a:a}var c=a,d=!1;return 0==a.indexOf("!")&&(d=!0,c=a.substring(1)),{name:c,mustInvert:d,translate:b}}function g(a,b){var c=f(b),d=a[c.name];return"function"==typeof d?function(){var a=d();return c.translate(a)}:function(){var b=a[c.name];return c.translate(b)}}function h(a,b){var c=f(b),d=a[c.name];return"function"==typeof d?function(a){var b=d(),e=c.translate(a);return d(e),!k(e,b)}:function(b){var d=a[c.name],e=c.translate(b);return a[c.name]=e,!k(e,d)}}function i(a,b){var c=jpvs.find(a);if(c){var d=c[b];if("function"==typeof d)return function(){return d.call(c)}}return"jquery."==b.toLowerCase().substring(0,7)?function(){return a[b.substring(7)]()}:"#visible"==b?function(){return"none"!=a.css("display")&&"hidden"!=a.css("visibility")}:"#"!=b.substring(0,1)?function(){return a.attr(b)}:void alert("Invalid jpvs data-binding directive: "+b)}function j(a,b){var c=jpvs.find(a);if(c){var d=c[b];if("function"==typeof d)return function(a){return k(a,d.call(c))?!1:(d.call(c,a),!0)}}return"jquery."==b.toLowerCase().substring(0,7)?function(c){return k(c,a[b.substring(7)]())?!1:(a[b.substring(7)](c),!0)}:"#visible"==b?function(b){var c="none"!=a.css("display")&&"hidden"!=a.css("visibility");return b?a.show():a.hide(),b!=c}:"#"!=b.substring(0,1)?function(c){return k(c,a.attr(b))?!1:(a.attr(b,c),!0)}:void alert("Invalid jpvs data-binding directive: "+b)}function k(a,b){return jpvs.equals(a,b)}function l(){p||(p=setInterval(o,200))}function m(){p&&(clearInterval(p),p=null)}function n(){this.relations={}}function o(){for(var a,b=!0;b;)a={},b=!1,$.each(q.relations,function(c,d){var e=d.getter();k(e,d.curValue)||(a[d.idFrom]=d.getter,b=!0)}),$.each(a,function(a,b){var c=b();$.each(q.relations,function(b,d){d.idFrom==a&&(d.onChangeAction(c),d.curValue=c)})})}jpvs.resetAllBindings=function(){q.clearAll(),m()},jpvs.bindContainer=function(a,b,c,d){a&&(a=jpvs.getElementIfWidget(a),jpvs.bindElements(a.find("*"),b,c,d))},jpvs.bindElements=function(a,b,c,d){if(a)for(var e=0;e<a.length;e++){var f=a[e],g=$(f),h=g.data(d||"bind");h&&jpvs.bind(g,b,h,c)}},jpvs.bind=function(b,c,d,e){if(l(),c){var f=$.trim(d).split(",");$.each(f,function(d,f){var g=f.split("="),h=$.trim(g[0]),i=$.trim(g[1]);a(b,h,c,i,e)})}},jpvs.findElementsBoundTo=function(a,b){var d=[],e=c(a)+"/"+b;return $.each(q.relations,function(a,b){b.idTo==e&&d.push(b.element)}),d};var p;n.prototype.clearAll=function(){this.relations={}},n.prototype.put=function(a,b,c,d,e){this.relations[a+"§"+b]={idFrom:a,idTo:b,element:c,getter:d,onChangeAction:e,curValue:d()}};var q=new n}(),function(){function a(a){return a?a.getMainContentElement?a.getMainContentElement():$(a):a}jpvs.getElementIfWidget=a,jpvs.widgetDefs=[],jpvs.widgets={},jpvs.find=function(a){var b=$(a);if(0==b.length)return null;if(1==b.length)return b.data("jpvs-widget");var c=[];return b.each(function(){c.push($(this).data("jpvs-widget"))}),c.each=function(a){for(var b=0;b<c.length;b++){var d=c[b];a.call(d,d)}},c},jpvs.states={HOVER:"Hover",FOCUS:"Focus",ERROR:"Error",DISABLED:"Disabled"},jpvs.property=function(a){return function(b,c,d,e,f){if(void 0===b)return a.get.call(this);if(c)if(a.setTask){var g=a.setTask.call(this,b);jpvs.runBackgroundTask(g,d,e,f)}else if(a.set)try{a.set.call(this,b),d&&d()}catch(h){f&&f(h)}else d&&d();else if(a.set)a.set.call(this,b);else if(a.setTask){var g=a.setTask.call(this,b);jpvs.runForegroundTask(g)}return this}},jpvs.currentLocale=function(){var a="en";return jpvs.property({get:function(){return a},set:function(b){a=b,moment.locale(a)}})}(),jpvs.event=function(a){return new jpvs.Event(a)},jpvs.makeWidget=function(b){function c(b){return function(c){var d=[];return c=c||document.body,c=a(c),$(c).each(function(a,c){var e=b.create(c);d.push(b.widget.attach(e))}),1==d.length?d[0]:0==d.length?void 0:d}}function d(a){return function(b){return new a.widget(b)}}function e(b){return function(c){c&&(c=a(c),this.__WIDGET__=b.type,this.element=$(c),jpvs.widgets[this.element.attr("id")]=this,this.element.data("jpvs-widget",this),this.element.addClass("Widget"),this.element.addClass(b.cssClass),h(this),b.init.call(this,this))}}function f(a){return function(){var b=!0;a.destroy&&(b=a.destroy.call(this,this)),b&&this.element.remove()}}function g(a){return function(){return a.getMainContentElement?a.getMainContentElement.call(this,this):this.element}}function h(a){a.element.hover(function(){a.addState(jpvs.states.HOVER)},function(){a.removeState(jpvs.states.HOVER)}),a.element.focusin(function(){a.addState(jpvs.states.FOCUS)}),a.element.focusout(function(){a.removeState(jpvs.states.FOCUS)})}function i(a){return function(){return a.focus?a.focus.call(this,this):this.element.focus(),this}}function j(a){return function(b){return this.element.addClass("Widget-"+b),this.element.addClass(a.cssClass+"-"+b),this}}function k(a){return function(b){return this.element.removeClass("Widget-"+b),this.element.removeClass(a.cssClass+"-"+b),this}}jpvs.widgetDefs.push(b);var l=b.widget;if(!l)throw"Missing widget field in widget definition";if(!b.create)throw"Missing create function in widget definition";if(!b.init)throw"Missing init function in widget definition";if(l.__WIDGET__=b.type,!l.__WIDGET__)throw"Missing type field in widget definition";if(!b.cssClass)throw"Missing cssClass field in widget definition";l.create=c(b),l.attach=d(b),l.prototype.toString=function(){return this.__WIDGET__},l.prototype.attach=e(b),l.prototype.destroy=f(b),l.prototype.focus=i(b),l.prototype.addState=j(b),l.prototype.removeState=k(b),l.prototype.getMainContentElement=g(b),l.prototype.id=jpvs.property({get:function(){return this.element.attr("id")},set:function(a){this.element.attr("id",a)}}),l.prototype.ensureId=function(){this.id()&&""!=this.id()||this.id(jpvs.randomString(20))},b.prototype&&$.each(b.prototype,function(a,b){l.prototype[a]=b})},jpvs.createAllWidgets=function(){$("*").each(function(){var a=this,b=$(a),c=b.data("jpvsType");if(c){var d=jpvs[c];if(d)return void d.attach(this)}$.each(jpvs.widgetDefs,function(b,c){return c.canAttachTo&&c.canAttachTo(a)?(c.widget.attach(a),!1):void 0})})},jpvs.write=function(b,c){if(b&&(b=a(b),c)){c=c.replace("\r","");var d=c.split("\n");1==d.length?$(b).append(document.createTextNode(d[0])):d.length>1&&$.each(d,function(a,c){$(b).append(document.createTextNode(c)),$(b).append(document.createElement("br"))})}},jpvs.writeln=function(b,c){b&&(b=a(b),jpvs.write(b,c),$(b).append(document.createElement("br")))},jpvs.writeTag=function(b,c,d){if(b&&c){b=a(b);var e=document.createElement(c);return $(b).append(e),jpvs.write(e,d),$(e)}},jpvs.applyTemplate=function(b,c,d){if(b&&c){if(b=a(b),c.template)return jpvs.applyTemplate(b,c.template,d);if("string"==typeof c)return void jpvs.write(b,c);if(c.fieldName){var e=d&&d[c.fieldName];return e=c.selector?c.selector(e,d):e&&e.toString(),c.tagName?jpvs.writeTag(b,c.tagName,e):jpvs.write(b,e),void(c.css&&b.css(c.css))}return"function"==typeof c?c.call($(b),d):void jpvs.alert("JPVS Error","The specified template is not valid.")}},jpvs.readDataSource=function(a,b,c,d,e){function f(){e({total:0,start:0,count:0,data:[]})}function g(a){a.total&&a.data?e({total:a.total,start:a.start||0,count:a.data.length||0,data:a.data}):a.length?e({total:a.length,start:0,count:a.length,data:a}):f()}if(a)if("function"==typeof a){var h=a(b,c,d,g);void 0===h||(null===h?f():g(h))}else if(a.length){var i,j=a.length,k=Math.max(0,b||0);if(void 0===c||null===c)i=a.slice(k);else{var l=Math.max(0,c||0),m=k+l;i=a.slice(k,m)}e({total:j,start:k,count:i.length,data:i})}else f();else f()},jpvs.showDimScreen=function(a,b,c){function d(){jpvs.showDimScreen.timeout=null,jpvs.showDimScreen.element||(jpvs.showDimScreen.element=jpvs.writeTag("body","div").addClass("DimScreen").css({position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%",display:"none"}),jpvs.applyTemplate(jpvs.showDimScreen.element,c),jpvs.showDimScreen.element.fadeIn(null!=b?b:250))}jpvs.showDimScreen.timeout||(jpvs.showDimScreen.timeout=setTimeout(d,null!=a?a:500))},jpvs.hideDimScreen=function(a){if(jpvs.showDimScreen.timeout&&(clearTimeout(jpvs.showDimScreen.timeout),jpvs.showDimScreen.timeout=null),jpvs.showDimScreen.element){var b=jpvs.showDimScreen.element;jpvs.showDimScreen.element=null,b.fadeOut(null!=a?a:250,function(){b.remove()})}},jpvs.fitInWindow=function(b){function c(a,b,c,d){return a>c?a-c:d>b?b-d:0}if(b){b=a(b);var d=b.offset(),e=d.left,f=d.top,g=b.outerWidth(),h=b.outerHeight(),i=$(window),j=i.scrollLeft(),k=i.scrollTop(),l=i.width(),m=i.height(),n=c(j,j+l,e,e+g),o=c(k,k+m,f,f+h);if(0!=n||0!=o){var p=e+n,q=f+o;b.show().css({position:"absolute",left:p+"px",top:q+"px"})}}},jpvs.fixTableHeader=function(b){function c(){if(!r){f();var a=h&&h.css("position"),b="absolute"==a||"fixed"==a||"relative"==a,c=m.position().left,d=m.position().top,g=0;h&&(b||(g=h.position().top),c+=h.scrollLeft(),d+=h.scrollTop()),o=d-g;var i=(parseFloat(m.css("margin-left"))+parseFloat(m.css("border-left-width")),parseFloat(m.css("margin-top"))+parseFloat(m.css("border-top-width")));q=function(){return h?b?h.scrollTop()-i:g-i:$(window).scrollTop()-i},p=function(){return h?c:c},e()}}function d(){var a=h||$(window);return{top:a.scrollTop(),left:a.scrollLeft()}}function e(){if(!r){var a=d();a.top>o?g():f()}}function f(){n.hide(),m.css({position:"static"})}function g(){n.show(),m.css({position:"absolute",top:q()+"px",left:p()+"px","z-index":99999})}if(b){b=a(b);for(var h=b;;){h=h.parent();h[0].nodeName;if(!h||0==h.length||"body"==h[0].nodeName.toLowerCase()){h=null;break}var i=h.css("overflow");if("auto"==i||"scroll"==i||"hidden"==i)break}var j=[];b.find("tbody > tr:first").each(function(){$(this).children("td").each(function(a,b){j[a]=$(b).outerWidth()})});var k=0;$.each(j,function(a,b){k+=b}),b.css({"table-layout":"fixed",width:k+"px"}),b.children("colgroup, col").remove();var l=jpvs.writeTag(b,"colgroup");$.each(j,function(a,b){jpvs.writeTag(l,"col").css("width",b+"px")});var m=b.clone().attr("id",b.attr("id")+"_header");m.insertBefore(b),m.children("tbody, tfoot").remove(),b.children("caption, thead").remove(),m.css("margin-bottom","0px"),b.css("margin-top","0px");var n=jpvs.writeTag(b.parent(),"div");n.insertBefore(b),n.css({width:k+"px",height:m.outerHeight()+"px"});var o,p,q;c(),(h||$(window)).resize(c).scroll(e);var r=!1;return{refresh:function(){c()},deactivate:function(){r=!0,n.remove();var a=m.children("thead"),c=b.children("tbody");a.insertBefore(c),b.css("margin-top",m.css("margin-top")),m.remove()}}}}}(),jpvs.Event=function(a){var b=function(a,c){return b.bind(a,c)};return b.bind=jpvs.Event.prototype.bind,b.unbind=jpvs.Event.prototype.unbind,b.fire=jpvs.Event.prototype.fire,b.widget=a,b.handlers={},b.internalCounter=0,b},jpvs.Event.prototype.bind=function(a,b){return b||(b=a,a=(this.internalCounter++).toString()),this.handlers[a]=b,this.widget},jpvs.Event.prototype.unbind=function(a){return delete this.handlers[a],this.widget},jpvs.Event.prototype.fire=function(a,b,c,d){function e(b){if(b){a&&(a.currentBrowserEvent=d);var e=b.call(a,c);return a&&(a.currentBrowserEvent=null),e}}if(b)return e(this.handlers[b]);var f=!0;for(var g in this.handlers){var h=this.handlers[g],i=e(h);f=f&&i}return f},function(){function a(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");return a.substring(b+1,c)}function b(a){for(var b=a.indexOf("("),c=a.indexOf(")"),d=a.substring(b+1,c).split(","),e=0;e<d.length;e++)d[e]=$.trim(d[e]);return 1==d.length&&""==d[0]?[]:d}function c(c,d){var e=d.toString(),f=a(e),g=b(e),h={args:c,argNames:g,body:f},i=jpvs.toJSON(h);return i}function d(a){var b=jpvs.parseJSON(a),c=b.argNames;c.push(b.body);var d=Function.constructor.apply(null,c);return d.apply(null,b.args)}jpvs.Function={serializeCall:c,deserializeCall:d}}(),function(){function a(a){return"jpvsHist"+location.pathname+"#"+a}function b(b){var c=k[a(b)];c&&jpvs.Function.deserializeCall(c)}function c(b,c,d){var e=jpvs.Function.serializeCall(c,d);k[a(b)]=e}function d(){var a=window.location.toString(),b=a.indexOf("#");if(b>0){var c=$.trim(a.substring(b+1));if(c)return c}return""}function e(){j||(window.onhashchange=function(){if(l)return void(l=!1);var a=d();h(a)},j=!0)}function f(a,d){e(),c("",a,d),b("")}function g(a,b,d){e();var f=jpvs.randomString(10),g="#"+f;c(f,a,b),d&&(l=!0),window.location=g}function h(a){b(a)}function i(){e();var a=d();h(a)}var j=!1,k=window.sessionStorage||{},l=!1;jpvs.History={setStartingHistoryPoint:f,addHistoryPoint:g,reloadCurrentHistoryPoint:i}}(),function(){function a(a){return a.match(b)?'"'+a.replace(b,function(a){var b=c[a];return"string"==typeof b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}jpvs.parseJSON=function(a){return $.parseJSON(a)};var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};jpvs.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(b){if(null===b)return"null";var c=typeof b;if("undefined"===c)return void 0;if("number"===c||"boolean"===c)return""+b;if("string"===c)return a(b);if("object"===c){if("function"==typeof b.toJSON)return jpvs.toJSON(b.toJSON());if(b.constructor===Date){var d=b.getUTCMonth()+1,e=b.getUTCDate(),f=b.getUTCFullYear(),g=b.getUTCHours(),h=b.getUTCMinutes(),i=b.getUTCSeconds(),j=b.getUTCMilliseconds();return 10>d&&(d="0"+d),10>e&&(e="0"+e),10>g&&(g="0"+g),10>h&&(h="0"+h),10>i&&(i="0"+i),100>j&&(j="0"+j),10>j&&(j="0"+j),'"'+f+"-"+d+"-"+e+"T"+g+":"+h+":"+i+"."+j+'Z"'}if(b.constructor===Array){for(var k=[],l=0;l<b.length;l++)k.push(jpvs.toJSON(b[l])||"null");return"["+k.join(",")+"]"}var m,n,o=[];for(var p in b){if(c=typeof p,"number"===c)m='"'+p+'"';else{if("string"!==c)continue;m=a(p)}c=typeof b[p],"function"!==c&&"undefined"!==c&&(n=jpvs.toJSON(b[p]),o.push(m+":"+n))}return"{"+o.join(",")+"}"}}}(),function(){var a={};jpvs.runLazyTask=function(b,c,d){function e(){delete a[b],d&&d()}d&&(jpvs.cancelLazyTask(b),a[b]=setTimeout(e,c))},jpvs.cancelLazyTask=function(b){var c=a[b];null!==c&&void 0!==c&&clearTimeout(c),delete a[b]}}(),function(){var a="QWERTYUIOPLKJHGFDSAZXCVBNM1234567890",b=a.length,c=10*b;jpvs.randomString=function(d){for(var e="",f=0;d>f;f++){var g=Math.floor(Math.random()*c)%b,h=a[g];e+=h}return e}}(),jpvs.Resources={images:{empty16x16:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAA2SURBVDhPpcixEQAgAAMh9186LkDhnwUNZ9sXZsEsmAWzYBbMglkwC2bBLJgFs2AWzIL5bucCxa39H+iOy+4AAAAASUVORK5CYII=",loading:"data:image/gif;base64,R0lGODlhGAAIAPcAAAAAAP8A3ICAgP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgABACwAAAAAGAAIAAAIRAADCBxIsKBBggASKhSocGGAhgkZCpgoAADDARgHWHyYUaNEihsBdAw58uNEkhlRYgxJseLFlC9XMoQ4s2FNhwdz5gwIACH5BAkKAAEALAAAAAAYAAgAAAhDAAMIHEiwoEGCABIqFKhwYYCGCRkOmDgAAEMBGAVYfEixokSKGwFk1PhxYsiOIUeeBFnS40OVLUNCZDjzYc2DOHEGBAAh+QQJCgABACwAAAAAGAAIAAAIQwADCBxIsKBBggASKhSocGGAhgkZDpg4AIBEihYfCtgoICMAihUvTvTIsaPIkA9BkuToUeXJlRs9QmQ482HNgzhxBgQAIfkECQoAAQAsAAAAABgACAAACEMAAwgcSLCgQYIAEioUqHBhgIYJGQ6YOAAAQwEYBVh8SLGiRIobAWTU+HFiyI4hR54EWdLjQ5UtQ0JkOPNhzYM4cQYEADs=",closeButton:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADzSURBVDhPY2BmZv7EwMDwn1zMyMrK+uXnz5/7gQaQDJiYmHyYSNaFpgHDAD09PSuQyRcvXuRCVtvW1iYHEgfRKGaAvPDv37/NyBgUHjo6Om9hYufPn98LEmtpabmIrg6rF1avXn38ypUrQjDbYmNjDYAGvquqqnqE4WVsLgDZEhUVdQ9kK4wGuQKbS/HGAig8QC4BuSg4OPgtuu0EYwGkGaRp/fr1ErhiC2c0gmwH+Rtk+7JlyxTXrl0rjNUQbGEACm2Q/2H+hoUDtjBgQDcAX5QhRy3IMHDyRzYAphldIUgx0CvHYLECcwmIP/B5gYHS7AwAM9IzlWy9T8kAAAAASUVORK5CYII=",closeButtonHover:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVDhPY9TW1v6rqqrKxEAGuHHjBgOjo6Pjn717994lQz+Dk5OTGlk2I1uGYcDs2bNlm5qa1N6+fcuKrPDUqVP8IHEQjdeA1NTUxyAF69atk4ApBBm2Y8cOcQ8Pj5dmZmYf8RoAkoyMjHzy/PlzTphtIMMkJSW/o2sGqcUaBsBY+WZkZPQBZOuWLVvEQIYFBQW9wBbQOAPRx8fnFcjWc+fOCYBcJCws/JskA0CKQTaD6Js3b/LgimacLgDFBsgFINtBrrh9+zYX0S4ABR7M37DwWL58uQxRBiBHGczfoPAAaQa5Ct0QFC+ANE+dOlURW5TBohYUK8iGDHxeYFRRUfkrIyNDVqZ68OABAwDuhIRQ92DTiAAAAABJRU5ErkJggg==",subMenuMarker:"data:image/gif;base64,R0lGODlhBAAHAPAAAAAAAP///yH5BAEAAAEALAAAAAAEAAcAAAIIRA4WaeyrVCgAOw==",dataGridColumnButton:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAICAYAAAArzdW1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAP0lEQVQoU2NsaGjYwkAIgBT9//8/ChcGGwI1CWQaVgxXBDIFmyKQOIoidIUw6zEUwRQiuw+rInQPwBWBGPgwACtpkpAwaQ17AAAAAElFTkSuQmCC",dataGridColumnButtonHover:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAICAYAAAArzdW1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAPklEQVQoU2NsaGj4z0AIgBQBAYjAisGGQE0CmYYVwxWBTMGmCCSOoghdIcx6DEUwhcjuw6oI3QNwRSAGPgwAytOhjjbmr7UAAAAASUVORK5CYII=",moveButton:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAADlSURBVHjapFLRDsIgDLxuU598WvgAfdXo/3+Xr7BaGDDoGDGxySUb9NrrFQLu2IIFSwEnB44EqGHDPbPFAMh9QCJzJp/My39zUTCT129gWjtXXSPJSfVMkH9Lmoy19a1VIMkV4kdyzmqEODCzV6CJSyN5T04xKdkNw6DJHE0LMcSuvCUdKaiCiwLe7Tcu2XGXcQ1nITljNk/M5pGLiBST9o3GCHI+klKQupM3MY7giVr6oXwoD9JuLfXcbpHjFlzzhf0aw0berSoYVhjYK5AeUC2TNh51RIw9hdy9lC2EVfwTXwEGAJ3OoklJmLc2AAAAAElFTkSuQmCC",nodeClosed:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAABl0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuNtCDrVoAAABrSURBVDhP7ZI9CsAgDEY9fM7g6iReJYcIuAXUwSN8kkLHgj+FLs0cHo+XOPfPYwFmRu8d24lijEgpIee8BzFArRUhBIjIOsQApl9KgfcerbU1yA0wiKqCiC6j6SavGBw3OLrC8R9Mx/p8cQCaS2KwCQA20AAAAABJRU5ErkJggg==",nodeOpen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAABl0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuNtCDrVoAAABCSURBVDhPY2AYBfQJgV27dv3v6Oj4T5ZtIM1qampgTLIBMM2RkZGkG4CsmWQD0DWTbAAowGD+htFkByLJATcCNQAAuT01LwirJNQAAAAASUVORK5CYII=",nodeNoChildren:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAABl0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuNtCDrVoAAABlSURBVDhP7ZAxCoAhCIW7/zl0ChcHIQiiwQt0IX9sCNoy+LcEF/F9Pl9Kr/5JgIgMAAwRV4uIHV9zYSllCcYYExQC+HKt1VR1Cq8ALmbmO0BrbVnuvcdeyDlvAbp9nx1n8BZjCXzXd1UGM4buRAAAAABJRU5ErkJggg==",down:"data:image/png;base64,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",minus:"data:image/png;base64,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",plus:"data:image/png;base64,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",
up:"data:image/png;base64,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"}},function(){var a,b="jpvs.SessionID";jpvs.getSessionID=function(){if(!a)try{a=sessionStorage[b]}catch(c){}if(!a){a=jpvs.randomString(50);try{sessionStorage[b]=a}catch(c){}}return a}}(),function(){jpvs.addGestureListener=function(a,b,c){function d(a){function d(a){c&&c(a)}function g(){var a=[];for(var c in e){var f=e[c];a.push(f)}if(1==a.length){var g=a[0].current.clientX-a[0].start.clientX,h=a[0].current.clientY-a[0].start.clientY,i=Math.sqrt(g*g+h*h);if(i>b.tapMaxDistance&&(a[0].dragging=!0),a[0].dragging){var j={target:a[0].start.target,isDrag:!0,dragX:a[0].current.clientX-a[0].previous.clientX,dragY:a[0].current.clientY-a[0].previous.clientY,totalDragX:a[0].current.clientX-a[0].start.clientX,totalDragY:a[0].current.clientY-a[0].start.clientY,current:{clientX:a[0].current.clientX,clientY:a[0].current.clientY,pageX:a[0].current.pageX,pageY:a[0].current.pageY},start:{clientX:a[0].start.clientX,clientY:a[0].start.clientY,pageX:a[0].start.pageX,pageY:a[0].start.pageY}};j.toString=function(){return"Drag: "+this.dragX+"; "+this.dragY+" - Total drag: "+this.totalDragX+"; "+this.totalDragY},d(j)}}else if(2==a.length){var k=a[0].start.clientX-a[1].start.clientX,l=a[0].start.clientY-a[1].start.clientY,m=Math.sqrt(k*k+l*l),n=Math.atan2(l,k),o=a[0].current.clientX-a[1].current.clientX,p=a[0].current.clientY-a[1].current.clientY,q=Math.sqrt(o*o+p*p),r=Math.atan2(p,o),s=a[0].previous.clientX-a[1].previous.clientX,t=a[0].previous.clientY-a[1].previous.clientY,u=Math.sqrt(s*s+t*t),v=Math.atan2(t,s),w=q-m,x=r-n;if(Math.abs(x)>b.rotationThreshold){a[0].rotating=!0,a[1].rotating=!0;var y=a[0].rotateTracker||a[1].rotateTracker||{};a[0].rotateTracker=y,a[1].rotateTracker=y}if(Math.abs(w)>b.tapMaxDistance){a[0].zooming=!0,a[1].zooming=!0;var z=a[0].zoomTracker||a[1].zoomTracker||{};a[0].zoomTracker=z,a[1].zoomTracker=z}if(a[0].rotating&&a[1].rotating){var j={target1:a[0].start.target,target2:a[1].start.target,isRotate:!0,angle:r-v,totalAngle:r-n,current1:{clientX:a[0].current.clientX,clientY:a[0].current.clientY,pageX:a[0].current.pageX,pageY:a[0].current.pageY},start1:{clientX:a[0].start.clientX,clientY:a[0].start.clientY,pageX:a[0].start.pageX,pageY:a[0].start.pageY},current2:{clientX:a[1].current.clientX,clientY:a[1].current.clientY,pageX:a[1].current.pageX,pageY:a[1].current.pageY},start2:{clientX:a[1].start.clientX,clientY:a[1].start.clientY,pageX:a[1].start.pageX,pageY:a[1].start.pageY}};j.toString=function(){return"Rotate: "+this.angle+" - Total angle: "+this.totalAngle},a[0].rotateTracker.totalAngle=j.totalAngle,a[0].rotateTracker.target1=j.target1,a[0].rotateTracker.target2=j.target2,a[0].rotateTracker.start1=j.start1,a[0].rotateTracker.start2=j.start2,a[0].rotateTracker.current1=j.current1,a[0].rotateTracker.current2=j.current2,d(j)}if(a[0].zooming&&a[1].zooming){var j={target1:a[0].start.target,target2:a[1].start.target,isZoom:!0,zoomFactor:q/u,totalZoomFactor:q/m,current1:{clientX:a[0].current.clientX,clientY:a[0].current.clientY,pageX:a[0].current.pageX,pageY:a[0].current.pageY},start1:{clientX:a[0].start.clientX,clientY:a[0].start.clientY,pageX:a[0].start.pageX,pageY:a[0].start.pageY},current2:{clientX:a[1].current.clientX,clientY:a[1].current.clientY,pageX:a[1].current.pageX,pageY:a[1].current.pageY},start2:{clientX:a[1].start.clientX,clientY:a[1].start.clientY,pageX:a[1].start.pageX,pageY:a[1].start.pageY}};j.toString=function(){return"Zoom: "+this.zoomFactor+" - Total zoom: "+this.totalZoomFactor},a[0].zoomTracker.totalZoomFactor=j.totalZoomFactor,a[0].zoomTracker.target1=j.target1,a[0].zoomTracker.target2=j.target2,a[0].zoomTracker.start1=j.start1,a[0].zoomTracker.start2=j.start2,a[0].zoomTracker.current1=j.current1,a[0].zoomTracker.current2=j.current2,d(j)}}}function h(){for(var a={},c=0;c<i.touches.length;c++){var g=i.touches[c],h=e[g.identifier];a[g.identifier]=!0,h||(h={start:{target:g.target,time:j,clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY},current:{target:g.target,time:j,clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY}},e[g.identifier]=h),h.previous=h.current,h.current={target:g.target,time:j,clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY}}for(var k in e)if(!a[k]){var h=e[k];if(delete e[k],h.rotating){var l={target1:h.rotateTracker.target1,target2:h.rotateTracker.target2,isRotate:!1,isEndRotate:!0,totalAngle:h.rotateTracker.totalAngle,start1:h.rotateTracker.start1,start2:h.rotateTracker.start2,current1:h.rotateTracker.current1,current2:h.rotateTracker.current2};l.toString=function(){return"End of rotation: total angle "+this.totalAngle},d(l)}if(h.zooming){var l={target1:h.zoomTracker.target1,target2:h.zoomTracker.target2,isZoom:!1,isEndZoom:!0,totalZoomFactor:h.zoomTracker.totalZoomFactor,start1:h.zoomTracker.start1,start2:h.zoomTracker.start2,current1:h.zoomTracker.current1,current2:h.zoomTracker.current2};l.toString=function(){return"End of zoom: total factor "+this.totalZoomFactor},d(l)}if(h.dragging){var l={target:h.start.target,isDrag:!1,isEndDrag:!0,totalDragX:h.current.clientX-h.start.clientX,totalDragY:h.current.clientY-h.start.clientY,current:{clientX:h.current.clientX,clientY:h.current.clientY,pageX:h.current.pageX,pageY:h.current.pageY},start:{clientX:h.start.clientX,clientY:h.start.clientY,pageX:h.start.pageX,pageY:h.start.pageY}};l.toString=function(){return"End of drag"},d(l)}if(!h.rotating&&!h.zooming&&!h.dragging&&0==i.touches.length){var m=h.current.clientX-h.start.clientX,n=h.current.clientY-h.start.clientY,o=Math.sqrt(m*m+n*n);if(o<b.tapMaxDistance){var p=j-h.start.time,l={target:h.start.target,isTap:!0,isLongTap:p>=b.longTapThreshold,clientX:h.start.clientX,clientY:h.start.clientY,pageX:h.start.pageX,pageY:h.start.pageY};if(l.isLongTap)f=null;else{if(f&&(p=h.start.time-f.time,p<b.doubleTapThreshold)){m=h.start.clientX-f.clientX,n=h.start.clientY-f.clientY;var o=Math.sqrt(m*m+n*n);o<b.tapMaxDistance&&(l.isDoubleTap=!0,f=null)}l.isDoubleTap||(f={time:j,clientX:h.start.clientX,clientY:h.start.clientY})}l.toString=function(){return"Tap: "+(this.isLongTap?"long":"short")+" - "+(this.isDoubleTap?"double":"simple")},d(l)}}}}var i=a.originalEvent;if(b.allowedEventTargets(i.target)){var j=(new Date).getTime();return h(),g(),a.stopPropagation(),a.preventDefault(),!1}}b=b||{},b.tapMaxDistance=b.tapMaxDistance||15,b.longTapThreshold=b.longTapThreshold||500,b.doubleTapThreshold=b.doubleTapThreshold||250,b.rotationThreshold=b.rotationThreshold||10*Math.PI/180,b.allowedEventTargets=b.allowedEventTargets||function(a){return!$(a).is("a, a *, select, select *, input, input *, button, button *, .jpvs-Ignore-Touch, .jpvs-Ignore-Touch *")},a=jpvs.getElementIfWidget(a),a.on("touchstart",d),a.on("touchmove",d),a.on("touchend",d),a.on("touchcancel",d);var e={},f=null}}(),function(){var a=["p","th","td"];!function(b){function c(a,b,c,d){if(!a.tag.isInline&&c.length>0)for(c.push("\n"),i=0;i<d;i++)c.push("	")}function d(a,e){var f,g=[],h=0==a.attributes.length,i=(this.name.concat(void 0==a.tag.rawAttributes?"":a.tag.rawAttributes),a.tag.render&&(0==e.allowedTags.length||b.inArray(a.tag.name,e.allowedTags)>-1)&&(0==e.removeTags.length||-1==b.inArray(a.tag.name,e.removeTags)));if(!a.isRoot&&i&&(g.push("<"),g.push(a.tag.name),b.each(a.attributes,function(){if(-1==b.inArray(this.name,e.removeAttrs)){var c=RegExp(/^(['"]?)(.*?)['"]?$/).exec(this.value),d=c[2],f=c[1]||'"';"class"==this.name&&(d=b.grep(d.split(" "),function(c){return b.grep(e.allowedClasses,function(d){return d[0]==c&&(1==d.length||b.inArray(a.tag.name,d[1])>-1)}).length>0}).join(" "),f='"'),null!=d&&(d.length>0||b.inArray(this.name,a.tag.requiredAttributes)>-1)&&(g.push(" "),g.push(this.name),g.push("="),g.push(f),g.push(d),g.push(f))}})),a.tag.isSelfClosing)i&&g.push(" />"),h=!1;else if(a.tag.isNonClosing)h=!1;else{!a.isRoot&&i&&g.push(">");var f=e.formatIndent++;if(a.tag.toProtect){var n=b.htmlClean.trim(a.children.join("")).replace(/<br>/gi,"\n");g.push(n),h=0==n.length}else{for(var n=[],p=0;p<a.children.length;p++){var q=a.children[p],r=b.htmlClean.trim(o(l(q)?q:q.childrenToString()));m(q)&&p>0&&r.length>0&&(j(q)||k(a.children[p-1]))&&n.push(" "),l(q)?r.length>0&&n.push(r):(p!=a.children.length-1||"br"!=q.tag.name)&&(e.format&&c(q,e,n,f),n=n.concat(d(q,e)))}e.formatIndent--,n.length>0&&(e.format&&"\n"!=n[0]&&c(a,e,g,f),g=g.concat(n),h=!1)}!a.isRoot&&i&&(e.format&&c(a,e,g,f-1),g.push("</"),g.push(a.tag.name),g.push(">"))}return!a.tag.allowEmpty&&h?[]:g}function e(a,c,d){return d=d||1,b.inArray(a[a.length-d].tag.name,c)>-1?!0:a.length-(d+1)>0&&e(a,c,d+1)?(a.pop(),!0):!1}function f(a){return a?(this.tag=a,this.isRoot=!1):(this.tag=new h("root"),this.isRoot=!0),this.attributes=[],this.children=[],this.hasAttribute=function(a){for(var b=0;b<this.attributes.length;b++)if(this.attributes[b].name==a)return!0;return!1},this.childrenToString=function(){return this.children.join("")},this}function g(a,b){return this.name=a,this.value=b,this}function h(a,c,d,e){if(this.name=a.toLowerCase(),this.isSelfClosing=b.inArray(this.name,u)>-1,this.isNonClosing=b.inArray(this.name,v)>-1,this.isClosing=void 0!=c&&c.length>0,this.isInline=b.inArray(this.name,p)>-1,this.disallowNest=b.inArray(this.name,q)>-1,this.requiredParent=s[b.inArray(this.name,s)+1],this.allowEmpty=b.inArray(this.name,r)>-1,this.toProtect=b.inArray(this.name,t)>-1,this.rawAttributes=d,this.requiredAttributes=x[b.inArray(this.name,x)+1],e){if(e.tagAttributesCache||(e.tagAttributesCache=[]),-1==b.inArray(this.name,e.tagAttributesCache)){for(var f=w[b.inArray(this.name,w)+1].slice(0),g=0;g<e.allowedAttributes.length;g++){var h=e.allowedAttributes[g][0];(1==e.allowedAttributes[g].length||b.inArray(this.name,e.allowedAttributes[g][1])>-1)&&-1==b.inArray(h,f)&&f.push(h)}e.tagAttributesCache.push(this.name),e.tagAttributesCache.push(f)}this.allowedAttributes=e.tagAttributesCache[b.inArray(this.name,e.tagAttributesCache)+1]}return this.render=!0,this}function j(a){for(;n(a)&&a.children.length>0;)a=a.children[0];return l(a)&&a.length>0&&b.htmlClean.isWhitespace(a.charAt(0))}function k(a){for(;n(a)&&a.children.length>0;)a=a.children[a.children.length-1];return l(a)&&a.length>0&&b.htmlClean.isWhitespace(a.charAt(a.length-1))}function l(a){return a.constructor==String}function m(a){return l(a)||a.tag.isInline}function n(a){return a.constructor==f}function o(a){return a.replace(/&nbsp;|\n/g," ").replace(/\s\s+/g," ")}b.fn.htmlClean=function(a){return this.each(function(){b(this);this.value?this.value=b.htmlClean(this.value,a):this.innerHTML=b.htmlClean(this.innerHTML,a)})},b.htmlClean=function(a,c){c=b.extend({},b.htmlClean.defaults,c);var i,j=/<(\/)?(\w+:)?([\w]+)([^>]*)>/gi,k=/(\w+)=(".*?"|'.*?'|[^\s>]*)/gi,m=new f,n=[m],o=m;c.bodyOnly&&(i=/<body[^>]*>((\n|.)*)<\/body>/i.exec(a))&&(a=i[1]),a=a.concat("<xxx>");for(var p;i=j.exec(a);){var q=new h(i[3],i[1],i[4],c),r=a.substring(p,i.index);if(r.length>0){var s=o.children[o.children.length-1];o.children.length>0&&l(s=o.children[o.children.length-1])?o.children[o.children.length-1]=s.concat(r):o.children.push(r)}if(p=j.lastIndex,q.isClosing)e(n,[q.name])&&(n.pop(),o=n[n.length-1]);else{for(var t,u=new f(q);t=k.exec(q.rawAttributes);){if("style"==t[1].toLowerCase()&&c.replaceStyles)for(var v=!q.isInline,w=0;w<c.replaceStyles.length;w++)c.replaceStyles[w][0].test(t[2])&&(v||(q.render=!1,v=!0),o.children.push(u),n.push(u),o=u,q=new h(c.replaceStyles[w][1],"","",c),u=new f(q));null!=q.allowedAttributes&&(0==q.allowedAttributes.length||b.inArray(t[1],q.allowedAttributes)>-1)&&u.attributes.push(new g(t[1],t[2]))}b.each(q.requiredAttributes,function(){var a=this.toString();u.hasAttribute(a)||u.attributes.push(new g(a,""))});for(var x=0;x<c.replace.length;x++)for(var y=0;y<c.replace[x][0].length;y++){var z="string"==typeof c.replace[x][0][y];if(z&&c.replace[x][0][y]==q.name||!z&&c.replace[x][0][y].test(i)){q.render=!1,o.children.push(u),n.push(u),o=u,q=new h(c.replace[x][1],i[1],i[4],c),u=new f(q),u.attributes=o.attributes,x=c.replace.length;break}}var A=!0;if(o.isRoot||(o.tag.isInline&&!q.isInline?A=!1:o.tag.disallowNest&&q.disallowNest&&!q.requiredParent?A=!1:q.requiredParent&&(A=e(n,q.requiredParent))&&(o=n[n.length-1])),A)if(o.children.push(u),q.toProtect)for(;tagMatch2=j.exec(a);){var B=new h(tagMatch2[3],tagMatch2[1],tagMatch2[4],c);if(B.isClosing&&B.name==q.name){u.children.push(RegExp.leftContext.substring(p)),p=j.lastIndex;break}}else q.isSelfClosing||q.isNonClosing||(n.push(u),o=u)}}return b.htmlClean.trim(d(m,c).join(""))},b.htmlClean.defaults={bodyOnly:!0,allowedTags:[],removeTags:["basefont","center","dir","font","frame","frameset","iframe","isindex","menu","noframes","s","strike","u"],allowedAttributes:[],removeAttrs:[],allowedClasses:[],format:!1,formatIndent:0,replace:[[["b","big"],"strong"],[["i"],"em"]],replaceStyles:[[/font-weight:\s*bold/i,"strong"],[/font-style:\s*italic/i,"em"],[/vertical-align:\s*super/i,"sup"],[/vertical-align:\s*sub/i,"sub"]]},b.htmlClean.trim=function(a){return b.htmlClean.trimStart(b.htmlClean.trimEnd(a))},b.htmlClean.trimStart=function(a){return a.substring(b.htmlClean.trimStartIndex(a))},b.htmlClean.trimStartIndex=function(a){for(var c=0;c<a.length-1&&b.htmlClean.isWhitespace(a.charAt(c));c++);return c},b.htmlClean.trimEnd=function(a){return a.substring(0,b.htmlClean.trimEndIndex(a))},b.htmlClean.trimEndIndex=function(a){for(var c=a.length-1;c>=0&&b.htmlClean.isWhitespace(a.charAt(c));c--);return c+1},b.htmlClean.isWhitespace=function(a){return-1!=b.inArray(a,y)};var p=["a","abbr","acronym","address","b","big","br","button","caption","cite","code","del","em","font","hr","i","input","img","ins","label","legend","map","q","s","samp","select","small","span","strike","strong","sub","sup","tt","u","var"],q=["h1","h2","h3","h4","h5","h6","p","th","td"],r=a||["th","td"],s=[null,"li",["ul","ol"],"dt",["dl"],"dd",["dl"],"td",["tr"],"th",["tr"],"tr",["table","thead","tbody","tfoot"],"thead",["table"],"tbody",["table"],"tfoot",["table"]],t=["script","style","pre","code"],u=["br","hr","img","link","meta"],v=["!doctype","?xml"],w=[["class"],"?xml",[],"!doctype",[],"a",["accesskey","class","href","name","title","rel","rev","type","tabindex"],"abbr",["class","title"],"acronym",["class","title"],"blockquote",["cite","class"],"button",["class","disabled","name","type","value"],"del",["cite","class","datetime"],"font",["face","size","color"],"form",["accept","action","class","enctype","method","name"],"input",["accept","accesskey","alt","checked","class","disabled","ismap","maxlength","name","size","readonly","src","tabindex","type","usemap","value"],"img",["alt","class","height","src","width"],"ins",["cite","class","datetime"],"label",["accesskey","class","for"],"legend",["accesskey","class"],"link",["href","rel","type"],"meta",["content","http-equiv","name","scheme","charset"],"map",["name"],"optgroup",["class","disabled","label"],"option",["class","disabled","label","selected","value"],"q",["class","cite"],"script",["src","type"],"select",["class","disabled","multiple","name","size","tabindex"],"style",["type"],"table",["class","summary"],"th",["class","colspan","rowspan"],"td",["class","colspan","rowspan"],"textarea",["accesskey","class","cols","disabled","name","readonly","rows","tabindex"]],x=[[],"img",["alt"]],y=[" "," ","	","\n","\r","\f"]}(jQuery),jpvs.cleanHtml=function(a,b){var c={bodyOnly:!1,allowedTags:["h1","h2","h3","h4","h5","h6","br","hr","div","span","img","p","font","ul","ol","li","i","em","b","strong","u","sup","sub","table","thead","tbody","tfoot","tr","td","th"],removeTags:[null],allowedAttributes:[["style"],["align"],["src",["img"]]],removeAttrs:[],allowedClasses:[],format:!1,formatIndent:0,replace:[[["b","big"],"strong"],[["i"],"em"]],replaceStyles:[[/font-weight:\s*bold/i,"strong"],[/font-style:\s*italic/i,"em"],[/vertical-align:\s*super/i,"sup"],[/vertical-align:\s*sub/i,"sub"]]};return jQuery.htmlClean(a||"",b||c)},jpvs.stripHtml=function(a){var b={bodyOnly:!1,allowedTags:[null],removeTags:[],allowedAttributes:[],removeAttrs:[],allowedClasses:[],format:!1,formatIndent:0,replace:[],replaceStyles:[]};return jQuery.htmlClean(a||"",b)}}();var SvgParser=function(){function a(a){var c=XmlParser.parseString(a,b);return c?{ids:c.__$ids$__,elements:c.children}:null}function b(a,b){function f(a,b,c){if("style"==b)k(a,c);else if("fill"==b)h(a,c);else if("stroke"==b)j(a,c);else if("d"==b)g(a,c);else{var d=/%$/g.test(c),e=parseFloat(c),f=isFinite(e)&&!d;a[b]=f?e:c}}function g(a,b){var c=e(b);a.d=c}function h(a,e){if(!e)return void(a.fill={});if(e=c(e),""==e||"none"==e.toLowerCase())return void(a.fill={});var f=/^url *\( *#(.+) *\) *$/gi,g=f.exec(e);if(g){var h=g[1],j=b.__$ids$__[h];if("linearGradient"==j.name){var k=i(j.x1),l=i(j.x2),m=i(j.y1),n=i(j.y2);a.fill={linearGradient:{x1:k,y1:m,x2:l,y2:n,stops:[]}};for(var o in j.children){var p=j.children[o];if("stop"==p.name){var q=p.offset,r=d(p["stop-color"]),s=p["stop-opacity"];null!=s&&(r.a*=s),a.fill.linearGradient.stops.push({color:r,offset:q})}}}}else a.fill={color:d(e)}}function i(a){return/%$/g.test(a)?parseFloat(a.substring(0,a.length-1))/100:parseFloat(a)}function j(a,b){return b?(b=c(b),""==b||"none"==b.toLowerCase()?void(a.stroke={}):void(a.stroke={color:d(b)})):void(a.stroke={})}function k(a,b){b=c(b);var d=b.split(";");for(var e in d){var g=d[e],h=g.split(":"),i=c(h[0]),j=c(h[1]);f(a,i,j)}}b.__$ids$__||(b.__$ids$__={}),a.attributes.id&&(b.__$ids$__[a.attributes.id]=a);for(var l=0;l<a.children.length;l++){var m=a.children[l];"#COMMENT"==m.name&&a.children.splice(l--,1)}delete a.value;for(var l in a.attributes){var n=a.attributes[l];f(a,l,n)}delete a.attributes}function c(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function d(a){function b(a){return a=c(a),3==a.length&&(a=String.fromCharCode(a.charCodeAt(0),a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(2))),{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16),a:1}}function e(a){if(a=c(a),/^\(.*\)$/gi.test(a)){a=a.substring(1,a.length-1);var b=c(a).split(","),d=parseInt(b[0]),e=parseInt(b[1]),g=parseInt(b[2]),h=1;return{r:d,g:e,b:g,a:h}}return f}function h(a){if(a=c(a),/^\(.*\)$/gi.test(a)){a=a.substring(1,a.length-1);var b=c(a).split(","),d=parseInt(b[0]),e=parseInt(b[1]),g=parseInt(b[2]),h=parseFloat(b[3]);return{r:d,g:e,b:g,a:h}}return f}return a?(a=c(a),""==a?f:/^#/gi.test(a)?b(a.substring(1)):/^RGB[^A]/gi.test(a)?e(a.substring(3)):/^RGBA/gi.test(a)?h(a.substring(4)):(a=a.toLowerCase(),a=g[a],d(a))):f}function e(a){if(!a)return null;if(a=c(a),""==a)return null;for(var b,d,e=0,f=1,g=2,j=[],k=e,l=0;l<a.length;l++){var m=a[l];k==e?i.indexOf(m)>=0&&(b={cmd:m,params:[]},j.push(b),k=f):k==f?i.indexOf(m)>=0?(b={cmd:m,params:[]},j.push(b),k=f):h.indexOf(m)>=0&&(d=m,k=g):k==g&&(h.indexOf(m)>=0?d+=m:i.indexOf(m)>=0?(b.params.push(parseFloat(d)),d=null,b={cmd:m,params:[]},j.push(b),k=f):(b.params.push(parseFloat(d)),d=null,k=f))}return d&&b.params.push(parseFloat(d)),j}var f={r:0,g:0,b:0,a:1},g={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",green:"#008000",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},h="1234567890.-+",i="qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM";return{parseString:a,parseColor:d,parsePathDefinition:e}}(),XmlParser=function(){function a(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function b(){return{name:"",attributes:{},children:[],value:null}}function c(a){return{name:"#TEXT",attributes:{},children:[],value:a}}function d(d,m,n){function o(a){if(a&&(m(a,C),a.children))for(var b in a.children){var c=a.children[b];o(c)}}function p(){throw"Invalid character: "+z}function q(){throw"Unexpected parser state: "+u}if(!d||""==d)return null;for(var r,s,t,u=e,v=[],w="",x="",y=0;y<d.length;y++){var z=d[y];if(u==e)if("<"==z){if(u=f,n||(w=a(w)),w.length>0){var A=c(w);r.children.push(A)}w="";var B=r;r=b(),v.push(r),B&&B.children.push(r)}else w+=z;else u==f?" "==z?u=g:"/"==z?""==r.name?r.closing=!0:u=k:">"==z?(u=e,r.closing&&(v.length>1&&(v.pop(),r=v[v.length-1],r.children.pop()),v.length>1&&(v.pop(),r=v[v.length-1]))):(r.name+=z,"!--"==r.name&&(x="",u=l)):u==g?" "==z||("/"==z?u=k:">"==z?u=e:(u=h,s=z,t="")):u==h?"="==z?u=i:s+=z:u==i?" "==z||('"'==z?u=j:p()):u==j?'"'==z?(u=g,r.attributes[a(s)]=t):t+=z:u==k?" "==z||(">"==z?(u=e,v.length>1&&(v.pop(),r=v[v.length-1])):p()):u==l?(x+=z,/-->$/gi.test(x)&&(x=a(x.substring(0,x.length-3)),r.name="#COMMENT",r.value=x,v.pop(),r=v[v.length-1],u=e)):q()}var C=v[0]||null;return m&&o(C),C}var e=0,f=1,g=2,h=3,i=4,j=5,k=6,l=7;return{parseString:d}}();!function(){function a(a,b,c){var d=a[g+b];if(!d)return c;var e=$.parseJSON(d);return e}function b(a,b,c){var d=jpvs.toJSON(c);a[g+b]=d}function c(a,b){a.removeItem(g+b)}function d(a,b){for(var c=a.length,d=0;c>d;d++){var e=a.key(d);if(0==e.indexOf(g)){var f=e.substring(h),i=a.getItem(f),j=$.parseJSON(i);if(b(f,j)===!1)return}}}function e(a,b){return a+"."+b}function f(a,b){this.storage=a,this.id=b.id,this.name=b.name}var g="jpvs.Storage.",h=g.length;f.prototype.getCount=function(){if(this.deleted)return 0;var a=this.name+".",b=a.length,c=0;return d(this.storage,function(d,e){if(0==d.indexOf(a)){var f=d.substring(b),g=parseInt(f);isFinite(g)&&(c=Math.max(c,g+1))}}),c},f.prototype.getItem=function(b){if(this.deleted)return null;var c=e(this.name,b),d=a(this.storage,c,null);return d},f.prototype.setItem=function(a,c){if(!this.deleted){var d=e(this.name,a);b(this.storage,d,c)}},f.prototype.removeItem=function(a){if(!this.deleted){var b=e(this.name,a);c(this.storage,b)}},f.prototype.removeAllItems=function(){if(!this.deleted)for(var a=this.getCount(),b=0;a>b;b++)this.removeItem(b)},f.prototype.listItems=function(){if(this.deleted)return[];var a=[];return this.each(function(b,c){a.push(c)}),a},f.prototype.each=function(a){if(!this.deleted)for(var b=this.getCount(),c=0;b>c;c++)if(a(c,this.getItem(c))===!1)return},f.prototype.deleteDomain=function(){if(!this.deleted){this.removeAllItems();var c=a(this.storage,"Domains",{});delete c[this.id],b(this.storage,"Domains",c),this.deleted=!0}},jpvs.Storage={listDomains:function(b){var c=a(b,"Domains",{}),d=[];return $.each(c,function(a,c){d.push(new f(b,c))}),d},getDomain:function(c,d){var e,g=a(c,"Domains",{});if($.each(g,function(a,b){return b.name==d?(e=new f(c,b),!1):void 0}),e)return e;var h={id:jpvs.randomString(20),name:d},i=new f(c,h);return g[h.id]=h,b(c,"Domains",g),i}}}(),function(){function a(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(!jpvs.equals(d,e))return!1}return!0}function b(a,b){if(a.getTime&&b.getTime)return a.getTime()==b.getTime();if(!a.getTime&&b.getTime)return!1;if(a.getTime&&!b.getTime)return!1;var c={};for(var d in a){var e=a[d],f=b[d];if(!jpvs.equals(e,f))return!1;c[d]=!0}for(var d in b)if(!c[d]){var e=a[d],f=b[d];if(!jpvs.equals(e,f))return!1}return!0}jpvs.equals=function(c,d){return c===d?!0:null===c&&null===d?!0:null===c&&null!==d?!1:null!==c&&null===d?!1:void 0===c&&void 0===d?!0:void 0===c&&void 0!==d?!1:void 0!==c&&void 0===d?!1:c===!0&&d===!0?!0:c===!0&&d!==!0?!1:c!==!0&&d===!0?!1:c===!1&&d===!1?!0:c===!1&&d!==!1?!1:c!==!1&&d===!1?!1:typeof c!=typeof d?!1:"number"==typeof c?isNaN(c)&&isNaN(d)?!0:isNaN(c)&&!isNaN(d)?!1:!isNaN(c)&&isNaN(d)?!1:c==d:"string"==typeof c?c==d:void 0!==c.length&&void 0!==d.length?a(c,d):void 0!==c.length&&void 0===d.length?!1:void 0===c.length&&void 0!==d.length?!1:b(c,d)}}(),function(){function a(a,b,c){return"EQ"==b?a==c:"NEQ"==b?a!=c:"CONTAINS"==b?a.indexOf(c)>=0:"NCONTAINS"==b?a.indexOf(c)<0:"STARTS"==b?0==a.indexOf(c):"NSTARTS"==b?0!=a.indexOf(c):"LT"==b?c>a:"LTE"==b?c>=a:"GT"==b?a>c:"GTE"==b?a>=c:!1}jpvs.filter=function(b,c){for(var d=[],e=0;e<b.length;e++){for(var f=b[e],g=!1,h=0;h<c.length;h++){var i=c[h],j=(i.selector(f)||"").toString().toUpperCase(),k=(i.value||"").toString().toUpperCase(),l=i.operand.toUpperCase(),m=a(j,l,k);if(!m){g=!0;break}}g||d.push(f)}return d}}(),function(){function a(a){return function(b,c){for(var d=0;d<a.length;d++){var e=a[d],f=e.selector(b),g=e.selector(c),h=jpvs.compare(f,g);if(0!=h)return e.descending?-h:h}return 0}}jpvs.sort=function(b,c){for(var d=[],e=0;e<b.length;e++)d.push(b[e]);return d.sort(a(c)),d},jpvs.compare=function(a,b){if(void 0===a)return void 0===b?0:-1;if(null===a)return void 0===b?1:null===b?0:-1;if(void 0===b)return 1;if(null===b)return 1;var c="number"==typeof a,d="number"==typeof b;if(c&&d)return a-b;if(c&&!d)return-1;if(!c&&d)return 1;var e=a.toString().toUpperCase(),f=b.toString().toUpperCase();return e>f?1:f>e?-1:0}}(),jpvs.Button=function(a){this.attach(a),this.click=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.Button,type:"Button",cssClass:"Button",create:function(a){var b=document.createElement("button");return $(b).attr("type","button"),$(a).append(b),b},init:function(a){this.element.click(function(){return a.click.fire(a)})},canAttachTo:function(a){return $(a).is('button,input[type="button"]')},prototype:{text:jpvs.property({get:function(){return this.element.text()},set:function(a){this.element.text(a)}})}}),jpvs.writeButtonBar=function(a,b){if(a&&b){a=jpvs.getElementIfWidget(a);var c=$(document.createElement("div"));return $(c).addClass("ButtonBar").appendTo(a),$.each(b,function(a,b){var d=jpvs.Button.create(c);d.text(b.text||"OK").click.bind(b.click)}),c}},jpvs.CheckBox=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.CheckBox,type:"CheckBox",cssClass:"CheckBox",create:function(a){var b=document.createElement("input");return $(b).attr("type","checkbox"),$(a).append(b),b},init:function(a){this.element.click(function(){return a.change.fire(a)}),this.element.change(function(){return a.change.fire(a)})},canAttachTo:function(a){return $(a).is('input[type="checkbox"]')},prototype:{checked:jpvs.property({get:function(){return this.element.prop("checked")},set:function(a){this.element.prop("checked",a?!0:!1)}}),text:jpvs.property({get:function(){this.ensureId();var a=$('label[for="'+this.id()+'"]');return a.text()},set:function(a){this.ensureId();var b=$('label[for="'+this.id()+'"]');
0==b.length&&(b=$(document.createElement("label")),b.attr("for",this.id()),b.insertAfter(this.element),this.label=b),b.text(a)}})}}),function(){function a(a,b,c){var d=a.binder()||jpvs.DataGrid.defaultBinder;d.call(a,b,c)}function b(a,b){var c=a.element.children(b);return 0==c.length&&(c=$(document.createElement(b)),a.element.append(c)),c}function c(a,b,c,d,f){var h=$(document.createElement("tr"));if(null===f||void 0===f)c.append(h),a.enableEvenOdd()&&e(-1,c);else{var i=c.children("tr");0==i.length?c.append(h):i.eq(f).before(h),a.enableEvenOdd()&&e(f,c)}var j=a.template(),k=a.emptyRowTemplate();j&&g(h,b,j,k,d)}function d(a,b,c,d){(null===d||void 0===d)&&(d=1),1==d?b.children("tr").eq(c).remove():d>1&&b.children("tr").slice(c,c+d).remove(),a.enableEvenOdd()&&e(c,b)}function e(a,b){var c=b.children("tr");0>a&&(a+=c.length);for(var d=a%2==0,e=a;e<c.length;e++){var f=c.eq(e);f.removeClass("Even Odd").addClass(d?"Even":"Odd"),d=!d}}function f(a){return"thead"==a?"header":"tfoot"==a?"footer":"body"}function g(a,b,c,d,e){a.empty(),e?($.each(c,function(c,d){var f=d;(d.header||d.body||d.footer)&&(f=d[b]);var g="td";(f&&f.isHeader||"header"==b||"footer"==b)&&(g="th");var h=$(document.createElement(g));a.append(h),jpvs.applyTemplate(h,f,e)}),a.data("fromEmptyRowTemplate",!1),a.data("dataItem",e)):(jpvs.applyTemplate(a,d||h(c.length),e),a.data("fromEmptyRowTemplate",!0))}function h(a){return function(b){var c=jpvs.writeTag(this,"td").attr("colspan",a);jpvs.writeTag(c,"img").attr("src",jpvs.Resources.images.loading),jpvs.writeTag(c,"span",".").css("visibility","hidden")}}function i(a,b){var c=$(b).data("dataItem");return c?a.dataItemClick.fire(a,null,c):void 0}function j(a,b){var c=a.enableSorting(),d=a.enableFiltering();if(c||d){var e="";c&&d?e=jpvs.DataGrid.strings.clickToSortAndFilter:c?e=jpvs.DataGrid.strings.clickToSort:d&&(e=jpvs.DataGrid.strings.clickToFilter);var f=a.sortAndFilterExpressions(),g=$(b).data("jpvsColButtons")||[];0==g.length&&($(b).find("td,th").each(function(b){if(f[b]){var c=$(this),d=c.position(),h=d.left,i=d.top,j=c.innerWidth(),k=(c.outerHeight(),i),m=h+j,n=jpvs.ImageButton.create(c).imageUrls({normal:jpvs.Resources.images.dataGridColumnButton,hover:jpvs.Resources.images.dataGridColumnButtonHover});m-=n.element.width(),n.element.css({position:"absolute",left:m+"px",top:k+"px"}).attr("title",e),n.click(l(a,b)),g.push(n)}}),$(b).data("jpvsColButtons",g))}}function k(a,b){var c=$(b).data("jpvsColButtons");c&&setTimeout(function(){$.each(c,function(a,b){b.destroy()})},5e3),$(b).data("jpvsColButtons",null)}function l(a,b){return function(){m(a,b)}}function m(a,b){function c(){l.destroy()}function d(){if(i){for(var b=[],c=0;c<p.length;c++){var d=p[c].cmbSort,e=p[c].chkDesc,f=d.selectedValue(),g=e.checked();f&&""!=f&&b.push({name:f,descending:g})}a.currentSort(b)}if(j){for(var h=[],c=0;c<v.length;c++){var k=v[c].cmbFilter,m=v[c].cmbOp,n=v[c].txtValue,f=k.selectedValue(),o=m.selectedValue(),q=n.text();f&&""!=f&&o&&""!=o&&h.push({name:f,operand:o,value:q})}a.currentFilter(h)}a.changedSortFilter.fire(a),l.destroy()}function e(b,c){var d=b.writeRow();d.writeCell(c+": ");var e=jpvs.DropDownList.create(d.writeCell()),f=jpvs.CheckBox.create(d.writeCell());return f.text(jpvs.DataGrid.strings.descending),e.addItem(""),e.addItems(a.sortAndFilterExpressions()),{cmbSort:e,chkDesc:f}}function f(a,b){b&&(a.cmbSort.selectedValue(b.name),a.chkDesc.checked(b.descending))}function g(b,c){var d=b.writeRow(),e=jpvs.DropDownList.create(d.writeCell()),f=jpvs.DropDownList.create(d.writeCell()),g=jpvs.TextBox.create(d.writeCell());return e.addItem(""),e.addItems(a.sortAndFilterExpressions()),f.addItem(""),f.addItems(jpvs.DataGrid.getFilteringOperands()),{cmbFilter:e,cmbOp:f,txtValue:g}}function h(a,b){b&&(a.cmbFilter.selectedValue(b.name),a.cmbOp.selectedValue(b.operand),a.txtValue.text(b.value))}var i=a.enableSorting(),j=a.enableFiltering();if(i||j){var k="";i&&j?k=jpvs.DataGrid.strings.titleSortAndFilter:i?k=jpvs.DataGrid.strings.titleSort:j&&(k=jpvs.DataGrid.strings.titleFilter);var l=jpvs.Popup.create().title(k).show(),m=i&&j,n=l,o=l;m&&(n=jpvs.writeTag(l,"fieldset"),o=jpvs.writeTag(l,"fieldset"),jpvs.writeTag(n,"legend",jpvs.DataGrid.strings.titleSort),jpvs.writeTag(o,"legend",jpvs.DataGrid.strings.titleFilter));var p=[];if(i){var q=jpvs.Table.create(n);p.push(e(q,jpvs.DataGrid.strings.orderBy)),p.push(e(q,jpvs.DataGrid.strings.thenBy)),p.push(e(q,jpvs.DataGrid.strings.thenBy)),p.push(e(q,jpvs.DataGrid.strings.thenBy));var r=a.currentSort();if(!r){var s=a.sortAndFilterExpressions(),t=s&&s[b]&&s[b].value;r=t?[{name:t}]:[]}for(var u=0;u<p.length;u++)f(p[u],r[u])}var v=[];if(j){var w=jpvs.Table.create(o);v.push(g(w)),v.push(g(w)),v.push(g(w)),v.push(g(w));for(var x=a.currentFilter()||[],u=0;u<v.length;u++)h(v[u],x[u])}jpvs.writeButtonBar(l,[{text:jpvs.DataGrid.strings.ok,click:d},{text:jpvs.DataGrid.strings.cancel,click:c}]),l.close(c)}}function n(a){return{sort:a.currentSort(),filter:a.currentFilter()}}jpvs.DataGrid=function(a){this.attach(a),this.dataItemClick=jpvs.event(this),this.changedSortFilter=jpvs.event(this)},jpvs.DataGrid.allStrings={en:{column:"Column",currentColumn:"Selected column",addFilter:"Add filtering rule",addSort:"Add sorting rule",clickToSortAndFilter:"Click here for sorting/filtering options",clickToSort:"Click here for sorting options",clickToFilter:"Click here for filtering options",titleSortAndFilter:"Sorting/filtering options",titleSort:"Sorting options",titleFilter:"Filtering options",noFilterSpecified:"No filtering criteria specified",noSortSpecified:"No sorting specified",ok:"OK",cancel:"Cancel",remove:"Remove",condition:"Condition",orderBy:"Order by",thenBy:"Then by",descending:"Descending",op_EQ:"is equal to",op_NEQ:"is not equal to",op_CONTAINS:"contains",op_NCONTAINS:"does not contain",op_STARTS:"starts with",op_NSTARTS:"does not start with",op_LT:"is less than",op_LTE:"is less than or equal to",op_GT:"is greater than",op_GTE:"is greater than or equal to"},it:{column:"Colonna",currentColumn:"Colonna selezionata",addFilter:"Aggiungi criterio di filtro",addSort:"Aggiungi criterio di ordinamento",clickToSortAndFilter:"Clicca qui per ordinare/filtrare i dati",clickToSort:"Clicca qui per ordinare i dati",clickToFilter:"Clicca qui per filtrare i dati",titleSortAndFilter:"Ordinamento/filtro",titleSort:"Ordinamento",titleFilter:"Filtro",noFilterSpecified:"Nessun criterio di filtro specificato",noSortSpecified:"Nessun ordinamento specificato",ok:"OK",cancel:"Annulla",remove:"Rimuovi",condition:"Condizione",orderBy:"Ordina per",thenBy:"Poi per",descending:"Ordine inverso",op_EQ:"è uguale a",op_NEQ:"è diverso da",op_CONTAINS:"contiene",op_NCONTAINS:"non contiene",op_STARTS:"inizia per",op_NSTARTS:"non inizia per",op_LT:"è minore di",op_LTE:"è minore o uguale a",op_GT:"è maggiore di",op_GTE:"è maggiore o uguale a"}},jpvs.DataGrid.getFilteringOperands=function(){return[{value:"EQ",text:jpvs.DataGrid.strings.op_EQ},{value:"NEQ",text:jpvs.DataGrid.strings.op_NEQ},{value:"CONTAINS",text:jpvs.DataGrid.strings.op_CONTAINS},{value:"NCONTAINS",text:jpvs.DataGrid.strings.op_NCONTAINS},{value:"STARTS",text:jpvs.DataGrid.strings.op_STARTS},{value:"NSTARTS",text:jpvs.DataGrid.strings.op_NSTARTS},{value:"LT",text:jpvs.DataGrid.strings.op_LT},{value:"LTE",text:jpvs.DataGrid.strings.op_LTE},{value:"GT",text:jpvs.DataGrid.strings.op_GT},{value:"GTE",text:jpvs.DataGrid.strings.op_GTE}]},jpvs.makeWidget({widget:jpvs.DataGrid,type:"DataGrid",cssClass:"DataGrid",create:function(a){var b=document.createElement("table");return $(a).append(b),b},init:function(a){jpvs.DataGrid.strings=jpvs.DataGrid.allStrings[jpvs.currentLocale()],this.element.on("click","tr",function(b){return i(a,b.currentTarget)}),this.element.on("mouseenter","thead > tr",function(b){j(a,b.currentTarget)}),this.element.on("mouseleave","thead > tr",function(b){k(a,b.currentTarget)})},canAttachTo:function(a){return!1},prototype:{template:jpvs.property({get:function(){return this.element.data("template")},set:function(a){this.element.data("template",a)}}),emptyRowTemplate:jpvs.property({get:function(){return this.element.data("emptyRowTemplate")},set:function(a){this.element.data("emptyRowTemplate",a)}}),binder:jpvs.property({get:function(){return this.element.data("binder")},set:function(a){this.element.data("binder",a)}}),caption:jpvs.property({get:function(){var a=this.element.children("caption");return 0!=a.length?a.text():null},set:function(a){var b=this.element.children("caption");0==b.length&&(b=$(document.createElement("caption")),this.element.prepend(b)),b.text(a)}}),enableEvenOdd:jpvs.property({get:function(){var a=this.element.data("enableEvenOdd");return a===!0||a===!1?a:!0},set:function(a){this.element.data("enableEvenOdd",a)}}),enableSorting:jpvs.property({get:function(){var a=this.element.data("enableSorting");return a===!0||a===!1?a:!1},set:function(a){this.element.data("enableSorting",a)}}),enableFiltering:jpvs.property({get:function(){var a=this.element.data("enableFiltering");return a===!0||a===!1?a:!1},set:function(a){this.element.data("enableFiltering",a)}}),sortAndFilterExpressions:jpvs.property({get:function(){var a=this.element.data("sortAndFilterExpressions");return a||(a=[],this.element.find("thead > tr > th").each(function(){var b=$(this).text();a.push({value:b,text:b})})),a},set:function(a){this.element.data("sortAndFilterExpressions",a)}}),currentSort:jpvs.property({get:function(){return this.element.data("currentSort")||null},set:function(a){this.element.data("currentSort",a)}}),currentFilter:jpvs.property({get:function(){return this.element.data("currentFilter")||null},set:function(a){this.element.data("currentFilter",a)}}),clear:function(){return this.element.find("tr").remove(),this},dataBind:function(b){return a(this,"tbody",b),this},dataBindHeader:function(b){return a(this,"thead",b),this},dataBindFooter:function(b){return a(this,"tfoot",b),this},addBodyRow:function(a,d){var e="tbody",g=b(this,e),h=f(e);return c(this,h,g,a,d),this},addHeaderRow:function(a,d){var e="thead",g=b(this,e),h=f(e);return c(this,h,g,a,d),this},addFooterRow:function(a,d){var e="tfoot",g=b(this,e),h=f(e);return c(this,h,g,a,d),this},removeBodyRow:function(a){var c="tbody",e=b(this,c);return d(this,e,a),this},removeHeaderRow:function(a){var c="thead",e=b(this,c);return d(this,e,a),this},removeFooterRow:function(a){var c="tfoot",e=b(this,c);return d(this,e,a),this},removeBodyRows:function(a,c){var e="tbody",f=b(this,e);return d(this,f,a,c),this},removeHeaderRows:function(a,c){var e="thead",f=b(this,e);return d(this,f,a,c),this},removeFooterRows:function(a,c){var e="tfoot",f=b(this,e);return d(this,f,a,c),this}}}),jpvs.DataGrid.defaultBinder=function(a,d){function e(){function e(a){h.empty(),$.each(a.data,function(a,b){c(g,i,h,b)})}var h=b(g,a),i=f(a);jpvs.readDataSource(d,null,null,n(g),e)}var g=this;e(),g.changedSortFilter.unbind("binder"),g.changedSortFilter.bind("binder",e)},jpvs.DataGrid.pagingBinder=function(a){function d(d,e){function h(){var a,b=m.element.data("pagerId");if(b)a=jpvs.find("#"+b);else{var c=document.createElement("div");m.element.before(c),a=jpvs.Pager.create(c),b=jpvs.randomString(20),a.element.attr("id",b),m.element.data("pagerId",b)}return a.change.unbind("DataGrid"),a.change.bind("DataGrid",i),a}function i(){var a=this.page();q=a,g=q,j(m,d,e,r)}function j(){function a(a){o.empty(),$.each(a.data,function(a,b){c(m,p,o,b)});var b=Math.floor((a.total+k-1)/k);r.totalPages(b),r.page(q)}var b=q*k;jpvs.readDataSource(e,b,k,n(m),a)}var k=a&&a.pageSize||10,l=a&&a.preserveCurrentPage,m=this,o=b(m,d),p=f(d),q=l?g:0;g=q;var r=h();j(),m.changedSortFilter.unbind("binder"),m.changedSortFilter.bind("binder",j)}function e(){return g}var g=0;return d.currentPage=jpvs.property({get:e}),d},jpvs.DataGrid.scrollingBinder=function(a){function d(a,d){function m(a){for(var b,c=a,d=c+e,f=!0,g=c;d>g&&E>g;g++){var i=D[g];if(!i){f=!1,b=g;break}}if(f)u();else{var c=Math.max(0,b-h),d=Math.min(b+h,E);o(c,d)}}function o(a,b){k.push({start:a,end:b}),p()}function p(){if(!l&&0!=k.length){for(var a,b,c=k[0].start,e=k[0].end,f=0;f<k.length;f++){var g=k[f];a=g.start,b=g.end,c=Math.min(c,a),e=Math.max(e,b)}k=[],l=!0,jpvs.readDataSource(d,c,e-c,n(z),q(u))}}function q(a){return function(b){l=!1,null===E&&(E=b.total);for(var c=b.start,d=b.count;D.length<E;)D.push(void 0);for(var e=c,f=0;d>f;)D[e++]=b.data[f++];a&&a()}}function r(a){if(null===C)s(a);else{var b=a-C;Math.abs(b)<e?t(a,b):s(a)}C=a}function s(a){A.empty();for(var b=Math.min(a+e,E),d=a;b>d;d++)c(z,B,A,D[d]);y()}function t(a,b){if(b>0){z.removeBodyRows(0,b);for(var d=a+e-b,f=0;f++<b;)E>d&&c(z,B,A,D[d++])}else if(0>b){b=-b,z.removeBodyRows(e-b,b);for(var d=a,f=0;b>f;)E>d&&c(z,B,A,D[d++],f++)}y()}function u(){for(var a=z.template(),b=z.emptyRowTemplate(),c=A.children("tr"),d=C,e=d+c.length,f=!1,h=0,i=d;e>i;i++){var j=D[i],k=c.eq(h++);j&&k.data("fromEmptyRowTemplate")&&a&&(g(k,B,a,b,j),f=!0)}f&&y(),p()}function v(){var a,b=z.element.data("scrollerId");if(b)a=jpvs.find("#"+b);else{var c=document.createElement("div");z.element.after(c),a=jpvs.Scroller.create(c),b=jpvs.randomString(20),a.element.attr("id",b),z.element.data("scrollerId",b),a.content.append(z.element),a.contentSize({width:"1000%",height:"200%"}),x(),a.objectSize({width:F+a.scrollbarW,height:G+a.scrollbarH})}return a.change.unbind("DataGrid"),a.change.bind("DataGrid",w),a}function w(){var a=this.scrollPosition(),b=a.left,c=0;this.contentPosition({top:c,left:b});var d=G/e*E-G,f=Math.min(E,Math.floor(a.top/d*(E-e+5)));r(f),m(f)}function x(){var a={width:z.element.outerWidth(),height:z.element.outerHeight()};G=Math.max(G,a.height),F=Math.max(F,a.width)}function y(){if(H){x();var a=G/e*E;H.scrollableSize({width:F,height:a}),H.objectSize({width:i||F+H.scrollbarW,height:j||G+H.scrollbarH})}}var z=this,A=b(z,a),B=f(a),C=null,D=[],E=null,F=0,G=0,H=v();jpvs.readDataSource(d,0,e,n(z),q(function(){r(0),jpvs.readDataSource(d,e,h,n(z),q(u))})),z.changedSortFilter.unbind("binder"),z.changedSortFilter.bind("binder",function(){D=[],E=null,jpvs.readDataSource(d,C,e,n(z),q(function(){s(C)}))})}var e=a&&a.pageSize||10,h=a&&a.chunkSize||5*e,i=a&&a.width,j=a&&a.height,k=[],l=!1;return d}}(),jQuery(function(a){a.datepicker.regional.it={closeText:"Chiudi",prevText:"&#x3c;Prec",nextText:"Succ&#x3e;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned&#236","Marted&#236","Mercoled&#236","Gioved&#236","Venerd&#236","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}}),function(){function a(a){if(!a)return"";var c=a.getFullYear(),d=a.getMonth()+1,e=a.getDate();return b(c,4)+b(d,2)+b(e,2)}function b(a,b){for(a=$.trim(a.toString());a.length<b;)a="0"+a;return a}function c(a){if(a=$.trim(a),""==a||8!=a.length)return null;var b=parseInt(a.substring(0,4)),c=parseInt(a.substring(4,6)),d=parseInt(a.substring(6,8));return new Date(b,c-1,d)}jpvs.DateBox=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.DateBox,type:"DateBox",cssClass:"DateBox",create:function(a){var b=document.createElement("input");return $(b).attr("type","text"),$(a).append(b),b},init:function(a){this.element.datepicker({onSelect:function(b,c){return a.change.fire(a)}}),this.element.change(function(){return a.change.fire(a)}),this.element.datepicker("option",$.datepicker.regional[jpvs.currentLocale()]),this.element.datepicker("hide")},canAttachTo:function(a){return!1},prototype:{date:jpvs.property({get:function(){return this.element.datepicker("getDate")},set:function(a){this.element.datepicker("setDate",a)}}),dateString:jpvs.property({get:function(){return a(this.date())},set:function(a){this.date(c(a))}})}})}(),function(){function a(a,b){var c=a.document(),d=c&&c.fields,e=$();a.element.find("span.Field").each(function(){var c=$(this),f=c.data("jpvs.DocumentEditor.fieldInfo"),g=f&&f.fieldName;if(g){var h=b[g];if(h){d[g]={value:h.value};var i=function(a){return a},j=a.fieldDisplayMapper()||i,k=j(h.value);jpvs.write(c.empty(),k),h.highlight&&(e=e.add(c))}}}),e.length&&jpvs.flashClass(e,"Field-Highlight")}function b(a,b){var c=e();i(a,b,c),j(a,c)}function c(a){var b=d(a);jpvs.runBackgroundTask(b)}function d(a){return function(b){if(b.executionState=b.executionState||1,1==b.executionState)return b.elem=a.element,b.doc=a.document(),b.sections=b.doc&&b.doc.sections,b.fields=b.doc&&b.doc.fields,b.fieldHighlightList=e(),b.executionState=2,{progress:"0%"};if(2==b.executionState)return b.domElems=[],b.elem.empty(),$.each(b.sections,function(a,c){var d=jpvs.writeTag(b.elem,"div");d.addClass("Section").css("position","relative"),d.data("jpvs.DocumentEditor.sectionNum",a),f(d,c);var e=jpvs.writeTag(d,"div");e.addClass("Header"),g(e,c);var i=jpvs.writeTag(d,"div");i.addClass("Footer"),h(i,c);var j=jpvs.writeTag(i,"div");j.css("position","absolute"),j.css("bottom","0px"),j.css("left","0px"),j.css("right","0px");var k=jpvs.writeTag(d,"div");k.addClass("Body"),jpvs.writeTag(k,"img").attr("src",jpvs.Resources.images.loading),b.domElems.push({sectionElement:d,headerElement:e,bodyElement:k,footerElementInside:j,footerElement:i}),d.data("jpvs.DocumentEditor.domElem",{headerElement:e,bodyElement:k,footerElementInside:j,footerElement:i})}),b.executionState=3,{progress:"1%"};if(3==b.executionState){if(null==b.sectionNum?b.sectionNum=0:b.sectionNum++,b.sectionNum>=b.sections.length)return b.sectionNum=null,b.executionState=4,{progress:"90%"};var c=b.sections[b.sectionNum],d=b.domElems[b.sectionNum];i(a,b.sectionNum,b.fieldHighlightList),c.header&&(c.header.highlight=!1),c.body&&(c.body.highlight=!1),c.footer&&(c.footer.highlight=!1);var l=1+Math.floor(b.sectionNum/(b.sections.length-1)*89);return{progress:l+"%"}}if(4==b.executionState){if(null==b.sectionNum?b.sectionNum=0:b.sectionNum++,b.sectionNum>=b.sections.length)return b.sectionNum=null,b.executionState=5,{progress:"99%"};var c=b.sections[b.sectionNum],d=b.domElems[b.sectionNum],m=jpvs.writeTag(d.sectionElement,"div");m.addClass("MenuContainer").css({position:"absolute",top:"0px",right:"0px",zIndex:(1e4-b.sectionNum).toString()}),k(a,m,b.sections,b.sectionNum,c);var l=90+Math.floor(b.sectionNum/(b.sections.length-1)*9);return{progress:l+"%"}}return 5==b.executionState?(j(a,b.fieldHighlightList),!1):void 0}}function e(){return{list:$()}}function f(a,b){var c=b&&b.margins,d=l(c,"left","2cm"),e=l(c,"top","2cm"),f=l(c,"right","2cm"),g=l(c,"bottom","2cm");a.css("padding-left",d),a.css("padding-top",e),a.css("padding-right",f),a.css("padding-bottom",g)}function g(a,b){var c=b&&b.margins,d=l(c,"left","2cm"),e=l(c,"right","2cm"),f=b&&b.header&&b.header.margins,g=l(f,"top","0.5cm"),h=l(f,"left",d),i=l(f,"right",e),j=b&&b.header&&b.header.height||"1cm";a.css("position","absolute"),a.css("overflow","hidden"),a.css("top",g),a.css("left",h),a.css("right",i),a.css("height",j)}function h(a,b){var c=b&&b.margins,d=l(c,"left","2cm"),e=l(c,"right","2cm"),f=b&&b.footer&&b.footer.margins,g=l(f,"bottom","0.5cm"),h=l(f,"left",d),i=l(f,"right",e),j=b&&b.footer&&b.footer.height||"1cm";a.css("position","absolute"),a.css("overflow","hidden"),a.css("bottom",g),a.css("left",h),a.css("right",i),a.css("height",j)}function i(a,b,c){var d=a.element.find("div.Section").eq(b),e=d.data("jpvs.DocumentEditor.domElem"),i=a.document(),j=i&&i.sections,k=i&&i.fields,l=j&&j[b];f(d,l),g(e.headerElement,l),h(e.footerElement,l),m(a,e.headerElement,e.headerElement,l&&l.header&&l.header.content,k,"Header-Hover",l&&l.header&&l.header.highlight?"Header-Highlight":"",function(a){l.header=l.header||{},l.header.content=a,l.header.highlight=!0},c,jpvs.DocumentEditor.strings.clickToEditHeader,l&&l.header&&l.header.content_even,function(a){l.header=l.header||{},l.header.content_even=a,l.header.highlight=!0}),m(a,e.bodyElement,e.bodyElement,l&&l.body&&l.body.content,k,"Body-Hover",l&&l.body&&l.body.highlight?"Body-Highlight":"",function(a){l.body=l.body||{},l.body.content=a,l.body.highlight=!0},c,jpvs.DocumentEditor.strings.clickToEdit,null,null),m(a,e.footerElementInside,e.footerElement,l&&l.footer&&l.footer.content,k,"Footer-Hover",l&&l.footer&&l.footer.highlight?"Footer-Highlight":"",function(a){l.footer=l.footer||{},l.footer.content=a,l.footer.highlight=!0},c,jpvs.DocumentEditor.strings.clickToEditFooter,l&&l.footer&&l.footer.content_even,function(a){l.footer=l.footer||{},l.footer.content_even=a,l.footer.highlight=!0}),l&&l.header&&l.header.highlight&&(l.header.highlight=!1),l&&l.body&&l.body.highlight&&(l.body.highlight=!1),l&&l.footer&&l.footer.highlight&&(l.footer.highlight=!1)}function j(a,b){if(b.list.length){jpvs.flashClass(b.list,"Field-Highlight");var c=a.document(),d=c&&c.fields;d&&$.each(d,function(a,b){b.highlight=!1})}}function k(a,b,c,d,e){var f=jpvs.Menu.create(b);f.template(["HorizontalMenuBar","VerticalMenuBar"]),f.itemTemplate(["HorizontalMenuBarItem","VerticalMenuBarItem"]),f.menuItems([{text:"...",tooltip:jpvs.DocumentEditor.strings.sectionOptions,items:[{text:jpvs.DocumentEditor.strings.sectionMargins,click:t(a,e,d)},jpvs.Menu.Separator,{text:jpvs.DocumentEditor.strings.addSectionBefore,click:u(a,c,d)},{text:jpvs.DocumentEditor.strings.addSectionAfter,click:u(a,c,d+1)},{text:jpvs.DocumentEditor.strings.removeSection,click:v(a,c,d)},jpvs.Menu.Separator,{text:jpvs.DocumentEditor.strings.sortSections,click:w(a,c)}]}])}function l(a,b,c){if(a){var d=a[b]||a.all;if(d)return d}return c}function m(a,b,c,d,e,f,g,h,i,j,k,l){function m(){function b(){d.destroy()}function c(a,b){return function(){a(),b()}}if(l&&a.allowEvenOddHeadersFooters()){var d=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.oddEven);jpvs.writeln(d,jpvs.DocumentEditor.strings.whichContent);var e=jpvs.writeTag(d,"ul"),f=jpvs.writeTag(e,"li"),g=jpvs.writeTag(e,"li");jpvs.LinkButton.create(f).text(jpvs.DocumentEditor.strings.oddPages).click(c(b,o)),jpvs.LinkButton.create(g).text(jpvs.DocumentEditor.strings.evenPages).click(c(b,p)),jpvs.writeButtonBar(d,[{text:jpvs.DocumentEditor.strings.cancel,click:b}]),d.show()}else o()}function o(){r(a,d,h,t)}function p(){r(a,k,l,t)}var q=d;d||(q=""),b.empty();var s=c.parent(),t=s.data("jpvs.DocumentEditor.sectionNum");q=jpvs.cleanHtml(q),""==$.trim(q)&&(q=j),c.css("cursor","pointer").attr("title",jpvs.DocumentEditor.strings.clickToEdit).unbind(".writeContent").bind("click.writeContent",function(){return m(),!1}).bind("mouseenter.writeContent",function(){c.parent().addClass("Section-Hover"),c.addClass(f)}).bind("mouseleave.writeContent",function(){c.parent().removeClass("Section-Hover"),c.removeClass(f)});var u=XmlParser.parseString("<root>"+q+"</root>",null,!0);n(a,b,u,e,i),""!=g&&jpvs.flashClass(b,g)}function n(a,b,c,d,e){if("#TEXT"==c.name)o(a,b,c.value||"",d,e);else if("#COMMENT"==c.name){var f=c.value||"";if(f.indexOf("pagebreak")<0){var g=document.createComment(c.value||"");b.append(g)}else jpvs.writeTag(b,"hr")}else if("root"==c.name)c.children&&$.each(c.children,function(c,f){n(a,b,f,d,e)});else{var h=c.name,i=jpvs.writeTag(b,h);c.attributes&&$.each(c.attributes,function(a,b){i.attr(a,b)}),c.children&&($.each(c.children,function(b,c){n(a,i,c,d,e)}),"p"==h&&jpvs.writeTag(i,"br"))}}function o(a,b,c,d,e){for(var f=/\$\{(.*?)\}/g,g=0,h=f.exec(c);null!=h;h=f.exec(c)){var i=h[0],j=h[1],k=f.lastIndex,l=k-i.length,m=c.substring(g,l);p(b,m),q(a,b,d,j,e),g=k}var n=c.substring(g);p(b,n)}function p(a,b){var c=b;$.each(z,function(a,b){c=c.replace(a,b)}),jpvs.write(a,c)}function q(a,b,c,d,e){var f=c&&c[d],g=f&&f.value,h=f&&f.highlight,i=function(a){return a},j=a.fieldDisplayMapper()||i;g=j(g),""==$.trim(g)&&(g=jpvs.DocumentEditor.strings.clickToEditField);var k=jpvs.writeTag(b,"span",g);k.addClass("Field").attr("title",jpvs.DocumentEditor.strings.clickToEditField).click(function(){return s(a,c,d),!1}).hover(function(){k.addClass("Field-Hover")},function(){k.removeClass("Field-Hover")}),k.data("jpvs.DocumentEditor.fieldInfo",{fieldName:d}),h&&(e.list=e.list.add(k))}function r(a,c,d,e){function f(f){void 0!==f&&f!=c&&(d(f),b(a,e),a.change.fire(a))}var g=a.richTextEditor()||x();g.editText.call(g,c,f)}function s(b,c,d){function e(c){if(void 0!==c&&c!=h){var e={};e[d]={value:c,highlight:!0},a(b,e),b.change.fire(b)}}var f=b.fieldEditor()||y(),g=c&&c[d],h=g&&g.value;f.editField.call(f,c,d,e)}function t(a,c,d){function e(a){var b=$.trim(a.text().replace(" ",""));if(""==b)return null;var c=/^\+?[0-9]{1,2}(\.[0-9]{1,3})?(cm)?$/gi;return c.test(b)?(b.indexOf("cm")<0&&(b+="cm"),a.text(b),b):void 0}function f(a,b,c){var d=a.writeRow();d.writeCell(jpvs.DocumentEditor.strings[b]);var e=jpvs.TextBox.create(d.writeCell());e.text(c);var f=jpvs.DocumentEditor.strings[b+"_Notes"];return f&&d.writeCell(f),e}return function(){function g(a){if(!a)return g([m,n,o,p,q,r,s,t,u,v,w,x,y,z,A]);for(var b=!1,c=[],d=0;d<a.length;d++){var f=a[d];f.removeState(jpvs.states.ERROR);var h=e(a[d]);void 0===h&&(f.addState(jpvs.states.ERROR),c.push(f),b=!0)}return b&&jpvs.alert(jpvs.DocumentEditor.strings.error,jpvs.DocumentEditor.strings.invalidValuesFound,c[0]),!b}function h(){g()&&k.hide(function(){i(),k.destroy()})}function i(){g()&&(c.margins.all=e(m),c.margins.top=e(n),c.margins.bottom=e(o),c.margins.left=e(p),c.margins.right=e(q),c.header.margins.all=e(r),c.header.margins.top=e(s),c.header.margins.left=e(t),c.header.margins.right=e(u),c.header.height=e(v),c.footer.margins.all=e(w),c.footer.margins.bottom=e(x),c.footer.margins.left=e(y),c.footer.margins.right=e(z),c.footer.height=e(A),b(a,d),a.change.fire(a))}function j(){k.destroy()}var k=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.sectionMargins).close(function(){this.destroy()});c.margins=c.margins||{},c.header=c.header||{},c.header.margins=c.header.margins||{},c.footer=c.footer||{},c.footer.margins=c.footer.margins||{};var l=jpvs.Table.create(k).caption(jpvs.DocumentEditor.strings.bodyMargins),m=f(l,"defaultMargin",c.margins.all),n=f(l,"topMargin",c.margins.top),o=f(l,"bottomMargin",c.margins.bottom),p=f(l,"leftMargin",c.margins.left),q=f(l,"rightMargin",c.margins.right);l=jpvs.Table.create(k).caption(jpvs.DocumentEditor.strings.headerMargins);var r=f(l,"defaultMargin",c.header.margins.all),s=f(l,"topMargin",c.header.margins.top),t=f(l,"leftMargin",c.header.margins.left),u=f(l,"rightMargin",c.header.margins.right),v=f(l,"height",c.header.height);l=jpvs.Table.create(k).caption(jpvs.DocumentEditor.strings.footerMargins);var w=f(l,"defaultMargin",c.footer.margins.all),x=f(l,"bottomMargin",c.footer.margins.bottom),y=f(l,"leftMargin",c.footer.margins.left),z=f(l,"rightMargin",c.footer.margins.right),A=f(l,"height",c.footer.height);jpvs.writeButtonBar(k,[{text:jpvs.DocumentEditor.strings.ok,click:h},{text:jpvs.DocumentEditor.strings.apply,click:i},{text:jpvs.DocumentEditor.strings.cancel,click:j}]),k.show()}}function u(a,b,d){return function(){var e={margins:{},header:{margins:{}},footer:{margins:{}},body:{highlight:!0}};d>=b.length?b.push(e):b.splice(d,0,e),c(a),a.change.fire(a)}}function v(a,b,d){function e(){b.splice(d,1),c(a),a.change.fire(a)}return function(){return b.length<2?void jpvs.alert(jpvs.DocumentEditor.strings.error,jpvs.DocumentEditor.strings.removeSection_Forbidden):void jpvs.confirm(jpvs.DocumentEditor.strings.removeSection,jpvs.DocumentEditor.strings.removeSection_Warning,e)}}function w(a,b){return function(){function d(a){jpvs.writeTag(this,"img").attr("src",jpvs.Resources.images.moveButton),this.parent().css("cursor","move").data("section",a)}function e(a){function b(a){return a.length>150?a.substring(0,147)+"...":a}jpvs.write(this,b(jpvs.stripHtml(a&&a.body&&a.body.content)))}function f(){i.hide(function(){g(),i.destroy()})}function g(){var d=j.element.find("tbody > tr");b.splice(0,b.length),d.each(function(){var a=$(this).data("section");b.push(a)}),c(a),a.change.fire(a)}function h(){i.destroy()}var i=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.sortSections).close(function(){this.destroy()});jpvs.writeln(i,jpvs.DocumentEditor.strings.sortSections_Prompt),jpvs.writeTag(i,"hr");var j=jpvs.DataGrid.create(i);j.template([d,e]),j.dataBind(b),j.element.sortable({items:"tbody > tr"}),jpvs.writeTag(i,"hr"),jpvs.writeButtonBar(i,[{text:jpvs.DocumentEditor.strings.ok,click:f},{text:jpvs.DocumentEditor.strings.apply,click:g},{text:jpvs.DocumentEditor.strings.cancel,click:h}]),i.show()}}function x(){function a(a,b){function c(){e.hide(function(){b(f.text()),e.destroy()})}function d(){e.destroy(),b()}var e=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.textEditor).close(function(){this.destroy()}),f=jpvs.MultiLineTextBox.create(e);f.text(a),f.element.attr({rows:10,cols:50}),jpvs.writeButtonBar(e,[{text:jpvs.DocumentEditor.strings.ok,click:c},{text:jpvs.DocumentEditor.strings.cancel,click:d}]),e.show(function(){f.focus()})}return{editText:a}}function y(){function a(a,b,c){function d(){f.hide(function(){c(g.text()),f.destroy()})}function e(){f.destroy(),c()}var f=jpvs.Popup.create().title(jpvs.DocumentEditor.strings.fieldEditor).close(function(){this.destroy()}),g=jpvs.TextBox.create(f),h=a&&a[b],i=h&&h.value;g.text(i||""),jpvs.writeButtonBar(f,[{text:jpvs.DocumentEditor.strings.ok,click:d},{text:jpvs.DocumentEditor.strings.cancel,click:e}]),f.show(function(){g.focus()})}return{editField:a}}jpvs.DocumentEditor=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.DocumentEditor.allStrings={en:{clickToEdit:"Click here to edit",clickToEditField:"Click here to edit this field",clickToEditHeader:"Click here to edit the header",clickToEditFooter:"Click here to edit the footer",textEditor:"Text editor",fieldEditor:"Field editor",sectionOptions:"Options",sectionMargins:"Set margins",removeSection:"Remove section",removeSection_Warning:"The section will be removed. Do you wish to continue?",removeSection_Forbidden:"The section may not be removed. There must be at least one section in the document.",addSectionBefore:"Insert new section before",addSectionAfter:"Insert new section after",sortSections:"Reorder sections",sortSections_Prompt:"Please reorder the sections of the document by dragging them up and down.",invalidValuesFound:"Invalid values found. Please correct and try again.",bodyMargins:"Page margins",defaultMargin:"Default margin",defaultMargin_Notes:"Example: 2.5cm. Used only when any of left/right/bottom/top is missing.",topMargin:"Top margin",topMargin_Notes:"Example: 2cm. If missing, the default margin is used.",bottomMargin:"Bottom margin",bottomMargin_Notes:"Example: 2cm. If missing, the default margin is used.",leftMargin:"Left margin",leftMargin_Notes:"Example: 2cm. If missing, the default margin is used.",rightMargin:"Right margin",rightMargin_Notes:"Example: 2cm. If missing, the default margin is used.",headerMargins:"Header margins and height",footerMargins:"Footer margins and height",height:"Height",error:"Error",ok:"OK",cancel:"Cancel",apply:"Apply",oddEven:"Odd/Even pages",whichContent:"Which content do you wish to edit?",oddPages:"Odd pages",evenPages:"Even pages"},it:{clickToEdit:"Clicca qui per modificare",clickToEditField:"Clicca qui per modificare il campo",clickToEditHeader:"Clicca qui per modificare l'intestazione",clickToEditFooter:"Clicca qui per modificare il piè di pagina",textEditor:"Modifica testo",fieldEditor:"Modifica campo",sectionOptions:"Opzioni",sectionMargins:"Imposta margini",removeSection:"Elimina sezione",removeSection_Warning:"Confermi l'eliminazione della sezione?",removeSection_Forbidden:"La sezione non può essere rimossa. Il documento deve contenere almeno una sezione.",addSectionBefore:"Inserisci sezione prima",addSectionAfter:"Inserisci sezione dopo",sortSections:"Cambia ordine sezioni",sortSections_Prompt:"Riordinare le sezioni trascinandole su e giù.",invalidValuesFound:"Trovati valori non validi. Correggere e riprovare.",
bodyMargins:"Margini pagina",defaultMargin:"Margine predefinito",defaultMargin_Notes:"Esempio: 2.5cm. Usato solo quando manca almeno uno dei margini sinistro/destro/inferiore/superiore.",topMargin:"Margine superiore",topMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",bottomMargin:"Margine inferiore",bottomMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",leftMargin:"Margine sinistro",leftMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",rightMargin:"Margine destro",rightMargin_Notes:"Esempio: 2cm. Se non specificato, viene usato il margine predefinito.",headerMargins:"Margini ed altezza dell'intestazione",footerMargins:"Margini ed altezza del piè di pagina",height:"Altezza",error:"Errore",ok:"OK",cancel:"Annulla",apply:"Applica",oddEven:"Pagine dispari/pari",whichContent:"Quale testo si desidera modificare?",oddPages:"Pagine dispari",evenPages:"Pagine pari"}},jpvs.makeWidget({widget:jpvs.DocumentEditor,type:"DocumentEditor",cssClass:"DocumentEditor",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(a){jpvs.DocumentEditor.strings=jpvs.DocumentEditor.allStrings[jpvs.currentLocale()]},canAttachTo:function(a){return!1},prototype:{document:jpvs.property({get:function(){return this.element.data("document")},setTask:function(a){return this.element.data("document",a),this.element.empty(),d(this)}}),fields:jpvs.property({get:function(){var a=this.document();return a&&a.fields},set:function(b){a(this,b)}}),richTextEditor:jpvs.property({get:function(){return this.element.data("richTextEditor")},set:function(a){this.element.data("richTextEditor",a)}}),fieldEditor:jpvs.property({get:function(){return this.element.data("fieldEditor")},set:function(a){this.element.data("fieldEditor",a)}}),fieldDisplayMapper:jpvs.property({get:function(){return this.element.data("fieldDisplayMapper")},set:function(a){this.element.data("fieldDisplayMapper",a)}}),allowEvenOddHeadersFooters:jpvs.property({get:function(){return this.element.data("allowEvenOddHeadersFooters")},set:function(a){this.element.data("allowEvenOddHeadersFooters",a)}})}});var z={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"}}(),jpvs.DropDownList=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.DropDownList,type:"DropDownList",cssClass:"DropDownList",create:function(a){var b=document.createElement("select");return $(a).append(b),b},init:function(a){this.element.change(function(){return a.change.fire(a)})},canAttachTo:function(a){return $(a).is("select")},prototype:{clearItems:function(){return this.element.empty(),this},addItem:function(a,b){var c=a,d=null!=b?b:a;if(null!=c&null!=d){var e=document.createElement("option");$(e).attr("value",c).text(d).appendTo(this.element)}return this},addItems:function(a){var b=this;return $.each(a,function(a,c){null!=c&&(null!=c.value?b.addItem(c.value,c.text):b.addItem(c))}),this},count:function(){return this.element.find("option").length},selectedValue:jpvs.property({get:function(){return this.element.val()},set:function(a){this.element.val(a)}})}}),function(){function a(a){a.inputFileElement&&a.inputFileElement.remove();var b=document.createElement("input");$(b).attr({id:a.inputFileElementID,type:"file",name:"PostedFile"}),a.oldStyleForm.appendChild(b),a.inputFileElement=$(b).change(d(a)).css({position:"absolute",top:"-100em",left:"-100em"})}function b(a){var b=a.file();a.posting?(a.lbl.show(),a.lbl.find(".Icon").show().attr("src",jpvs.Resources.images.loading),a.lbl.find(".Text").show().text(a.progress),a.lnkSelect.hide(),a.lnkRename.hide(),a.lnkRemove.hide()):b?(a.lbl.show(),b.icon?a.lbl.find(".Icon").show().attr("src",b.icon):a.lbl.find(".Icon").hide(),b.label?a.lbl.find(".Text").show().text(b.label):a.lbl.find(".Text").hide(),a.lnkSelect.show(),a.allowRename()?a.lnkRename.show():a.lnkRename.hide(),a.lnkRemove.show()):(a.lbl.hide(),a.lnkSelect.show(),a.lnkRename.hide(),a.lnkRemove.hide()),a.enabled()||(a.lnkSelect.hide(),a.lnkRename.hide(),a.lnkRemove.hide())}function c(a){return function(){var b=a.file();b&&b.url&&window.open(b.url)}}function d(a){return function(){var b=$(a.inputFileElement)[0];if(b.files){var c=b.files[0];a.fileselected.fire(a,null,c)}else a.fileselected.fire(a,null,{name:b.value})}}function e(b){return function(){b.file(null),a(b),b.filedeleted.fire(b)}}function f(a){return function(){a.filerename.fire(a)}}function g(a,b,c){var d=$(a.inputFileElement)[0];d.files?h(a,b,c):i(a,b,c)}function h(c,d,e){var f=new XMLHttpRequest;f.onreadystatechange=function(){f.readyState==XMLHttpRequest.DONE&&(c.posting=!1,a(c),b(c),e&&e(f.responseText))},f.upload.onprogress=function(a){if(a.lengthComputable){var d=Math.round(100*a.loaded/a.total);c.progress=d+"%",b(c)}},c.posting=!0,c.progress="0%",b(c);var g=$(c.inputFileElement)[0].files&&$(c.inputFileElement)[0].files[0];g?(f.open("POST",d),f.setRequestHeader("Content-Type",g.type),f.setRequestHeader("FileName",g.name),f.send(g)):(f.open("POST",d),f.setRequestHeader("FileNull","true"),f.send())}function i(c,d,e){c.oldStyleIframe.onreadystatechange=function(){if("complete"==c.oldStyleIframe.readyState){c.posting=!1,a(c),b(c);var d=c.oldStyleIframe.contentDocument.body.innerText;e&&e(d)}},c.posting=!0,c.progress="0%",b(c),c.oldStyleForm.action=d,c.oldStyleForm.submit()}jpvs.FileBox=function(a){this.attach(a),this.fileselected=jpvs.event(this),this.filedeleted=jpvs.event(this),this.filerename=jpvs.event(this)},jpvs.FileBox.allStrings={en:{show:"Show",select:"Insert...",remove:"Remove",rename:"Rename..."},it:{show:"Visualizza",select:"Inserisci...",remove:"Rimuovi",rename:"Rinomina..."}},jpvs.makeWidget({widget:jpvs.FileBox,type:"FileBox",cssClass:"FileBox",create:function(a){var b=document.createElement("span");return $(a).append(b),b},init:function(d){jpvs.FileBox.strings=jpvs.FileBox.allStrings[jpvs.currentLocale()],this.inputFileElementID=jpvs.randomString(20),this.lbl=jpvs.writeTag(this.element,"label").click(c(d)),jpvs.writeTag(this.lbl,"img").addClass("Icon"),jpvs.writeTag(this.lbl,"span").addClass("Text"),d.lnkSelect=jpvs.writeTag(this,"label",jpvs.FileBox.strings.select).attr("for",this.inputFileElementID).addClass("LinkButton"),d.lnkRename=jpvs.writeTag(this,"label",jpvs.FileBox.strings.rename).addClass("LinkButton").click(f(d)),d.lnkRemove=jpvs.writeTag(this,"label",jpvs.FileBox.strings.remove).addClass("LinkButton").click(e(d));var g=jpvs.randomString(10),h=document.createElement("iframe");h.name=g,d.element[0].appendChild(h),this.oldStyleIframe=h,$(h).css("display","none");var i=document.createElement("form");i.target=g,i.method="POST",i.enctype="multipart/form-data",i.encoding="multipart/form-data",d.element[0].appendChild(i),this.oldStyleForm=i,a(this),b(d)},canAttachTo:function(a){return!1},prototype:{enabled:jpvs.property({get:function(){return this.element.data("enabled")!==!1},set:function(a){this.element.data("enabled",a),b(this)}}),allowRename:jpvs.property({get:function(){return!!this.element.data("allowRename")},set:function(a){this.element.data("allowRename",a),b(this)}}),file:jpvs.property({get:function(){return this.element.data("file")},set:function(a){this.element.data("file",a),b(this)}}),postFile:function(a,b){g(this,a,b)}}})}(),jpvs.ImageButton=function(a){this.attach(a),this.click=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.ImageButton,type:"ImageButton",cssClass:"ImageButton",create:function(a){var b=document.createElement("img");return $(b).attr("src",jpvs.Resources.images.empty16x16),$(a).append(b),b},init:function(a){var b=this.element.attr("src"),c=this.element.data("jpvsHover");this.imageUrls({normal:b,hover:c}),this.element.hover(function(){a.element.attr("src",a.getHoverImage())},function(){a.element.attr("src",a.getNormalImage())}),this.element.click(function(){return a.click.fire(a)})},canAttachTo:function(a){return!1},prototype:{imageUrls:jpvs.property({get:function(){return this.element.data("images")},set:function(a){this.element.data("images",a),this.element.attr("src",this.getNormalImage())}}),getNormalImage:function(){var a=this.imageUrls();return a?"string"==typeof a?a:a.normal||"":""},getHoverImage:function(){var a=this.imageUrls();return a?"string"==typeof a?a:a.hover||a.normal||"":""}}}),function(){function a(){$("div.LayoutPane-Resizer").remove();var a=b(),c={x1:0,x2:0,y1:0,y2:0,panes:a};e(c)}function b(){for(var a=$("div.LayoutPane").first();d(a);)a=a.parent();return c(a)}function c(a){var b=[];return a.children("div.LayoutPane").each(function(){var a=d($(this));a&&b.push(a)}),b}function d(a){var b=jpvs.find(a);return b&&"LayoutPane"==b.toString()?b:null}function e(a){function b(b,c,d,f){if(f.length>0&&"fill"!=c&&"auto"==d)return void b.empty().text("Error: since nested LayoutPane's are present, the combination "+c+"/"+d+" is not supported. Please set an explicit size for this LayoutPane.");if(b.css({position:"fixed",overflow:"auto"}),"top"==c){b.css({left:a.x1+"px",right:a.x2+"px",top:a.y1+"px",bottom:"auto",height:d});var g=b.outerHeight();e({panes:f,x1:a.x1,x2:a.x2,y1:a.y1,y2:$(window).height()-(a.y1+g)}),a.y1+=g}else if("bottom"==c){b.css({left:a.x1+"px",right:a.x2+"px",top:"auto",bottom:a.y2+"px",height:d});var g=b.outerHeight();e({panes:f,x1:a.x1,x2:a.x2,y1:$(window).height()-(a.y2+g),y2:a.y2}),a.y2+=g}else if("left"==c){b.css({left:a.x1+"px",right:"auto",top:a.y1+"px",bottom:a.y2+"px",width:d});var h=b.outerWidth();e({panes:f,x1:a.x1,x2:$(window).width()-(a.x1+h),y1:a.y1,y2:a.y2}),a.x1+=h}else if("right"==c){b.css({top:"auto",right:a.x2+"px",top:a.y1+"px",bottom:a.y2+"px",width:d});var h=b.outerWidth();e({panes:f,x1:$(window).width()-(a.x2+h),x2:a.x2,y1:a.y1,y2:a.y2}),a.x2+=h}else"fill"==c?(b.css({left:a.x1+"px",right:a.x2+"px",top:a.y1+"px",bottom:a.y2+"px"}),e({panes:f,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2})):b.empty().text("Invalid anchor for LayoutPane: "+c)}for(var d in a.panes){var f=a.panes[d],g=(f.anchor()||"fill").toLowerCase(),h=(f.size()||"auto").toLowerCase(),i=f.resizable(),j=c(f.element);if(b(f.element,g,h,j),i){var k=jpvs.writeTag("body","div");k.data("LayoutPane",f),"left"==g||"right"==g?(b(k,g,"10px",[]),k.addClass("LayoutPane-Resizer LayoutPane-VerticalResizer")):("top"==g||"bottom"==g)&&(b(k,g,"10px",[]),k.addClass("LayoutPane-Resizer LayoutPane-HorizontalResizer")),k.css("overflow","hidden")}}}function f(a){return $(a.target).is(".LayoutPane-Resizer")?(g(a.clientX,a.clientY,a.target),!1):void 0}function g(a,b,c){m.dragging=!0,m.x0=a,m.y0=b,m.pane=$(c).data("LayoutPane"),m.resizer=$(c),m.originalSizePx=m.pane.actualSizePx(),m.originalResizerPosition=$(c).offset()}function h(a){return m.dragging?(i(a.clientX,a.clientY),!1):void 0}function i(a,b){var c=m.pane&&m.pane.anchor();if("left"==c||"right"==c){var d=a-m.x0,e=m.originalResizerPosition.left+d;$(m.resizer).css("left",e+"px")}else if("top"==c||"bottom"==c){var d=b-m.y0,f=m.originalResizerPosition.top+d;$(m.resizer).css("top",f+"px")}}function j(a){return m.dragging?(k(a.clientX,a.clientY),!1):void 0}function k(b,c){m.dragging=!1;var d=m.pane&&m.pane.anchor();if("left"==d){var e=b-m.x0;m.pane.size(m.originalSizePx+e+"px")}else if("right"==d){var e=b-m.x0;m.pane.size(m.originalSizePx-e+"px")}else if("top"==d){var e=c-m.y0;m.pane.size(m.originalSizePx+e+"px")}else if("bottom"==d){var e=c-m.y0;m.pane.size(m.originalSizePx-e+"px")}a()}function l(a){a.isDrag&&!m.dragging&&$(a.target).is(".LayoutPane-Resizer")?g(a.start.clientX,a.start.clientY,a.target):a.isDrag&&m.dragging?i(a.current.clientX,a.current.clientY):a.isEndDrag&&m.dragging&&k(a.current.clientX,a.current.clientY)}$(window).on("resize",a),$(document).on("mousedown",f),$(document).on("mousemove",h),$(document).on("mouseup",j),jpvs.addGestureListener(document,{allowedEventTargets:function(a){return $(a).is(".LayoutPane-Resizer")}},l),jpvs.LayoutPane=function(a){this.attach(a)},jpvs.LayoutPane.refresh=a,jpvs.makeWidget({widget:jpvs.LayoutPane,type:"LayoutPane",cssClass:"LayoutPane",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(b){a()},canAttachTo:function(a){return!1},prototype:{anchor:jpvs.property({get:function(){return(this.element.data("anchor")||"fill").toLowerCase()},set:function(b){this.element.data("anchor",b),a()}}),size:jpvs.property({get:function(){return(this.element.data("size")||"auto").toLowerCase()},set:function(b){this.element.data("size",b),a()}}),resizable:jpvs.property({get:function(){var a=this.element.data("resizable");return 1==a||"true"==a},set:function(b){this.element.data("resizable",b),a()}}),addClass:function(a){return this.element.addClass(a),this},actualSizePx:function(){var a=this.anchor();return"left"==a||"right"==a?this.element.outerWidth():"top"==a||"bottom"==a?this.element.outerHeight():void 0}}});var m={}}(),jpvs.LinkButton=function(a){this.attach(a),this.click=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.LinkButton,type:"LinkButton",cssClass:"LinkButton",create:function(a){var b=document.createElement("a");return $(a).append(b),b},init:function(a){a.element.attr("href","#"),this.element.click(function(b){return b.preventDefault(),a.click.fire(a)})},canAttachTo:function(a){return!1},prototype:{text:jpvs.property({get:function(){return this.element.text()},set:function(a){this.element.text(a)}})}}),function(){function a(a){return jpvs.property({get:function(){var b=this.element.data(a);if(!b)return[];if("string"==typeof b){var c=b.split(",");return c}return b},set:function(b){this.element.data(a,b)}})}function b(a){function b(a,c,e){var f=$(a).contents();f.each(function(){var a=this,f=$(this);if(3==a.nodeType)c&&(c.text=d(c.text,f.text()));else if(1==a.nodeType){var g=a.nodeName.toLowerCase();if("ul"==g||"ol"==g)b(a,null,e);else if("a"==g)c&&(c.text=d(c.text,f.text()),c.href=f.attr("href"));else if("button"==g)c&&(c.text=d(c.text,f.text()),c.click=a.onclick);else{var h=c;c={text:"",items:[]},e.push(c),b(a,c,c.items),c=h}}})}function c(a){if(a)for(var b=0;b<a.length;b++){var d=a[b],e=null!=d.text&&""!=$.trim(d.text),f=null!=d.items&&0!=d.items.length;e||f||(a[b]=jpvs.Menu.Separator),c(d.items)}}function d(a,b){return a=$.trim(a)+" "+$.trim(b),$.trim(a)}var e=[];return b(a,null,e),c(e),e}function c(a,b){function c(a,b){if(b){b.parentElement=a;var d=b.getChildren();$.each(d,function(a,d){c(b,d)})}}function e(a,b,c,f,g){if(g&&0!=g.length){var h=d(b[f],f,jpvs.Menu.Templates),i=d(c[f],f,jpvs.Menu.ItemTemplates),j=jpvs.applyTemplate(a,h,{items:g,itemTemplate:i,level:f});0==f?j.show():j.hide();var k=j.element.find(".Item");return $.each(g,function(d,g){var h=k[d];if(h){var i=$(h);i.data("menuItem",g);var j=e(a,b,c,f+1,g&&g.items);j&&i.data("subMenu",j)}}),j}}a.element.empty();var f=a.template(),g=a.itemTemplate();a.rootElement=e(a.element,f,g,0,b),c(null,a.rootElement)}function d(a,b,c){var d;return"function"==typeof a?d=a:"string"==typeof a&&(d=c[a]),d||(d=0==b?c.Default_Level0:c.Default_OtherLevels),d}function e(a){function b(a){if(a){a.hideIfNonRoot();var c=a.getChildren();$.each(c,function(a,c){b(c)})}}var c=a.rootElement;b(c)}function f(a){var b=$(a.currentTarget),c=b.data("menuItem");c!==jpvs.Menu.Separator&&b.addClass("Item-Hover")}function g(a){var b=$(a.currentTarget);b.removeClass("Item-Hover")}function h(a){var b=$(a.target),c=b.closest(".Menu .Item"),d=c.closest(".Menu");if(0==c.length)$.each(i,function(a,b){e(b)});else{var f=c.data("menuItem");if(f===jpvs.Menu.Separator)return;var g=jpvs.find(d),h=c.data("subMenu");h?h.show():e(g),g.click.fire(g,null,f),f&&f.click&&f.click.call(f,f),f&&f.href&&(window.location=f.href)}}var i={};$(document).ready(function(){try{$(document).on("mouseover.jpvsMenu",".Menu .Item",f),$(document).on("mouseout.jpvsMenu",".Menu .Item",g),$(document).on("click.jpvsMenu",h)}catch(a){}}),jpvs.Menu=function(a){this.attach(a),this.click=jpvs.event(this)},jpvs.Menu.Separator={},jpvs.Menu.MenuElement=function(a,b,c,d,e){this.element=a,this.menuItems=b,this.level=c,this.isPopup=d,this.childrenAlignment=e,this.itemElements=a.find(".Item"),this.parentElement=null},jpvs.Menu.MenuElement.prototype.show=function(){function a(a,b){for(var c=0;c<a.itemElements.length;c++){var d=$(a.itemElements[c]),e=d.data("subMenu");if(e===b)return d}}function b(a){var b=a.offset(),c=a.outerWidth(),d=a.outerHeight();return{x:b.left,y:b.top,w:c,h:d}}function c(a,b){return"right"==b?{x:a.x+a.w,y:a.y}:"bottom"==b?{x:a.x,y:a.y+a.h}:a}$.each(i,function(a,b){e(b)});for(var d=[],f=this;null!=f;f=f.parentElement)d.unshift(f);for(var g=0;g<d.length;g++){var h=d[g];if(h.element.show(),h.isPopup&&h.parentElement){var j=h.parentElement,k=a(j,h),l=b(k),m=c(l,j.childrenAlignment);h.element.css({position:"absolute",left:m.x+"px",top:m.y+"px"}),jpvs.fitInWindow(h.element)}}},jpvs.Menu.MenuElement.prototype.hide=function(){this.element.hide()},jpvs.Menu.MenuElement.prototype.hideIfNonRoot=function(){0!=this.level&&this.element.hide()},jpvs.Menu.MenuElement.prototype.getChildren=function(){var a=[];return $.each(this.itemElements,function(b,c){var d=$(c).data("subMenu");a.push(d)}),a},jpvs.Menu.Templates={HorizontalMenuBar:function(a){var b=a.items,c=a.itemTemplate,d=a.level,e=jpvs.Table.create(this).addClass("HorizontalMenuBar").addClass("HorizontalMenuBar-Level"+d),f=e.writeBodyRow();return $.each(b,function(a,b){var d=f.writeCell().addClass("Item");jpvs.applyTemplate(d,c,b)}),new jpvs.Menu.MenuElement(e.element,b,0!=d,!1,"bottom")},VerticalMenuBar:function(a){var b=a.items,c=a.itemTemplate,d=a.level,e=jpvs.Table.create(this).addClass("VerticalMenuBar").addClass("VerticalMenuBar-Level"+d);return $.each(b,function(a,b){var d=e.writeBodyRow();d.element.addClass("Item"),jpvs.applyTemplate(d,c,b)}),new jpvs.Menu.MenuElement(e.element,b,0!=d,!1,"right")},PopupMenu:function(a){var b=a.items,c=a.itemTemplate,d=a.level,e=jpvs.Table.create(this).addClass("PopupMenu").addClass("PopupMenu-Level"+d);return $.each(b,function(a,b){var d=e.writeBodyRow();d.element.addClass("Item"),jpvs.applyTemplate(d,c,b)}),new jpvs.Menu.MenuElement(e.element,b,0!=d,!0,"right")}},jpvs.Menu.ItemTemplates={HorizontalMenuBarItem:function(a){a===jpvs.Menu.Separator?(this.addClass("Separator"),jpvs.write(this,"|")):(jpvs.write(this,a&&a.text),a&&a.tooltip&&this.attr("title",a.tooltip))},VerticalMenuBarItem:function(a){jpvs.Menu.ItemTemplates.PopupMenuItem.call(this,a)},PopupMenuItem:function(a){if(a===jpvs.Menu.Separator){this.addClass("Separator");var b=jpvs.writeTag(this,"td").attr("colspan",3);jpvs.writeTag(b,"hr")}else{var c=jpvs.writeTag(this,"td").addClass("Icon"),d=jpvs.writeTag(this,"td",a&&a.text).addClass("Text"),e=jpvs.writeTag(this,"td").addClass("SubMenu");if(a&&a.tooltip&&d.attr("title",a.tooltip),a&&a.icon){var f=jpvs.writeTag(c,"img");f.attr("src",a.icon)}if(a&&a.items&&a.items.length){var g=jpvs.writeTag(e,"img");g.attr("src",jpvs.Resources.images.subMenuMarker)}}}},jpvs.Menu.Templates.Default_Level0=jpvs.Menu.Templates.HorizontalMenuBar,jpvs.Menu.Templates.Default_OtherLevels=jpvs.Menu.Templates.PopupMenu,jpvs.Menu.ItemTemplates.Default_Level0=jpvs.Menu.ItemTemplates.HorizontalMenuBarItem,jpvs.Menu.ItemTemplates.Default_OtherLevels=jpvs.Menu.ItemTemplates.PopupMenuItem,jpvs.makeWidget({widget:jpvs.Menu,type:"Menu",cssClass:"Menu",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(a){var c=b(this.element);this.element.empty(),this.menuItems(c),this.ensureId(),i[this.id()]=this},canAttachTo:function(a){return!1},prototype:{template:a("jpvsTemplate"),itemTemplate:a("jpvsItemTemplate"),menuItems:jpvs.property({get:function(){return this.element.data("menuItems")},set:function(a){this.element.data("menuItems",a),c(this,a)}})}})}(),jpvs.MultiLineTextBox=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.MultiLineTextBox,type:"MultiLineTextBox",cssClass:"MultiLineTextBox",create:function(a){var b=document.createElement("textarea");return $(a).append(b),b},init:function(a){this.element.change(function(){return a.change.fire(a)})},canAttachTo:function(a){return $(a).is("textarea")},prototype:{text:jpvs.property({get:function(){return this.element.val()},set:function(a){this.element.val(a)}})}}),function(){function a(a){return a.element.data("items")}function b(a,b){a.element.data("items",b)}function c(b){var c=a(b),d=[];return $.each(c,function(a,b){b.selected&&d.push(b)}),d}function d(a){var b=c(a),d=[];return $.each(b,function(a,b){d.push(b.text)}),d}function e(a){var b=c(a),d=[];return $.each(b,function(a,b){d.push(b.value)}),d}function f(c,d){var e=a(c),f={};$.each(e,function(a,b){b.selected=!1,f[b.value]=b}),$.each(d,function(a,b){var c=f[b];c&&(c.selected=!0)}),b(c,e),g(c)}function g(a){var b=d(a);jpvs.write(a.label.empty(),b.join(", "))}function h(c){function d(){f(!0)}function e(){f(!1)}function f(a){for(var b=0;b<l.length;b++){var c=l[b],d=r[b];d.selected(a),c.selected=a}i()}function h(a,b){return function(){b.selected=a.selected(),i()}}function i(){b(c,l),g(c),c.change.fire(c)}function j(){return jpvs.writeTag(this,"ul")}function k(a){function b(){f.change.fire(f)}var d=jpvs.writeTag(this,"li"),e=jpvs.CheckBox.create(d).text(a.text).change(b),f={selected:jpvs.property({get:function(){return e.checked()},set:function(a){e.checked(a)}}),change:jpvs.event(c)};return f}var l=a(c),m=jpvs.Popup.create().addState("MultiSelectBox").title(null).modal(!1).position({my:"left top",at:"left bottom",of:c.label,collision:"fit",position:"absolute"});m.autoDestroy(!0);var n=c.prompt();n&&jpvs.writeln(m,n),jpvs.LinkButton.create(m).text(jpvs.MultiSelectBox.strings.selectAll).click(d),jpvs.write(m," "),jpvs.LinkButton.create(m).text(jpvs.MultiSelectBox.strings.unselectAll).click(e),jpvs.writeln(m);var o=c.containerTemplate()||j,p=jpvs.applyTemplate(m,o),q=c.itemTemplate()||k,r=[];$.each(l,function(a,b){var c=jpvs.applyTemplate(p,q,b);r.push(c),c.selected(!!b.selected),c.change(h(c,b))}),m.show()}jpvs.MultiSelectBox=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.MultiSelectBox.allStrings={en:{selectAll:"Select all",unselectAll:"Unselect all"},it:{selectAll:"Seleziona tutto",unselectAll:"Deseleziona tutto"}},jpvs.makeWidget({widget:jpvs.MultiSelectBox,type:"MultiSelectBox",cssClass:"MultiSelectBox",create:function(a){var b=document.createElement("table");return $(a).append(b),b},init:function(a){jpvs.MultiSelectBox.strings=jpvs.MultiSelectBox.allStrings[jpvs.currentLocale()];var c=[];this.element.find("option").each(function(){var a=$(this),b=a.val(),d=a.text(),e=a.prop("selected");c.push({value:b,text:d,selected:e})});var d=this.element.data(),e=jpvs.writeTag(this.element.parent(),"table");e.insertAfter(this.element),this.element.remove(),e.attr("id",this.element.attr("id")),e.attr("class",this.element.attr("class")),this.element=e,this.element.data(d),b(a,c);var f=jpvs.writeTag(a,"tbody"),i=jpvs.writeTag(f,"tr");this.label=jpvs.writeTag(i,"td"),this.label.addClass("Label");var j=jpvs.writeTag(i,"td");j.addClass("ButtonContainer"),this.button=jpvs.Button.create(j).text("...").click(function(){h(a)}),g(a)},canAttachTo:function(a){return!1},prototype:{caption:jpvs.property({get:function(){return this.element.data("caption")},set:function(a){this.element.data("caption",a)}}),prompt:jpvs.property({get:function(){return this.element.data("prompt")},set:function(a){this.element.data("prompt",a)}}),containerTemplate:jpvs.property({get:function(){return this.element.data("containerTemplate")},set:function(a){this.element.data("containerTemplate",a)}}),itemTemplate:jpvs.property({get:function(){return this.element.data("itemTemplate")},set:function(a){this.element.data("itemTemplate",a)}}),clearItems:function(){return b(this,[]),g(this),this},addItem:function(c,d,e){var f=c,h=null!=d?d:c;if(null!=f&null!=h){var i=a(this);i.push({value:f,text:h,selected:!!e}),b(this,i),g(this)}return this},addItems:function(a){var b=this;return $.each(a,function(a,c){null!=c&&(null!=c.value?b.addItem(c.value,c.text,c.selected):b.addItem(c))}),this},count:function(){var b=a(this);return b.length},selectedValues:jpvs.property({get:function(){return e(this)},set:function(a){f(this,a)}}),selectedValuesString:jpvs.property({get:function(){return this.selectedValues().join(",")},set:function(a){var b=$.trim(a);""!=b?this.selectedValues(b.split(",")):this.selectedValues([])}})}})}(),function(){jpvs.Pager=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.Pager.allStrings={en:{firstPage:"First page",previousPage:"Previous page",nextPage:"Next page",lastPage:"Last page",pag:"Page"},it:{firstPage:"Prima pagina",previousPage:"Pagina precedente",nextPage:"Pagina successiva",lastPage:"Ultima pagina",pag:"Pag."}},jpvs.makeWidget({widget:jpvs.Pager,type:"Pager",cssClass:"Pager",create:function(a){var b=document.createElement("table");return $(a).append(b),b},init:function(a){var b=jpvs.writeTag(a.element,"tbody"),c=jpvs.writeTag(b,"tr"),d=jpvs.writeTag(c,"td"),e=jpvs.writeTag(c,"td"),f=jpvs.writeTag(c,"td"),g=jpvs.writeTag(c,"td"),h=jpvs.writeTag(c,"td");jpvs.Pager.strings=jpvs.Pager.allStrings[jpvs.currentLocale()],jpvs.LinkButton.create(d).text(jpvs.Pager.strings.firstPage).click(function(){a.page(Math.min(0,a.totalPages()-1)),a.change.fire(a)}),jpvs.LinkButton.create(g).text(jpvs.Pager.strings.nextPage).click(function(){a.page(Math.min(a.page()+1,a.totalPages()-1)),a.change.fire(a)}),jpvs.LinkButton.create(e).text(jpvs.Pager.strings.previousPage).click(function(){a.page(Math.max(0,a.page()-1)),a.change.fire(a)}),jpvs.LinkButton.create(h).text(jpvs.Pager.strings.lastPage).click(function(){a.page(a.totalPages()-1),a.change.fire(a)});var i=jpvs.DropDownList.create(f).change(function(){var b=parseInt(this.selectedValue());a.page(Math.min(b,a.totalPages()-1)),a.change.fire(a)});this.element.data("cmbPages",i)},canAttachTo:function(a){return!1},prototype:{page:jpvs.property({get:function(){return this.element.data("page")||0},set:function(a){this.element.data("page",a);var b=this.element.data("cmbPages");b.selectedValue(a.toString())}}),totalPages:jpvs.property({get:function(){return this.element.data("totalPages")||0},set:function(a){var b=this.totalPages();if(b!=a){var c=this.element.data("cmbPages");c.clearItems();for(var d=0;a>d;d++)c.addItem(d.toString(),jpvs.Pager.strings.pag+" "+(d+1)+" / "+a)}this.element.data("totalPages",a)}})}})}(),jpvs.PasswordBox=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.PasswordBox,type:"PasswordBox",cssClass:"PasswordBox",create:function(a){var b=document.createElement("input");return $(b).attr("type","password"),$(a).append(b),b},init:function(a){this.element.change(function(){return a.change.fire(a)})},canAttachTo:function(a){return $(a).is('input[type="password"]')},prototype:{text:jpvs.property({get:function(){return this.element.val()},set:function(a){this.element.val(a)}}),width:jpvs.property({get:function(){return this.element.css("width")},set:function(a){this.element.css("width",a)}})}}),function(){function a(a){if(27==a.which){var b=jpvs.Popup.getTopMost();if(b)return b.closeButton.click.fire(b),!1}}function b(a){var b=$(a.target),d=b.closest(".Popup"),e=d.length?d.attr("id"):"",f=(new Date).getTime()-500;$.each(c,function(a,b){b.open&&b.openTimestamp<f&&a!=e&&(b.autoHide&&b.widget.hide(),b.autoDestroy&&b.widget.destroy())})}var c={};$(document).ready(function(){try{$(document).on("click.jpvsPopup",b).on("keydown.jpvsPopup",a)}catch(c){}}),jpvs.Popup=function(a){this.attach(a),this.close=jpvs.event(this)},jpvs.Popup.getTopMost=function(){var a,b;return $.each(c,function(c,d){if(d.open){var e=d.widget.zIndex();(!b||e>b)&&(a=d,b=e)}}),a?a.widget:null},jpvs.makeWidget({widget:jpvs.Popup,type:"Popup",cssClass:"Popup",create:function(a){var b=document.createElement("div");return $(b).attr("id",jpvs.randomString(20)),$(a).append(b),b},init:function(a){function b(a){return function(){a.bringForward()}}c[this.element.attr("id")]={open:!1,autoDestroy:!1,autoHide:!1,widget:this};var d=this.element.contents();this.blanketElement=$(document.createElement("div")),this.blanketElement.addClass("DimScreen").css({position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%"}),this.element.append(this.blanketElement),this.contentsElement=$(document.createElement("div")),this.contentsElement.addClass("Contents").append(d),this.element.append(this.contentsElement),this.element.hide();var e=this.element.data("jpvsWidth");e&&this.contentsElement.css({width:e});var f=this.contentsElement.children("h1").detach(),g=this.contentsElement.contents();this.titleElement=$(document.createElement("div")),this.titleElement.addClass("Title"),this.contentsElement.append(this.titleElement),this.bodyElement=$(document.createElement("div")),this.bodyElement.addClass("Body"),this.contentsElement.append(this.bodyElement),this.bodyElement.append(g),this.closeButton=jpvs.ImageButton.create(this.titleElement),this.closeButton.imageUrls({normal:jpvs.Resources.images.closeButton,hover:jpvs.Resources.images.closeButtonHover}),this.closeButton.click.bind(function(){a.hide(),a.close.fire(a)});var h=jpvs.writeTag(this.titleElement,"h1");h.append(f.contents()),this.contentsElement.draggable&&this.contentsElement.draggable({addClasses:!1,containment:"window",cursor:"move",handle:h,scroll:!1}),this.modal(!0),this.contentsElement.mousedown(b(this))},canAttachTo:function(a){return!1},destroy:function(){var a=this;return this.hide(function(){delete c[a.element.attr("id")],a.element.remove()}),!1},getMainContentElement:function(){return this.bodyElement},prototype:{modal:jpvs.property({get:function(){return this.element.data("modal")},set:function(a){this.element.data("modal",!!a)}}),autoHide:jpvs.property({get:function(){return!!c[this.element.attr("id")].autoHide},set:function(a){c[this.element.attr("id")].autoHide=!!a}}),autoDestroy:jpvs.property({get:function(){return!!c[this.element.attr("id")].autoDestroy},set:function(a){c[this.element.attr("id")].autoDestroy=!!a}}),position:jpvs.property({get:function(){return this.element.data("position")},set:function(a){this.element.data("position",a)}}),applyPosition:function(a){var b=this.contentsElement.outerWidth(),c=this.contentsElement.outerHeight(),d=$(window),e=d.width(),f=d.height(),g=c-f,h=b-e,i=this.bodyElement.width(),j=this.bodyElement.height();(h>0||g>0)&&(this.bodyElement.css("overflow","auto"),h>0&&(i-=h,this.bodyElement.css("width",i+"px")),g>0&&(j-=g,this.bodyElement.css("height",j+"px")));var k=this.position()||{my:"center",at:"center",of:$(window),collision:"fit",position:"fixed"};return a?k.using=function(a){$(this).animate(a)}:delete k.using,this.contentsElement.css("position",k.position||"fixed").position(k),this},center:function(){return this.position(null),this.applyPosition(),this},show:function(a){var b=this;this.element.show();var d=this.contentsElement.css("position");return"absolute"!=d&&"fixed"!=d&&this.applyPosition(!1),this.contentsElement.hide(),this.contentsElement.fadeIn(function(){b.applyPosition(!0),a&&a()}),this.modal()?this.blanketElement.show():this.blanketElement.hide(),c[this.element.attr("id")].open=!0,c[this.element.attr("id")].openTimestamp=(new Date).getTime(),this.bringForward(),this},hide:function(a){return c[this.element.attr("id")].open=!1,this.blanketElement.hide(),this.contentsElement.fadeOut(a),this},bringForward:function(){var a=jpvs.Popup.getTopMost();return a?a!==this&&this.zIndex(a.zIndex()+1):this.zIndex(1e4),this},title:jpvs.property({get:function(){return this.titleElement.children("h1").text()},set:function(a){this.titleElement.children("h1").text(a),a?this.titleElement.show():this.titleElement.hide()}}),width:jpvs.property({get:function(){return this.contentsElement.width()},set:function(a){this.contentsElement.css("width",a)}}),maxWidth:jpvs.property({get:function(){return this.contentsElement.css("max-width")},set:function(a){this.contentsElement.css("max-width",a)}}),zIndex:jpvs.property({get:function(){var a=parseInt(this.contentsElement.css("zIndex"));
return isFinite(a)?a:1e4},set:function(a){this.blanketElement.css("zIndex",a),this.contentsElement.css("zIndex",a)}})}}),jpvs.alert=function(){function a(a,b){return function(){b&&b(),a.close.fire()}}for(var b={title:jpvs.alert.defaultTitle,text:"",onclose:null,buttons:[{text:"OK"}]},c=!1,d=!1,e=0;e<arguments.length;e++){var f=arguments[e];f&&("string"==typeof f?d?c||(b.title=b.text,b.text=f,c=!0):(b.text=f,d=!0):"function"==typeof f||f.__WIDGET__?b.onclose=f:f.length&&(b.buttons=f))}var g=jpvs.Popup.create();g.maxWidth("75%").title(b.title||null),jpvs.write(g.bodyElement,b.text),b.buttons&&$.each(b.buttons,function(b,c){c&&(c.click=a(g,c.click))}),jpvs.writeButtonBar(g.bodyElement,b.buttons),g.show(),g.center(),g.close.bind(function(){g.hide(),b.onclose&&("function"==typeof b.onclose?b.onclose():b.onclose.__WIDGET__&&b.onclose.focus()),setTimeout(function(){g.destroy()},5e3)})},jpvs.confirm=function(a,b,c,d,e,f){function g(){h?c&&c():d&&d()}var h=!1;jpvs.alert(a,b,g,[{text:e||"OK",click:function(){h=!0}},{text:f||"Cancel",click:function(){h=!1}}])}}(),function(){function a(a){return jpvs.Scheduler.strings[a]||"Error: "+a}function b(b){jpvs.Button.create(b.pager).text(a("today")).click(c(b)),jpvs.Button.create(b.pager).text("<").click(d(b)),jpvs.Button.create(b.pager).text(">").click(e(b)),jpvs.writeTag(b.pager,"span"," ").addClass("Spacer"),b.btnDay=jpvs.Button.create(b.pager).text(a("day")).click(f(b,"day")),b.btnWeek=jpvs.Button.create(b.pager).text(a("week")).click(f(b,"week")),b.btnMonth=jpvs.Button.create(b.pager).text(a("month")).click(f(b,"month")),b.btnAgenda=jpvs.Button.create(b.pager).text(a("agenda")).click(f(b,"agenda")),jpvs.writeTag(b.pager,"span"," ").addClass("Spacer"),jpvs.Button.create(b.pager).text(a("add")).click(g(b))}function c(a){return function(){a.date(moment().format("YYYYMMDD"))}}function d(a){return function(){var b=a.mode(),c=moment(a.date(),"YYYYMMDD");"day"==b?c.add(-1,"days"):"week"==b?c.add(-7,"days"):"month"==b&&c.add(-1,"month"),a.date(c.format("YYYYMMDD"))}}function e(a){return function(){var b=a.mode(),c=moment(a.date(),"YYYYMMDD");"day"==b?c.add(1,"days"):"week"==b?c.add(7,"days"):"month"==b&&c.add(1,"month"),a.date(c.format("YYYYMMDD"))}}function f(a,b){return function(){a.mode(b)}}function g(a){return function(){a.requireAdd.fire(a)}}function h(a){i(a),j(a)}function i(a){jpvs.find(a.pager.find("button")).each(function(){this.removeState("Active")});var b,c=a.mode();"day"==c?b=a.btnDay:"week"==c?b=a.btnWeek:"month"==c?b=a.btnMonth:"agenda"==c&&(b=a.btnAgenda),b&&b.addState("Active")}function j(a){var b=z[a.mode()]||function(){jpvs.write(a.body,"Invalid mode: "+a.mode())};b(a)}function k(a,b,c,d){var e=a.readDataFunction();return e?void e(b,c,d):void(d&&d([]))}function l(a){for(var b=0;24>b;b++){s(a,0,1,b/A,(b+1)/A,0!=b?"T":""),s(a,0,1,(b+.5)/A,(b+1)/A,"t");var c=moment().hours(b).minutes(0).format("HH:mm"),d=moment().hours(b).minutes(30).format("HH:mm");t(a,0,b/A,c),t(a,0,(b+.5)/A,d)}a.scrollTop(8/A*a.height())}function m(a){var b=moment(a,"HHmm"),c=b.hours(),d=b.minutes();return(c+d/60)/A}function n(a,b){for(var c=moment(b),d=0;7>d;d++)s(a,d/7,(d+1)/7,0,1,6>d?"R":"",0==c.day()||6==c.day()?"Holiday":""),u(a,d/7,(d+1)/7,0,c.format("ddd - L")),c=c.add(1,"days")}function o(a,b){for(var c=moment(b),d=0;7>d;d++)s(a,d/7,(d+1)/7,0,24/A,6>d?"R":"",0==c.day()||6==c.day()?"Holiday":""),c=c.add(1,"days")}function p(a,b){for(var c=0,d=moment(a).format("YYYYMMDD"),e=moment(b).format("YYYYMMDD");moment(d,"YYYYMMDD").isAfter(moment(e,"YYYYMMDD"));)c++,d=moment(d,"YYYYMMDD").add(-1,"days").format("YYYYMMDD");for(;moment(d,"YYYYMMDD").isBefore(moment(e,"YYYYMMDD"));)c--,d=moment(d,"YYYYMMDD").add(1,"days").format("YYYYMMDD");return c/7}function q(a){for(var b=moment.weekdays(),c=1;7>c;c++)s(a,(c-1)/7,c/7,0,1,"R",6==c?"Holiday":""),u(a,(c-1)/7,c/7,0,b[c]);s(a,6/7,1,0,1,"R","Holiday"),u(a,6/7,1,0,b[0])}function r(a,b,c){for(var d=moment(b),e=(d.format("YYYYMMDD"),0),f=6,g=.05/7,h=.05/f,i={};!d.isAfter(c);){var j=d.day(),k=0==j?6/7:(j-1)/7,l=e/f,m={x1:k+g,x2:k+1/7-g,y1:l+h,y2:l+1/f-h},n=s(a,m.x1,m.x2,m.y1,m.y2,"RLTB",0==j||6==j?"Holiday":""),o=d.date();jpvs.writeTag(n,"h1",o.toString()),m.div=n,i[d.format("YYYYMMDD")]=m,0==j&&e++,d.add(1,"days")}return i}function s(a,b,c,d,e,f,g){var h=jpvs.writeTag(a,"div").css({position:"absolute",left:100*b+"%",top:100*d+"%",width:100*(c-b)+"%",height:100*(e-d)+"%",overflow:"hidden"});return h.addClass("Rectangle"),g&&h.addClass(g),f.indexOf("L")>=0&&h.css("border-left","1px solid #000"),f.indexOf("R")>=0&&h.css("border-right","1px solid #000"),f.indexOf("T")>=0&&h.css("border-top","1px solid #000"),f.indexOf("B")>=0&&h.css("border-bottom","1px solid #000"),f.indexOf("l")>=0&&h.css("border-left","1px dashed #000"),f.indexOf("r")>=0&&h.css("border-right","1px dashed #000"),f.indexOf("t")>=0&&h.css("border-top","1px dashed #000"),f.indexOf("b")>=0&&h.css("border-bottom","1px dashed #000"),h}function t(a,b,c,d){var e=jpvs.writeTag(a,"div").css({position:"absolute",left:100*b+"%",top:100*c+"%","font-size":"8pt"});jpvs.write(e,d)}function u(a,b,c,d,e){var f=jpvs.writeTag(a,"div").css({position:"absolute",left:100*b+"%",top:100*d+"%",width:100*(c-b)+"%","font-size":"8pt","text-align":"center"});jpvs.write(f,e)}function v(a){var b=moment(a.timeFrom,"HHmm").format("HH:mm"),c=moment(a.timeTo,"HHmm").format("HH:mm");jpvs.write(this,b+" - "+c)}function w(a){var b=moment(a.timeFrom,"HHmm").format("HH:mm"),c=moment(a.timeTo,"HHmm").format("HH:mm");jpvs.write(this,b+" - "+c)}function x(a){var b=moment(a.timeFrom,"HHmm").format("HH:mm"),c=moment(a.timeTo,"HHmm").format("HH:mm");jpvs.writeln(this,b+" - "+c)}function y(a){var b=moment(a.dateFrom,"YYYYMMDD").format("L"),c=moment(a.dateTo,"YYYYMMDD").format("L"),d=moment(a.timeFrom,"HHmm").format("HH:mm"),e=moment(a.timeTo,"HHmm").format("HH:mm");b!=c?jpvs.writeln(this,b+" "+d+" - "+c+" "+e):jpvs.writeln(this,b+"    "+d+" - "+e)}jpvs.Scheduler=function(a){this.attach(a),this.requireAdd=jpvs.event(this)},jpvs.Scheduler.allStrings={en:{today:"Today",day:"Day",week:"Week",month:"Month",agenda:"Agenda",add:"Add"},it:{today:"Oggi",day:"Giorno",week:"Settimana",month:"Mese",agenda:"Agenda",add:"Aggiungi"}},jpvs.makeWidget({widget:jpvs.Scheduler,type:"Scheduler",cssClass:"Scheduler",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(a){jpvs.Scheduler.strings=jpvs.Scheduler.allStrings[jpvs.currentLocale()],a.pager=jpvs.writeTag(a,"div").addClass("Pager"),a.header=jpvs.writeTag(a,"div").addClass("Header"),a.body=jpvs.writeTag(a,"div").addClass("Body"),b(a),h(a)},canAttachTo:function(a){return!1},prototype:{readDataFunction:jpvs.property({get:function(){return this.element.data("readDataFunction")},set:function(a){this.element.data("readDataFunction",a),h(this)}}),mode:jpvs.property({get:function(){return this.element.data("mode")||"day"},set:function(a){this.element.data("mode",a),h(this)}}),date:jpvs.property({get:function(){return this.element.data("date")||moment().format("YYYYMMDD")},set:function(a){this.element.data("date",a),h(this)}}),refresh:function(){h(this)},dayItemTemplate:jpvs.property({get:function(){return this.element.data("dayItemTemplate")||v},set:function(a){this.element.data("dayItemTemplate",a),h(this)}}),weekItemTemplate:jpvs.property({get:function(){return this.element.data("weekItemTemplate")||w},set:function(a){this.element.data("weekItemTemplate",a),h(this)}}),monthItemTemplate:jpvs.property({get:function(){return this.element.data("monthItemTemplate")||x},set:function(a){this.element.data("monthItemTemplate",a),h(this)}}),agendaItemTemplate:jpvs.property({get:function(){return this.element.data("agendaItemTemplate")||y},set:function(a){this.element.data("agendaItemTemplate",a),h(this)}})}});var z={day:function(a){var b=a.date();k(a,b,b,function(c){a.header.empty(),u(a.header,0,1,0,moment(b,"YYYYMMDD").format("dddd - LL")),a.body.empty(),a.body.css("overflow-y","scroll"),a.body.css("overflow-x","hidden"),l(a.body);var d=a.dayItemTemplate();for(var e in c){var f=c[e],g=m(f.timeFrom),h=m(f.timeTo),i=s(a.body,1/7,6/7,g,h,"","Item");jpvs.applyTemplate(i,d,f)}})},week:function(a){var b=moment(a.date(),"YYYYMMDD"),c=moment(b).startOf("week"),d=c.format("YYYYMMDD"),e=moment(b).endOf("week").format("YYYYMMDD");k(a,d,e,function(b){a.header.empty(),a.header.css("overflow-y","scroll"),a.header.css("overflow-x","hidden"),n(a.header,c),a.body.empty(),a.body.css("overflow-y","scroll"),a.body.css("overflow-x","hidden"),o(a.body,c),l(a.body);var d=a.weekItemTemplate();for(var e in b){var f=b[e],g=m(f.timeFrom),h=m(f.timeTo),i=p(f.dateFrom,c),j=p(f.dateTo,c),k=s(a.body,i+.1/7,j+.9/7,g,h,"","Item");jpvs.applyTemplate(k,d,f)}})},month:function(a){var b=moment(a.date(),"YYYYMMDD"),c=moment(b).startOf("month"),d=c.format("YYYYMMDD"),e=moment(b).endOf("month"),f=e.format("YYYYMMDD");k(a,d,f,function(b){a.header.empty(),a.header.css("overflow-y","scroll"),a.header.css("overflow-x","hidden"),q(a.header),a.body.empty(),a.body.css("overflow-y","scroll"),a.body.css("overflow-x","hidden");var d=r(a.body,c,e),f=a.monthItemTemplate();for(var g in b){var h=b[g],i=d[h.dateFrom];if(i){var j=d[h.dateFrom].div;jpvs.applyTemplate(j,f,h)}}})},agenda:function(a){var b=moment(a.date(),"YYYYMMDD"),c=b.format("YYYYMMDD"),d=moment(b).add(90,"days").format("YYYYMMDD");k(a,c,d,function(b){a.header.empty(),a.body.empty(),a.body.css("overflow-y","auto"),a.body.css("overflow-x","auto");var c=a.agendaItemTemplate();for(var d in b){var e=b[d];jpvs.applyTemplate(a.body,c,e)}})}},A=10}(),function(){function a(a){return function(){a.change.fire(a)}}function b(a){return function(){var b=a.element.innerWidth()-a.scrollbarW,c=a.element.innerHeight()-a.scrollbarH;a.contentBox.css({width:b+"px",height:c+"px"})}}function c(){var a=$('<div style="width: 100%; height:200px;">test</div>'),b=$('<div style="width:200px;height:150px; position: absolute; top: 0px; left: 0px; visibility: hidden; overflow:hidden;"></div>').append(a),c=a[0],d=b[0];$("body").append(d);var e=c.offsetWidth;b.css("overflow","scroll");var f=d.clientWidth;return b.remove(),e-f}jpvs.Scroller=function(a){this.attach(a),this.change=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.Scroller,type:"Scroller",cssClass:"Scroller",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(d){var e={width:d.element.width(),height:d.element.height()};d.element.css({position:"relative",width:"200px",height:"200px"});var f=d.element.contents();d.scrollerBox=jpvs.writeTag(d.element,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"scroll"}),d.scrollerSizer=jpvs.writeTag(d.scrollerBox,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"hidden"}),d.contentBox=jpvs.writeTag(d.element,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"hidden"}),d.content=jpvs.writeTag(d.contentBox,"div").css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"hidden"}),d.scrollbarW=c(),d.scrollbarH=d.scrollbarW,d.scrollerBox.scroll(a(d)),$(window).resize(b(d)),f.length&&(d.content.append(f),e.height+=d.scrollbarH,e.width+=d.scrollbarW,d.scrollableSize(e).contentSize(e)),b(d)()},canAttachTo:function(a){return!1},getMainContentElement:function(){return this.content},prototype:{objectSize:jpvs.property({get:function(){return{width:this.element.width(),height:this.element.height()}},set:function(a){this.element.width(a.width).height(a.height),b(this)()}}),scrollableSize:jpvs.property({get:function(){return{width:this.scrollerSizer.width(),height:this.scrollerSizer.height()}},set:function(a){this.scrollerSizer.width(a.width).height(a.height),b(this)()}}),contentSize:jpvs.property({get:function(){return{width:this.content.width(),height:this.content.height()}},set:function(a){this.content.width(a.width).height(a.height),b(this)()}}),scrollPosition:jpvs.property({get:function(){var a=this.scrollerBox.scrollTop(),b=this.scrollerBox.scrollLeft();return{top:a,left:b}},set:function(a){this.scrollerBox.scrollTop(a.top).scrollLeft(a.left)}}),contentPosition:jpvs.property({get:function(){var a=this.contentBox.scrollTop(),b=this.contentBox.scrollLeft();return{top:a,left:b}},set:function(a){this.contentBox.scrollTop(a.top).scrollLeft(a.left)}})}})}(),function(){function a(a){return function(){var b=a.searchFunction();b(a.txt.text(),function(b){return b&&b.length?(a.grid.clear().template(a.gridTemplate()),a.grid.binder(a.pageSize()?jpvs.DataGrid.pagingBinder({pageSize:a.pageSize()}):jpvs.DataGrid.defaultBinder),a.grid.addHeaderRow({}).dataBind(b),void a.pnl.show()):void a.pnl.hide()})}}jpvs.SearchEngine=function(a){this.attach(a)},jpvs.makeWidget({widget:jpvs.SearchEngine,type:"SearchEngine",cssClass:"SearchEngine",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(b){b.lbl=jpvs.writeTag(b,"div","Missing 'label' property.").addClass("Label"),b.txt=jpvs.TextBox.create(b),b.txt.lazychange(a(b)),b.pnl=jpvs.writeTag(b,"div").addClass("Results").hide(),b.grid=jpvs.DataGrid.create(b.pnl),b.grid.enableEvenOdd(!0),b.grid.element.addClass("Grid")},canAttachTo:function(a){return!1},focus:function(){this.txt.focus()},prototype:{label:jpvs.property({get:function(){return this.lbl.text()},set:function(a){this.lbl.text(a)}}),searchFunction:jpvs.property({get:function(){return this.element.data("searchFunction")||function(){alert("Missing 'searchFunction' property.")}},set:function(a){this.element.data("searchFunction",a)}}),gridTemplate:jpvs.property({get:function(){return this.element.data("gridTemplate")||[{header:"Missing 'gridTemplate' property.",body:"Missing 'gridTemplate' property."}]},set:function(a){this.element.data("gridTemplate",a)}}),pageSize:jpvs.property({get:function(){return this.element.data("pageSize")||null},set:function(a){this.element.data("pageSize",a)}}),refresh:function(){return a(this),this}}})}(),function(){function a(a,b){var c=a.element.children(b);return 0==c.length&&(c=$(document.createElement(b)),a.element.append(c)),c}function b(b,d){var e=a(b,d),f=$(document.createElement("tr"));return e.append(f),new c(b,f)}function c(a,b){this.table=a,this.element=b}jpvs.Table=function(a){this.attach(a)},jpvs.makeWidget({widget:jpvs.Table,type:"Table",cssClass:"Table",create:function(a){var b=document.createElement("table");return $(a).append(b),b},init:function(a){},canAttachTo:function(a){return $(a).is("table")},prototype:{addClass:function(a){return this.element.addClass(a),this},removeClass:function(a){return this.element.removeClass(a),this},css:function(){return this.element.css.apply(this.element,arguments),this},writeHeaderRow:function(){return b(this,"thead")},writeBodyRow:function(){return b(this,"tbody")},writeRow:function(){return this.writeBodyRow()},writeFooterRow:function(){return b(this,"tfoot")},caption:jpvs.property({get:function(){var a=this.element.children("caption");return 0!=a.length?a.text():null},set:function(a){var b=this.element.children("caption");0==b.length&&(b=$(document.createElement("caption")),this.element.prepend(b)),b.text(a)}}),clear:function(){return this.element.find("tr").remove(),this}}}),c.prototype.writeHeaderCell=function(a){return jpvs.writeTag(this.element,"th",a)},c.prototype.writeCell=function(a){return jpvs.writeTag(this.element,"td",a)},c.prototype.getMainContentElement=function(){return this.element}}(),function(){function a(a){this.tableElement=a,this.floatingHeaderClone=null,this.uniqueName="TableExtender"+u++,this.allCellsSelector=".NAME>tr>th, .NAME>tr>td".replace(/NAME/g,this.uniqueName),this.allHeaderCellsSelector=".NAME>tr>th".replace(/NAME/g,this.uniqueName),this.afterResize=new jpvs.Event,this.changeFilterSort=new jpvs.Event}function b(a){return a.prop("colspan")||1}function c(a){var c=0;return a.prevAll().each(function(){var a=$(this);c+=b(a)}),c}function d(a,b){var d=c(a);return d>0&&v>b}function e(a,b){var c=a.outerWidth();return v>c-b}function f(a){return a.find("col").filter(function(){return $(this).parent()[0]===a[0]||$(this).parent().parent()[0]===a[0]})}function g(a){for(var b=a;;){b=b.parent();b[0].nodeName;if(!b||0==b.length||"body"==b[0].nodeName.toLowerCase()){b=null;break}var c=b.css("overflow");if("auto"==c||"scroll"==c||"hidden"==c)break}return b||$(window)}function h(a){a.tableElement.children("thead,tbody,tfoot").addClass(a.uniqueName)}function i(a){var b=a.tableElement,c=a.allCellsSelector;a.floatingHeaderClone&&(b=b.add(a.floatingHeaderClone)),b.off("mousemove.jpvsTableExtender1").on("mousemove.jpvsTableExtender1",c,function(a){var b=$(a.currentTarget),c=b.offset(),f=a.pageX-c.left;d(b,f)||e(b,f)?b.addClass("ColumnResize"):b.removeClass("ColumnResize")}),b.off("mouseleave.jpvsTableExtender1").on("mouseleave.jpvsTableExtender1",c,function(a){var b=$(a.currentTarget);b.removeClass("ColumnResize")})}function j(a){var b=a.tableElement,d=a.allCellsSelector,e=[];b.find(d).each(function(){var a=$(this),b=c(a),d=a.prop("colspan")||1,f=a.outerWidth();1==d&&(e[b]=f)});var g=0;$.each(e,function(a,b){g+=b}),b.css({"table-layout":"fixed",width:g+"px"});var h=f(b);$.each(e,function(a,c){var d=h.eq(a);if(!d.length){var e=jpvs.writeTag(b,"colgroup");d=jpvs.writeTag(e,"col")}d.css("width",c+"px")}),b.find(d).css("overflow","hidden")}function k(a){return parseFloat(a.style.width)}function l(a){function h(d,e){var g=c(d),h=g+b(d)-1,i=f(t),o=a.floatingHeaderClone&&f(a.floatingHeaderClone);j=i.eq(h),l=o.eq(h),m=h,n=e,p=k(j[0]),r=p,q=0,i.each(function(){q+=k(this)}),s=null}function i(b,c){var d=q-p+r;b?(t.css("width",d+"px"),j.css("width",r+"px"),l.css("width",r+"px"),a.verticalResizingCue&&(a.verticalResizingCue.remove(),a.verticalResizingCue=null)):(a.verticalResizingCue||(a.verticalResizingCue=jpvs.writeTag("body","div").css({position:"absolute",height:t.height()+"px",width:"0px",top:t.offset().top+"px","border-right":"1px dotted #f00"})),a.verticalResizingCue.css("left",c.pageX+"px")),a.persistColumnSizes()&&o(a,j,m,r),s={newTableWidth:d,columnIndex:m,newColumnWidth:r,resizing:!0},a.afterResize.fire(a,null,s)}var j,l,m,n,p,q,r,s,t=a.tableElement,u=a.allCellsSelector;g(t);a.floatingHeaderClone&&(t=t.add(a.floatingHeaderClone)),t.off("mousedown.jpvsTableExtender2").on("mousedown.jpvsTableExtender2",u,function(a){var b=$(a.currentTarget),c=t.eq(0).offset(),f=a.pageX-c.left,g=b.offset(),i=a.pageX-g.left;return d(b,i)?(h(b.prev(),f),!1):e(b,i)?(h(b,f),!1):void 0}),$(document).off("mousemove.jpvsTableExtender2"+a.uniqueName).on("mousemove.jpvsTableExtender2"+a.uniqueName,function(a){if(j){var b=t.eq(0).offset(),c=a.pageX-b.left,d=c-n;r=Math.max(p+d,2*v),i(!1,a)}}),$(document).off("mouseup.jpvsTableExtender2"+a.uniqueName).on("mouseup.jpvsTableExtender2"+a.uniqueName,function(b){return j&&(i(!0,b),s)?(s.resizing=!1,a.afterResize.fire(a,null,s),j=null,l=null,!1):void 0})}function m(a){if(window.localStorage){var b=a.data("tableName")||"__GenericTable__",c=localStorage["jpvs.TableExtenders.Sizes."+b],d=c?jpvs.parseJSON(c):{};return d=d||{}}return{}}function n(a){var b=a.tableElement;a.allCellsSelector;if(window.localStorage){var c=m(b),d=0,e=f(b);e.each(function(a){var b=$(this),e=b.data("colName")||"ColIndex"+a,f=c[e]||b.width();b.css("width",f+"px"),d+=f}),b.css("width",d+"px")}}function o(a,b,c,d){var e=a.tableElement;a.allCellsSelector;if(window.localStorage){var g=(f(e),m(e)),h=b.data("colName")||"ColIndex"+c;g[h]=d;var i=jpvs.toJSON(g),j=e.data("tableName")||"__GenericTable__";localStorage["jpvs.TableExtenders.Sizes."+j]=i}}function p(a){var b=a.tableElement,c=a.allHeaderCellsSelector;a.floatingHeaderClone&&(b=b.add(a.floatingHeaderClone)),b.off("mousemove.jpvsTableExtender3").on("mousemove.jpvsTableExtender3",c,function(b){var c=$(b.currentTarget);q(a,c,b)?c.addClass("SortOrFilter"):c.removeClass("SortOrFilter")}),b.off("mouseleave.jpvsTableExtender3").on("mouseleave.jpvsTableExtender3",c,function(a){var b=$(a.currentTarget);b.removeClass("SortOrFilter")}),b.off("mousedown.jpvsTableExtender3").on("mousedown.jpvsTableExtender3",c,function(b){var c=$(b.currentTarget);return q(a,c,b)?(s(a,c),!1):void 0})}function q(a,b,g){var h=a.tableElement,i=b.offset(),j=g.pageX-i.left,k=c(b),l=f(h),m=l.eq(k),n=a.enableSorting()&&r(m,"colSort"),o=a.enableFiltering()&&r(m,"colFilter"),p=n||o,q=!d(b,j)&&!e(b,j);return p&&q}function r(a,b){var c=a.data(b);return null==c?!0:"true"==c||1==c?!0:"false"==c||0==c?!1:!0}function s(a,b){function d(){a.filterSettings.push({colName:t,colHeader:u,operand:"EQ",value:""}),g()}function e(){a.sortSettings.push({colName:t,colHeader:u,descending:!1}),i()}function g(){if(x.clear(),a.filterSettings.length)for(var b=0;b<a.filterSettings.length;b++){var c=a.filterSettings[b];h(c,b)}else{var d=x.writeRow();jpvs.write(d.writeCell(),jpvs.DataGrid.strings.noFilterSpecified)}}function h(b,c){var d=x.writeRow();jpvs.write(d.writeCell(),jpvs.DataGrid.strings.condition+": "),jpvs.writeTag(d.writeCell(),"strong",b.colHeader);var e=jpvs.DropDownList.create(d.writeCell());e.addItem(""),e.addItems(jpvs.DataGrid.getFilteringOperands()),e.selectedValue(b.operand).change(function(){b.operand=this.selectedValue()});var f=jpvs.TextBox.create(d.writeCell());f.text(b.value).change(function(){b.value=this.text()}),jpvs.LinkButton.create(d.writeCell()).text(jpvs.DataGrid.strings.remove).click(function(){a.filterSettings.splice(c,1),g()})}function i(){if(y.clear(),a.sortSettings.length){for(var b=0;b<a.sortSettings.length;b++){var c=a.sortSettings[b];k(c,b)}y.element.find("tbody").sortable({handle:"td:first",update:j})}else{var d=y.writeRow();jpvs.write(d.writeCell(),jpvs.DataGrid.strings.noSortSpecified)}}function j(){a.sortSettings=[],y.element.find("tr").each(function(){var b=$(this),c=b.data("item");a.sortSettings.push(c)}),i()}function k(b,c){var d=y.writeRow();d.element.data("item",b),jpvs.writeTag(d.writeCell().css("cursor","move"),"img").attr("src",jpvs.Resources.images.moveButton),jpvs.write(d.writeCell(),(0==c?jpvs.DataGrid.strings.orderBy:jpvs.DataGrid.strings.thenBy)+": "),jpvs.writeTag(d.writeCell(),"strong",b.colHeader),jpvs.CheckBox.create(d.writeCell()).text(jpvs.DataGrid.strings.descending).checked(b.descending).change(function(){b.descending=this.checked()}),jpvs.LinkButton.create(d.writeCell()).text(jpvs.DataGrid.strings.remove).click(function(){a.sortSettings.splice(c,1),i()})}function l(){a.changeFilterSort.fire(a)}var m=a.tableElement;a.sortSettings=a.sortSettings||[],a.filterSettings=a.filterSettings||[];var n=c(b),o=f(m),p=o.eq(n),q=a.enableSorting()&&r(p,"colSort"),s=a.enableFiltering()&&r(p,"colFilter"),t=p.data("colName")||n.toString(),u=p.data("colHeader")||t,v="???";a.enableSorting()&&a.enableFiltering()?v=jpvs.DataGrid.strings.titleSortAndFilter:a.enableSorting()?v=jpvs.DataGrid.strings.titleSort:a.enableFiltering()&&(v=jpvs.DataGrid.strings.titleFilter);var w=jpvs.Popup.create().title(v).close(l);jpvs.write(w,jpvs.DataGrid.strings.currentColumn+": "),jpvs.writeTag(w,"strong",u),jpvs.write(w,"   "),s&&jpvs.LinkButton.create(w).text(jpvs.DataGrid.strings.addFilter).click(d),jpvs.write(w,"   "),q&&jpvs.LinkButton.create(w).text(jpvs.DataGrid.strings.addSort).click(e),jpvs.writeln(w);var x;s&&(jpvs.writeTag(w,"hr"),x=jpvs.Table.create(w),g());var y;q&&(jpvs.writeTag(w,"hr"),y=jpvs.Table.create(w),i()),w.show()}function t(a){function b(){var b=c.offset()||{left:c.scrollLeft(),top:c.scrollTop()},d={left:b.left-c.scrollLeft(),top:b.top-c.scrollTop()},e=a.tableElement.offset(),g=e.left-d.left,i=e.top-d.top;c.scrollTop()>i?a.floatingHeaderClone.show().css({position:"absolute",left:g-f+"px",top:c.scrollTop()-h+"px",margin:"0px"}):a.floatingHeaderClone.hide()}var c=g(a.tableElement),d=c.css("position");"absolute"!=d&&"relative"!=d&&"fixed"!=d&&c.css("position","relative"),a.floatingHeaderClone&&a.floatingHeaderClone.remove(),a.floatingHeaderClone=a.tableElement.clone(!0),a.floatingHeaderClone.children("tbody, tfoot, caption").remove(),a.floatingHeaderClone.insertAfter(a.tableElement),c.off("scroll.jpvsTableExtender4"),c.on("scroll.jpvsTableExtender4",b);var e=c[0].jpvs,f=e?0:parseInt(c.css("border-left-width"),10),h=e?0:parseInt(c.css("border-top-width"),10);b()}var u=1,v=5;jpvs.TableExtender={create:function(b){var c=jpvs.getElementIfWidget(b);return new a(c)}},a.prototype.resizableColumns=jpvs.property({get:function(){return!!this._resizableColumns},set:function(a){this._resizableColumns=!!a}}),a.prototype.persistColumnSizes=jpvs.property({get:function(){return!!this._persistColumnSizes},set:function(a){this._persistColumnSizes=!!a}}),a.prototype.enableSorting=jpvs.property({get:function(){return!!this._enableSorting},set:function(a){this._enableSorting=!!a}}),a.prototype.enableFiltering=jpvs.property({get:function(){return!!this._enableFiltering},set:function(a){this._enableFiltering=!!a}}),a.prototype.getSortAndFilterSettings=function(){return{sort:this.sortSettings,filter:this.filterSettings}},a.prototype.clearSortAndFilterSettings=function(){this.sortSettings=[],this.filterSettings=[]},a.prototype.tableHeaderAlwaysVisible=jpvs.property({get:function(){return!!this._tableHeaderAlwaysVisible},set:function(a){this._tableHeaderAlwaysVisible=!!a}}),a.prototype.apply=function(){jpvs.DataGrid.strings=jpvs.DataGrid.allStrings[jpvs.currentLocale()],h(this),j(this),this.persistColumnSizes()&&n(this),this.tableHeaderAlwaysVisible()&&t(this),this.resizableColumns()&&(i(this),l(this));var a=this.enableFiltering()||this.enableSorting();a&&p(this)}}(),jpvs.TextBox=function(a){this.attach(a),this.change=jpvs.event(this),this.lazychange=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.TextBox,type:"TextBox",cssClass:"TextBox",create:function(a){var b=document.createElement("input");return $(b).attr("type","text"),$(a).append(b),b},init:function(a){a.element.change(function(){return a.change.fire(a)}),a.lazyChangeID=jpvs.randomString(10),a.curText=a.text(),a.element.on("click change keyup keypress input",function(){a.text()!=a.curText&&(a.curText=a.text(),jpvs.runLazyTask(a.lazyChangeID,750,function(){a.lazychange.fire(a)}))})},canAttachTo:function(a){return $(a).is('input[type="text"]')},prototype:{text:jpvs.property({get:function(){return this.element.val()},set:function(a){this.element.val(a),this.curText=this.text()}}),width:jpvs.property({get:function(){return this.element.css("width")},set:function(a){this.element.css("width",a)}})}}),function(){function a(a){var b=a.startingTile();if(!b)return void a.element.children(".Tile").remove();for(var d=a.width(),e=a.height(),f=a.tileWidth(),g=a.tileHeight(),h=a.tileSpacingHorz(),i=a.tileSpacingVert(),j=f+h,k=g+i,l=a.originX(),m=a.originY(),n=l-f/2;n>0;)n-=j;n+=j;for(var o=[];d>n+f;)o.push(n),n+=j;var p=0;n=l-f/2;for(var q=+(1/0),r=0;r<o.length&&Math.abs(o[r]-n)<q;r++)q=Math.abs(o[r]-n);p=r-1,p=Math.max(p,0),p=Math.min(p,o.length-1);var s=1+(a.lastRenderedGeneration||0);a.lastRenderedGeneration=s;for(var t=m-g/2,u=0,v=p,w=b;w&&!(v>=o.length&&(v=0,t+=k,t>=e));)n=o[v],c(a,n,t,f,g,d,e,w,u,s),v++,u++,w=w.getNextTile&&w.getNextTile();for(v=p-1,t=m-g/2,w=b.getPreviousTile&&b.getPreviousTile(),u=-1;w&&!(0>v&&(v=o.length-1,t-=k,0>=t+g));)n=o[v],c(a,n,t,f,g,d,e,w,u,s),v--,u--,w=w.getPreviousTile&&w.getPreviousTile();a.element.children(".Tile").each(function(){var a=$(this),b=a.data("tileObject"),c=b&&b.jpvsTileBrowserInfo;c&&c.generation==s||(a.remove(),b.jpvsTileBrowserInfo=null)})}function b(a,b,c,d,e,f){function g(){return a>=0&&e>=a&&b>=0&&f>=b}function h(){return k>=0&&e>=k&&b>=0&&f>=b}function i(){return a>=0&&e>=a&&l>=0&&f>=l}function j(){return k>=0&&e>=k&&l>=0&&f>=l}var k=a+c,l=b+d;return g()||h()||i()||j()}function c(a,c,d,e,f,g,h,i,j,k){function l(b){i.template&&jpvs.applyTemplate(b.empty(),i.template,{tileObject:i,tileBrowser:a,tile:b})}if(i){var m=i.jpvsTileBrowserInfo;if(m)if(b(c,d,e,f,g,h)){var n=!1;m.x!=c&&(m.x=c,m.tile.css("left",c+"px")),m.y!=d&&(m.y=d,m.tile.css("top",d+"px")),m.tw!=e&&(m.tw=e,m.tile.css("width",e+"px"),n=!0),m.th!=f&&(m.th=f,m.tile.css("height",f+"px"),n=!0),n&&l(m.tile),m.generation=k}else m.tile.remove(),i.jpvsTileBrowserInfo=null;else if(b(c,d,e,f,g,h)){var o=jpvs.writeTag(a,"div");return o.data("tileObject",i),i.jpvsTileBrowserInfo={tile:o,x:c,y:d,tw:e,th:f,tileIndex:j,generation:k},o.addClass("Tile").css({position:"absolute",left:c+"px",top:d+"px",width:e+"px",height:f+"px",overflow:"hidden"}),l(o),o}}}function d(a,b){var c=1.1;return function(){"up"==b?a.desiredOriginY(a.desiredOriginY()+a.height()/4):"down"==b?a.desiredOriginY(a.desiredOriginY()-a.height()/4):"plus"==b?e(a,c):"minus"==b&&e(a,1/c),i(a)}}function e(a,b){var c=a.desiredTileWidth()*b,d=a.desiredTileHeight()*b;a.desiredTileWidth(c),a.desiredTileHeight(d);var e,f,g,h=a.width(),i=a.height(),j=h/2,k=i/2,l=+(1/0);a.element.children(".Tile").each(function(){var a=$(this),b=a.data("tileObject"),c=b&&b.jpvsTileBrowserInfo;if(c){var d=c.x+c.tw/2,h=c.y+c.th/2,i=(j-d)*(j-d)+(k-h)*(k-h);l>i&&(l=i,e=b,f=d,g=h)}}),e&&(a.originX(f),a.desiredOriginX(f),a.originY(g),a.desiredOriginY(g),a.startingTile(e))}function f(a){return function(b){var c=$(b.target).closest(".Tile"),d=c&&c.length&&c.data("tileObject");return d?a.tileClick.fire(a,null,d,b):void 0}}function g(a){return function(b){var c=b&&b.originalEvent&&b.originalEvent.deltaY||b.originalEvent.deltaX||0,d=a.desiredOriginY();if(b.shiftKey){var f=0>c?1.1:1/1.1;e(a,f)}else a.desiredOriginY(d-c);return i(a),!1}}function h(a){return function(b){if(b.isDrag){var c=$(b.target).closest(".Tile"),d=c&&c.length&&c.data("tileObject"),f=d&&d.jpvsTileBrowserInfo;if(f){if(d!==a.startingTile()){var g=f.x+f.tw/2,h=f.y+f.th/2;a.originX(g),a.originY(h),a.desiredOriginX(g),a.desiredOriginY(h),a.startingTile(d)}var g=a.desiredOriginX()+b.dragX,h=a.desiredOriginY()+b.dragY;a.desiredOriginX(g),a.desiredOriginY(h),i(a)}}else if(b.isZoom)e(a,b.zoomFactor),i(a);else if(b.isTap){var j=$(b.target);if(j.is(".Buttons > *"))j.click(),b.isLongTap&&(j.click(),j.click(),j.click());else{var c=$(b.target).closest(".Tile"),d=c&&c.length&&c.data("tileObject");if(d)return a.tileClick.fire(a,null,d,null)}}}}function i(b){function c(a){return Math.abs(a.originX)>=1||Math.abs(a.originY)>=1||Math.abs(a.tileWidth)>=1||Math.abs(a.tileHeight)>=1}function d(){return{originX:b.desiredOriginX()-b.originX(),originY:b.desiredOriginY()-b.originY(),tileWidth:b.desiredTileWidth()-b.tileWidth(),tileHeight:b.desiredTileHeight()-b.tileHeight()}}function e(a,b,c,d){var e=c-d,f=b-a,g=e/f/f;return g}function f(a,b,c,d){if(a>=b)return d;var e=b-a,f=c*e*e,g=d+f;return g}function g(){if(!b.animationInfo)return void(b.animating=!1);b.animating=!0;var c=(new Date).getTime();b.originX(f(c,b.animationInfo.x.tEnd,b.animationInfo.x.k,b.animationInfo.x.finalValue)),b.originY(f(c,b.animationInfo.y.tEnd,b.animationInfo.y.k,b.animationInfo.y.finalValue)),b.tileWidth(f(c,b.animationInfo.tw.tEnd,b.animationInfo.tw.k,b.animationInfo.tw.finalValue)),b.tileHeight(f(c,b.animationInfo.th.tEnd,b.animationInfo.th.k,b.animationInfo.th.finalValue)),a(b),c>b.animationInfo.x.tEnd&&c>b.animationInfo.y.tEnd&&c>b.animationInfo.tw.tEnd&&c>b.animationInfo.th.tEnd&&(b.animationInfo=null),jpvs.requestAnimationFrame(g)}var h=d();if(c(h)){var i=500,j=(new Date).getTime(),k=j+i;b.animationInfo={x:{tEnd:k,finalValue:b.desiredOriginX(),k:e(j,k,b.originX(),b.desiredOriginX())},y:{tEnd:k,finalValue:b.desiredOriginY(),k:e(j,k,b.originY(),b.desiredOriginY())},tw:{tEnd:k,finalValue:b.desiredTileWidth(),k:e(j,k,b.tileWidth(),b.desiredTileWidth())},th:{tEnd:k,finalValue:b.desiredTileHeight(),k:e(j,k,b.tileHeight(),b.desiredTileHeight())}},b.animating||jpvs.requestAnimationFrame(g)}}jpvs.TileBrowser=function(a){this.attach(a),this.tileClick=jpvs.event(this)},jpvs.makeWidget({widget:jpvs.TileBrowser,type:"TileBrowser",cssClass:"TileBrowser",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(a){a.element.empty(),a.element.css({overflow:"hidden"});var b=jpvs.writeTag(a,"div").addClass("Buttons").css({
overflow:"hidden",position:"absolute",right:"0px",top:"0px",bottom:"0px",width:"3em",zIndex:99999});jpvs.writeTag(b,"img").addClass("Up").click(d(a,"up")).attr("src",jpvs.Resources.images.up).css({position:"absolute",right:"0px",top:"0px",width:"100%"}),jpvs.writeTag(b,"img").addClass("Down").click(d(a,"down")).attr("src",jpvs.Resources.images.down).css({position:"absolute",right:"0px",bottom:"0px",width:"100%"}),jpvs.writeTag(b,"img").addClass("Plus").click(d(a,"plus")).attr("src",jpvs.Resources.images.plus).css({position:"absolute",right:"0px",bottom:"50%",width:"100%"}),jpvs.writeTag(b,"img").addClass("Minus").click(d(a,"minus")).attr("src",jpvs.Resources.images.minus).css({position:"absolute",right:"0px",top:"50%",width:"100%"}),a.element.on("click",f(a)),a.element.on("wheel",g(a)),jpvs.addGestureListener(a.element,null,h(a))},canAttachTo:function(a){return!1},prototype:{refresh:function(b){return a(this),b&&i(this),this},startingTile:jpvs.property({get:function(){return this.element.data("startingTile")},set:function(a){this.element.data("startingTile",a)}}),width:jpvs.property({get:function(){return this.element.width()},set:function(a){this.element.width(a)}}),height:jpvs.property({get:function(){return this.element.height()},set:function(a){this.element.height(a)}}),tileWidth:jpvs.property({get:function(){var a=this.element.data("tileWidth");return null!=a?a:this.width()/8},set:function(a){this.element.data("tileWidth",a)}}),tileHeight:jpvs.property({get:function(){var a=this.element.data("tileHeight");return null!=a?a:this.tileWidth()},set:function(a){this.element.data("tileHeight",a)}}),desiredTileWidth:jpvs.property({get:function(){var a=this.element.data("desiredTileWidth");return null!=a?a:this.tileWidth()},set:function(a){this.element.data("desiredTileWidth",a)}}),desiredTileHeight:jpvs.property({get:function(){var a=this.element.data("desiredTileHeight");return null!=a?a:this.tileHeight()},set:function(a){this.element.data("desiredTileHeight",a)}}),tileSpacingHorz:jpvs.property({get:function(){var a=this.element.data("tileSpacingHorz");return null!=a?a:this.tileWidth()/5},set:function(a){this.element.data("tileSpacingHorz",a)}}),tileSpacingVert:jpvs.property({get:function(){var a=this.element.data("tileSpacingVert");return null!=a?a:this.tileHeight()/5},set:function(a){this.element.data("tileSpacingVert",a)}}),originX:jpvs.property({get:function(){var a=this.element.data("originX");return null!=a?a:this.width()/2},set:function(a){this.element.data("originX",a)}}),originY:jpvs.property({get:function(){var a=this.element.data("originY");return null!=a?a:this.height()/2},set:function(a){this.element.data("originY",a)}}),desiredOriginX:jpvs.property({get:function(){var a=this.element.data("desiredOriginX");return null!=a?a:this.originX()},set:function(a){this.element.data("desiredOriginX",a)}}),desiredOriginY:jpvs.property({get:function(){var a=this.element.data("desiredOriginY");return null!=a?a:this.originY()},set:function(a){this.element.data("desiredOriginY",a)}})}})}(),function(){function a(a,b){a.element.empty();var d=[];$.each(b,function(b,e){var f=c(a,a.element,e,null);d.push(f)}),a.element.data("nodeElements",d)}function b(a,b,c){function d(a){c(a||[])}var e=a.childrenSelector()||function(a){return a.children||[]},f=e(b,d);void 0===f||c(null===f?[]:f)}function c(a,b,c,d){var e=a.nodeTemplate()||jpvs.Tree.Templates.StandardNode,f=jpvs.applyTemplate(b,e,c);f.element.data("nodeElement",f);var g=a.childrenContainerTemplate()||jpvs.Tree.Templates.StandardChildrenContainer,h=jpvs.applyTemplate(b,g,c);return f.parentNodeElement=d,f.childrenContainerElement=h,f.childrenNodeElements=[{}],h.nodeElement=f,f.refreshState(),a.nodeRendered.fire(a,null,f),f}function d(a,b){b.refreshState(),b.refreshNode()}function e(a,c,d){b(a,c.node,function(b){var e=c.childrenContainerElement;e.element.empty(),f(a,e,b,c),d&&d()})}function f(a,b,d,e){var f=[];$.each(d,function(d,g){var h=c(a,b.element,g,e);f.push(h)}),e.childrenNodeElements=f}jpvs.Tree=function(a){this.attach(a),this.nodeClick=jpvs.event(this),this.nodeRightClick=jpvs.event(this),this.nodeRendered=jpvs.event(this)},jpvs.Tree.Templates={StandardNode:function(a){function b(){var a=jpvs.find(this.element.find(".ImageButton"));this.childrenNodeElements&&0!=this.childrenNodeElements.length?this.isExpanded()?a&&a.imageUrls({normal:jpvs.Resources.images.nodeOpen}):a&&a.imageUrls({normal:jpvs.Resources.images.nodeClosed}):(a&&a.imageUrls({normal:jpvs.Resources.images.nodeNoChildren}),this.childrenContainerElement.element.hide())}function c(){var a=this.getTree();a.element.find(".Node > .Text").removeClass("Selected"),this.element.find(".Text").addClass("Selected")}function d(){var a=this.node,b=this.element.find("img.Icon"),c=this.element.find("span.Text");b.attr("src",a.icon),c.text(a.toString())}var e=jpvs.writeTag(this,"div");e.addClass("Node");var f=new jpvs.Tree.NodeElement(a,e,b,c,d);if(jpvs.ImageButton.create(e).click(function(){f.toggle()}),a.marker){var g=jpvs.writeTag(e,"img");g.addClass("Marker"),g.attr("src",a.marker)}if(a.icon){var h=jpvs.writeTag(e,"img");h.addClass("Icon"),h.attr("src",a.icon)}var i=jpvs.writeTag(e,"span").addClass("Text");jpvs.write(i,a.toString());var j,k=f.getTree();return i.dblclick(function(){f.toggle()}).mousedown(function(a){j=(new Date).getTime()}).mouseup(function(a){var b=(new Date).getTime();if(!(b>j+500))return 2==a.button?(f.select(),k.nodeRightClick.fire(k,null,f,a),!1):(f.select(),void k.nodeClick.fire(k,null,f,a))}),f},StandardChildrenContainer:function(a){var b=jpvs.writeTag(this,"div");b.addClass("ChildrenContainer"),b.hide();var c=new jpvs.Tree.ChildrenContainerElement(a,b);return c}},jpvs.Tree.NodeElement=function(a,b,c,d,e){this.node=a,this.element=b,this.refreshState=c,this.refreshNode=e,this.select=d,this.parentNodeElement=null,this.childrenContainerElement=null,this.childrenNodeElements=null},jpvs.Tree.NodeElement.prototype.getTree=function(){return jpvs.find(this.element.parents(".Tree").first())},jpvs.Tree.NodeElement.prototype.isExpanded=function(){return this.childrenContainerElement.element.is(":visible")},jpvs.Tree.NodeElement.prototype.toggle=function(){this.isExpanded()?this.collapse():this.expand()},jpvs.Tree.NodeElement.prototype.collapse=function(){var a=this;this.childrenContainerElement.element.hide(100,function(){a.refreshState()})},jpvs.Tree.NodeElement.prototype.expand=function(a){var b=this,c=this.getTree();c&&c.refreshChildren(b,function(){b.childrenNodeElements&&0!=b.childrenNodeElements.length?b.childrenContainerElement.element.show(100,function(){b.refreshState(),a&&a()}):(b.refreshState(),a&&a())})},jpvs.Tree.NodeElement.prototype.setMarkerIcon=function(a){var b=this.element.find("img.Marker");b.attr("src",a)},jpvs.Tree.ChildrenContainerElement=function(a,b){this.node=a,this.element=b,this.nodeElement=null},jpvs.makeWidget({widget:jpvs.Tree,type:"Tree",cssClass:"Tree",create:function(a){var b=document.createElement("div");return $(a).append(b),b},init:function(a){a.element.on("contextmenu",function(){return!1})},canAttachTo:function(a){return!1},prototype:{nodeTemplate:jpvs.property({get:function(){return this.element.data("nodeTemplate")},set:function(a){this.element.data("nodeTemplate",a)}}),childrenContainerTemplate:jpvs.property({get:function(){return this.element.data("childrenContainerTemplate")},set:function(a){this.element.data("childrenContainerTemplate",a)}}),childrenSelector:jpvs.property({get:function(){return this.element.data("childrenSelector")},set:function(a){this.element.data("childrenSelector",a)}}),dataBind:function(b){return a(this,b),this},refreshNode:function(a){return d(this,a),this},refreshChildren:function(a,b){return e(this,a,b),this},nodeElements:function(){return this.element.data("nodeElements")}}})}(),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return md.apply(null,arguments)}function b(a){md=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function g(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function h(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function i(a,b){for(var c in b)h(b,c)&&(a[c]=b[c]);return h(b,"toString")&&(a.toString=b.toString),h(b,"valueOf")&&(a.valueOf=b.valueOf),a}function j(a,b,c,d){return qb(a,b,c,d,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(a){return null==a._pf&&(a._pf=k()),a._pf}function m(a){if(null==a._isValid){var b=l(a),c=nd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function n(a){var b=j(NaN);return null!=a?i(l(b),a):l(b).userInvalidated=!0,b}function o(a){return void 0===a}function p(a,b){var c,d,e;if(o(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),o(b._i)||(a._i=b._i),o(b._f)||(a._f=b._f),o(b._l)||(a._l=b._l),o(b._strict)||(a._strict=b._strict),o(b._tzm)||(a._tzm=b._tzm),o(b._isUTC)||(a._isUTC=b._isUTC),o(b._offset)||(a._offset=b._offset),o(b._pf)||(a._pf=l(b)),o(b._locale)||(a._locale=b._locale),od.length>0)for(c in od)d=od[c],e=b[d],o(e)||(a[d]=e);return a}function q(b){p(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),pd===!1&&(pd=!0,a.updateOffset(this),pd=!1)}function r(a){return a instanceof q||null!=a&&null!=a._isAMomentObject}function s(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function t(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=s(b)),c}function u(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&t(a[d])!==t(b[d]))&&g++;return g+f}function v(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function w(b,c){var d=!0;return i(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}v(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function x(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),qd[b]||(v(c),qd[b]=!0)}function y(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function z(a){var b,c;for(c in a)b=a[c],y(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function A(a,b){var c,e=i({},a);for(c in b)h(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},i(e[c],a[c]),i(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)h(a,c)&&!h(b,c)&&d(a[c])&&(e[c]=i({},e[c]));return e}function B(a){null!=a&&this.set(a)}function C(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return y(d)?d.call(b,c):d}function D(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function E(){return this._invalidDate}function F(a){return this._ordinal.replace("%d",a)}function G(a,b,c,d){var e=this._relativeTime[c];return y(e)?e(a,b,c,d):e.replace(/%d/i,a)}function H(a,b){var c=this._relativeTime[a>0?"future":"past"];return y(c)?c(b):c.replace(/%s/i,b)}function I(a,b){var c=a.toLowerCase();zd[c]=zd[c+"s"]=zd[b]=a}function J(a){return"string"==typeof a?zd[a]||zd[a.toLowerCase()]:void 0}function K(a){var b,c,d={};for(c in a)h(a,c)&&(b=J(c),b&&(d[b]=a[c]));return d}function L(a,b){Ad[a]=b}function M(a){var b=[];for(var c in a)b.push({unit:c,priority:Ad[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function N(b,c){return function(d){return null!=d?(P(this,b,d),a.updateOffset(this,c),this):O(this,b)}}function O(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function P(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function Q(a){return a=J(a),y(this[a])?this[a]():this}function R(a,b){if("object"==typeof a){a=K(a);for(var c=M(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=J(a),y(this[a]))return this[a](b);return this}function S(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function T(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Ed[a]=e),b&&(Ed[b[0]]=function(){return S(e.apply(this,arguments),b[1],b[2])}),c&&(Ed[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function U(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function V(a){var b,c,d=a.match(Bd);for(b=0,c=d.length;c>b;b++)Ed[d[b]]?d[b]=Ed[d[b]]:d[b]=U(d[b]);return function(b){var e,f="";for(e=0;c>e;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function W(a,b){return a.isValid()?(b=X(b,a.localeData()),Dd[b]=Dd[b]||V(b),Dd[b](a)):a.localeData().invalidDate()}function X(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Cd.lastIndex=0;d>=0&&Cd.test(a);)a=a.replace(Cd,c),Cd.lastIndex=0,d-=1;return a}function Y(a,b,c){Wd[a]=y(b)?b:function(a,d){return a&&c?c:b}}function Z(a,b){return h(Wd,a)?Wd[a](b._strict,b._locale):new RegExp($(a))}function $(a){return _(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function _(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function aa(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=t(a)}),c=0;c<a.length;c++)Xd[a[c]]=d}function ba(a,b){aa(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function ca(a,b,c){null!=b&&h(Xd,a)&&Xd[a](b,c._a,c,a)}function da(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ea(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||fe).test(b)?"format":"standalone"][a.month()]:this._months}function fa(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[fe.test(b)?"format":"standalone"][a.month()]:this._monthsShort}function ga(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d)f=j([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=sd.call(this._shortMonthsParse,g),-1!==e?e:null):(e=sd.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?(e=sd.call(this._shortMonthsParse,g),-1!==e?e:(e=sd.call(this._longMonthsParse,g),-1!==e?e:null)):(e=sd.call(this._longMonthsParse,g),-1!==e?e:(e=sd.call(this._shortMonthsParse,g),-1!==e?e:null))}function ha(a,b,c){var d,e,f;if(this._monthsParseExact)return ga.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=j([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ia(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=t(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),da(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ja(b){return null!=b?(ia(this,b),a.updateOffset(this,!0),this):O(this,"Month")}function ka(){return da(this.year(),this.month())}function la(a){return this._monthsParseExact?(h(this,"_monthsRegex")||na.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=ie),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function ma(a){return this._monthsParseExact?(h(this,"_monthsRegex")||na.call(this),a?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=je),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function na(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=j([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=_(d[b]),e[b]=_(e[b]);for(b=0;24>b;b++)f[b]=_(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function oa(a){return pa(a)?366:365}function pa(a){return a%4===0&&a%100!==0||a%400===0}function qa(){return pa(this.year())}function ra(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function sa(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ta(a,b,c){var d=7+b-c,e=(7+sa(a,0,d).getUTCDay()-b)%7;return-e+d-1}function ua(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ta(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=oa(f)+j):j>oa(a)?(f=a+1,g=j-oa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function va(a,b,c){var d,e,f=ta(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+wa(e,b,c)):g>wa(a.year(),b,c)?(d=g-wa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function wa(a,b,c){var d=ta(a,b,c),e=ta(a+1,b,c);return(oa(a)-d+e)/7}function xa(a){return va(a,this._week.dow,this._week.doy).week}function ya(){return this._week.dow}function za(){return this._week.doy}function Aa(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ba(a){var b=va(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Ca(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Da(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ea(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:this._weekdays}function Fa(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ga(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d)f=j([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=sd.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=sd.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=sd.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?(e=sd.call(this._weekdaysParse,g),-1!==e?e:(e=sd.call(this._shortWeekdaysParse,g),-1!==e?e:(e=sd.call(this._minWeekdaysParse,g),-1!==e?e:null))):"ddd"===b?(e=sd.call(this._shortWeekdaysParse,g),-1!==e?e:(e=sd.call(this._weekdaysParse,g),-1!==e?e:(e=sd.call(this._minWeekdaysParse,g),-1!==e?e:null))):(e=sd.call(this._minWeekdaysParse,g),-1!==e?e:(e=sd.call(this._weekdaysParse,g),-1!==e?e:(e=sd.call(this._shortWeekdaysParse,g),-1!==e?e:null)))}function Ia(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ha.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=j([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ja(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Ca(a,this.localeData()),this.add(a-b,"d")):b}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function La(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Da(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Ma(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=pe),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Na(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Oa(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=re),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Pa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],k=[];for(b=0;7>b;b++)c=j([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),k.push(d),k.push(e),k.push(f);for(g.sort(a),h.sort(a),i.sort(a),k.sort(a),b=0;7>b;b++)h[b]=_(h[b]),i[b]=_(i[b]),k[b]=_(k[b]);this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Qa(){return this.hours()%12||12}function Ra(){return this.hours()||24}function Sa(a,b){T(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ta(a,b){return b._meridiemParse}function Ua(a){return"p"===(a+"").toLowerCase().charAt(0)}function Va(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wa(a){return a?a.toLowerCase().replace("_","-"):a}function Xa(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Wa(a[f]).split("-"),b=e.length,c=Wa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Ya(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&u(e,c,!0)>=b-1)break;b--}f++}return null}function Ya(a){var b=null;if(!we[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=se._abbr,require("./locale/"+a),Za(b)}catch(c){}return we[a]}function Za(a,b){var c;return a&&(c=o(b)?ab(a):$a(a,b),c&&(se=c)),se._abbr}function $a(a,b){if(null!==b){var c=ve;return b.abbr=a,null!=we[a]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=we[a]._config):null!=b.parentLocale&&(null!=we[b.parentLocale]?c=we[b.parentLocale]._config:x("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),we[a]=new B(A(c,b)),Za(a),we[a]}return delete we[a],null}function _a(a,b){if(null!=b){var c,d=ve;null!=we[a]&&(d=we[a]._config),b=A(d,b),c=new B(b),c.parentLocale=we[a],we[a]=c,Za(a)}else null!=we[a]&&(null!=we[a].parentLocale?we[a]=we[a].parentLocale:null!=we[a]&&delete we[a]);return we[a]}function ab(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return se;if(!c(a)){if(b=Ya(a))return b;a=[a]}return Xa(a)}function bb(){return rd(we)}function cb(a){var b,c=a._a;return c&&-2===l(a).overflow&&(b=c[Zd]<0||c[Zd]>11?Zd:c[$d]<1||c[$d]>da(c[Yd],c[Zd])?$d:c[_d]<0||c[_d]>24||24===c[_d]&&(0!==c[ae]||0!==c[be]||0!==c[ce])?_d:c[ae]<0||c[ae]>59?ae:c[be]<0||c[be]>59?be:c[ce]<0||c[ce]>999?ce:-1,l(a)._overflowDayOfYear&&(Yd>b||b>$d)&&(b=$d),l(a)._overflowWeeks&&-1===b&&(b=de),l(a)._overflowWeekday&&-1===b&&(b=ee),l(a).overflow=b),a}function db(a){var b,c,d,e,f,g,h=a._i,i=xe.exec(h)||ye.exec(h);if(i){for(l(a).iso=!0,b=0,c=Ae.length;c>b;b++)if(Ae[b][1].exec(i[1])){e=Ae[b][0],d=Ae[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Be.length;c>b;b++)if(Be[b][1].exec(i[3])){f=(i[2]||" ")+Be[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!ze.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),jb(a)}else a._isValid=!1}function eb(b){var c=Ce.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(db(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function fb(a,b,c){return null!=a?a:null!=b?b:c}function gb(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function hb(a){var b,c,d,e,f=[];if(!a._d){for(d=gb(a),a._w&&null==a._a[$d]&&null==a._a[Zd]&&ib(a),a._dayOfYear&&(e=fb(a._a[Yd],d[Yd]),a._dayOfYear>oa(e)&&(l(a)._overflowDayOfYear=!0),c=sa(e,0,a._dayOfYear),a._a[Zd]=c.getUTCMonth(),a._a[$d]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[_d]&&0===a._a[ae]&&0===a._a[be]&&0===a._a[ce]&&(a._nextDay=!0,a._a[_d]=0),a._d=(a._useUTC?sa:ra).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[_d]=24)}}function ib(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=fb(b.GG,a._a[Yd],va(rb(),1,4).year),d=fb(b.W,1),e=fb(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=fb(b.gg,a._a[Yd],va(rb(),f,g).year),d=fb(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>wa(c,f,g)?l(a)._overflowWeeks=!0:null!=i?l(a)._overflowWeekday=!0:(h=ua(c,d,e,f,g),a._a[Yd]=h.year,a._dayOfYear=h.dayOfYear)}function jb(b){if(b._f===a.ISO_8601)return void db(b);b._a=[],l(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=X(b._f,b._locale).match(Bd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(Z(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&l(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Ed[f]?(d?l(b).empty=!1:l(b).unusedTokens.push(f),ca(f,d,b)):b._strict&&!d&&l(b).unusedTokens.push(f);l(b).charsLeftOver=i-j,h.length>0&&l(b).unusedInput.push(h),b._a[_d]<=12&&l(b).bigHour===!0&&b._a[_d]>0&&(l(b).bigHour=void 0),l(b).parsedDateParts=b._a.slice(0),l(b).meridiem=b._meridiem,b._a[_d]=kb(b._locale,b._a[_d],b._meridiem),hb(b),cb(b)}function kb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function lb(a){var b,c,d,e,f;if(0===a._f.length)return l(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],jb(b),m(b)&&(f+=l(b).charsLeftOver,f+=10*l(b).unusedTokens.length,l(b).score=f,(null==d||d>f)&&(d=f,c=b));i(a,c||b)}function mb(a){if(!a._d){var b=K(a._i);a._a=g([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),hb(a)}}function nb(a){var b=new q(cb(ob(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function ob(a){var b=a._i,d=a._f;return a._locale=a._locale||ab(a._l),null===b||void 0===d&&""===b?n({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),r(b)?new q(cb(b)):(c(d)?lb(a):f(b)?a._d=b:d?jb(a):pb(a),m(a)||(a._d=null),a))}function pb(b){var d=b._i;void 0===d?b._d=new Date(a.now()):f(d)?b._d=new Date(d.valueOf()):"string"==typeof d?eb(b):c(d)?(b._a=g(d.slice(0),function(a){return parseInt(a,10)}),hb(b)):"object"==typeof d?mb(b):"number"==typeof d?b._d=new Date(d):a.createFromInputFallback(b)}function qb(a,b,f,g,h){var i={};return"boolean"==typeof f&&(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,nb(i)}function rb(a,b,c,d){return qb(a,b,c,d,!1)}function sb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return rb();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function tb(){var a=[].slice.call(arguments,0);return sb("isBefore",a)}function ub(){var a=[].slice.call(arguments,0);return sb("isAfter",a)}function vb(a){var b=K(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ab(),this._bubble()}function wb(a){return a instanceof vb}function xb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function yb(a,b){T(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+S(~~(a/60),2)+b+S(~~a%60,2)})}function zb(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Ge)||["-",0,0],f=+(60*e[1])+t(e[2]);return"+"===e[0]?f:-f}function Ab(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(r(b)||f(b)?b.valueOf():rb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):rb(b).local()}function Bb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Cb(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=zb(Td,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Bb(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?Sb(this,Nb(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Bb(this):null!=b?this:NaN}function Db(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Eb(a){return this.utcOffset(0,a)}function Fb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Bb(this),"m")),this}function Gb(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var a=zb(Sd,this._i);0===a?this.utcOffset(0,!0):this.utcOffset(zb(Sd,this._i))}return this}function Hb(a){return this.isValid()?(a=a?rb(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ib(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jb(){if(!o(this._isDSTShifted))return this._isDSTShifted;var a={};
if(p(a,this),a=ob(a),a._a){var b=a._isUTC?j(a._a):rb(a._a);this._isDSTShifted=this.isValid()&&u(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kb(){return this.isValid()?!this._isUTC:!1}function Lb(){return this.isValid()?this._isUTC:!1}function Mb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Nb(a,b){var c,d,e,f=a,g=null;return wb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=He.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:t(g[$d])*c,h:t(g[_d])*c,m:t(g[ae])*c,s:t(g[be])*c,ms:t(xb(1e3*g[ce]))*c}):(g=Ie.exec(a))?(c="-"===g[1]?-1:1,f={y:Ob(g[2],c),M:Ob(g[3],c),w:Ob(g[4],c),d:Ob(g[5],c),h:Ob(g[6],c),m:Ob(g[7],c),s:Ob(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Qb(rb(f.from),rb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new vb(f),wb(a)&&h(a,"_locale")&&(d._locale=a._locale),d}function Ob(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Pb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Qb(a,b){var c;return a.isValid()&&b.isValid()?(b=Ab(b,a),a.isBefore(b)?c=Pb(a,b):(c=Pb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Rb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(x(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Nb(c,d),Sb(this,e,a),this}}function Sb(b,c,d,e){var f=c._milliseconds,g=xb(c._days),h=xb(c._months);b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&P(b,"Date",O(b,"Date")+g*d),h&&ia(b,O(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Tb(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"}function Ub(b,c){var d=b||rb(),e=Ab(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(y(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,rb(d)))}function Vb(){return new q(this)}function Wb(a,b){var c=r(a)?a:rb(a);return this.isValid()&&c.isValid()?(b=J(o(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf()):!1}function Xb(a,b){var c=r(a)?a:rb(a);return this.isValid()&&c.isValid()?(b=J(o(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf()):!1}function Yb(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function Zb(a,b){var c,d=r(a)?a:rb(a);return this.isValid()&&d.isValid()?(b=J(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf())):!1}function $b(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function _b(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function ac(a,b,c){var d,e,f,g;return this.isValid()?(d=Ab(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=J(b),"year"===b||"month"===b||"quarter"===b?(g=bc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:s(g)):NaN):NaN}function bc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function cc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dc(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?y(Date.prototype.toISOString)?this.toDate().toISOString():W(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ec(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=W(this,b);return this.localeData().postformat(c)}function fc(a,b){return this.isValid()&&(r(a)&&a.isValid()||rb(a).isValid())?Nb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function gc(a){return this.from(rb(),a)}function hc(a,b){return this.isValid()&&(r(a)&&a.isValid()||rb(a).isValid())?Nb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ic(a){return this.to(rb(),a)}function jc(a){var b;return void 0===a?this._locale._abbr:(b=ab(a),null!=b&&(this._locale=b),this)}function kc(){return this._locale}function lc(a){switch(a=J(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function mc(a){return a=J(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function nc(){return this._d.valueOf()-6e4*(this._offset||0)}function oc(){return Math.floor(this.valueOf()/1e3)}function pc(){return new Date(this.valueOf())}function qc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function rc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function sc(){return this.isValid()?this.toISOString():null}function tc(){return m(this)}function uc(){return i({},l(this))}function vc(){return l(this).overflow}function wc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xc(a,b){T(0,[a,a.length],0,b)}function yc(a){return Cc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zc(a){return Cc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Ac(){return wa(this.year(),1,4)}function Bc(){var a=this.localeData()._week;return wa(this.year(),a.dow,a.doy)}function Cc(a,b,c,d,e){var f;return null==a?va(this,d,e).year:(f=wa(a,d,e),b>f&&(b=f),Dc.call(this,a,b,c,d,e))}function Dc(a,b,c,d,e){var f=ua(a,b,c,d,e),g=sa(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Ec(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Fc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Gc(a,b){b[ce]=t(1e3*("0."+a))}function Hc(){return this._isUTC?"UTC":""}function Ic(){return this._isUTC?"Coordinated Universal Time":""}function Jc(a){return rb(1e3*a)}function Kc(){return rb.apply(null,arguments).parseZone()}function Lc(a){return a}function Mc(a,b,c,d){var e=ab(),f=j().set(d,b);return e[c](f,a)}function Nc(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Mc(a,b,c,"month");var d,e=[];for(d=0;12>d;d++)e[d]=Mc(a,d,c,"month");return e}function Oc(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=ab(),f=a?e._week.dow:0;if(null!=c)return Mc(b,(c+f)%7,d,"day");var g,h=[];for(g=0;7>g;g++)h[g]=Mc(b,(g+f)%7,d,"day");return h}function Pc(a,b){return Nc(a,b,"months")}function Qc(a,b){return Nc(a,b,"monthsShort")}function Rc(a,b,c){return Oc(a,b,c,"weekdays")}function Sc(a,b,c){return Oc(a,b,c,"weekdaysShort")}function Tc(a,b,c){return Oc(a,b,c,"weekdaysMin")}function Uc(){var a=this._data;return this._milliseconds=Ue(this._milliseconds),this._days=Ue(this._days),this._months=Ue(this._months),a.milliseconds=Ue(a.milliseconds),a.seconds=Ue(a.seconds),a.minutes=Ue(a.minutes),a.hours=Ue(a.hours),a.months=Ue(a.months),a.years=Ue(a.years),this}function Vc(a,b,c,d){var e=Nb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Wc(a,b){return Vc(this,a,b,1)}function Xc(a,b){return Vc(this,a,b,-1)}function Yc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Zc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Yc(_c(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=s(f/1e3),i.seconds=a%60,b=s(a/60),i.minutes=b%60,c=s(b/60),i.hours=c%24,g+=s(c/24),e=s($c(g)),h+=e,g-=Yc(_c(e)),d=s(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function $c(a){return 4800*a/146097}function _c(a){return 146097*a/4800}function ad(a){var b,c,d=this._milliseconds;if(a=J(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+$c(b),"month"===a?c:c/12;switch(b=this._days+Math.round(_c(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function bd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12)}function cd(a){return function(){return this.as(a)}}function dd(a){return a=J(a),this[a+"s"]()}function ed(a){return function(){return this._data[a]}}function fd(){return s(this.days()/7)}function gd(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function hd(a,b,c){var d=Nb(a).abs(),e=jf(d.as("s")),f=jf(d.as("m")),g=jf(d.as("h")),h=jf(d.as("d")),i=jf(d.as("M")),j=jf(d.as("y")),k=e<kf.s&&["s",e]||1>=f&&["m"]||f<kf.m&&["mm",f]||1>=g&&["h"]||g<kf.h&&["hh",g]||1>=h&&["d"]||h<kf.d&&["dd",h]||1>=i&&["M"]||i<kf.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,gd.apply(null,k)}function id(a){return void 0===a?jf:"function"==typeof a?(jf=a,!0):!1}function jd(a,b){return void 0===kf[a]?!1:void 0===b?kf[a]:(kf[a]=b,!0)}function kd(a){var b=this.localeData(),c=hd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function ld(){var a,b,c,d=lf(this._milliseconds)/1e3,e=lf(this._days),f=lf(this._months);a=s(d/60),b=s(a/60),d%=60,a%=60,c=s(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var md,nd;nd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;c>d;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var od=a.momentProperties=[],pd=!1,qd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var rd;rd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)h(a,b)&&c.push(b);return c};var sd,td={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ud={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},vd="Invalid date",wd="%d",xd=/\d{1,2}/,yd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zd={},Ad={},Bd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Cd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Dd={},Ed={},Fd=/\d/,Gd=/\d\d/,Hd=/\d{3}/,Id=/\d{4}/,Jd=/[+-]?\d{6}/,Kd=/\d\d?/,Ld=/\d\d\d\d?/,Md=/\d\d\d\d\d\d?/,Nd=/\d{1,3}/,Od=/\d{1,4}/,Pd=/[+-]?\d{1,6}/,Qd=/\d+/,Rd=/[+-]?\d+/,Sd=/Z|[+-]\d\d:?\d\d/gi,Td=/Z|[+-]\d\d(?::?\d\d)?/gi,Ud=/[+-]?\d+(\.\d{1,3})?/,Vd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Wd={},Xd={},Yd=0,Zd=1,$d=2,_d=3,ae=4,be=5,ce=6,de=7,ee=8;sd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},T("M",["MM",2],"Mo",function(){return this.month()+1}),T("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),T("MMMM",0,0,function(a){return this.localeData().months(this,a)}),I("month","M"),L("month",8),Y("M",Kd),Y("MM",Kd,Gd),Y("MMM",function(a,b){return b.monthsShortRegex(a)}),Y("MMMM",function(a,b){return b.monthsRegex(a)}),aa(["M","MM"],function(a,b){b[Zd]=t(a)-1}),aa(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[Zd]=e:l(c).invalidMonth=a});var fe=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ge="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),he="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ie=Vd,je=Vd;T("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),T(0,["YY",2],0,function(){return this.year()%100}),T(0,["YYYY",4],0,"year"),T(0,["YYYYY",5],0,"year"),T(0,["YYYYYY",6,!0],0,"year"),I("year","y"),L("year",1),Y("Y",Rd),Y("YY",Kd,Gd),Y("YYYY",Od,Id),Y("YYYYY",Pd,Jd),Y("YYYYYY",Pd,Jd),aa(["YYYYY","YYYYYY"],Yd),aa("YYYY",function(b,c){c[Yd]=2===b.length?a.parseTwoDigitYear(b):t(b)}),aa("YY",function(b,c){c[Yd]=a.parseTwoDigitYear(b)}),aa("Y",function(a,b){b[Yd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return t(a)+(t(a)>68?1900:2e3)};var ke=N("FullYear",!0);T("w",["ww",2],"wo","week"),T("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),L("week",5),L("isoWeek",5),Y("w",Kd),Y("ww",Kd,Gd),Y("W",Kd),Y("WW",Kd,Gd),ba(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=t(a)});var le={dow:0,doy:6};T("d",0,"do","day"),T("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),T("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),T("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),T("e",0,0,"weekday"),T("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),Y("d",Kd),Y("e",Kd),Y("E",Kd),Y("dd",function(a,b){return b.weekdaysMinRegex(a)}),Y("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Y("dddd",function(a,b){return b.weekdaysRegex(a)}),ba(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:l(c).invalidWeekday=a}),ba(["d","e","E"],function(a,b,c,d){b[d]=t(a)});var me="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ne="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pe=Vd,qe=Vd,re=Vd;T("H",["HH",2],0,"hour"),T("h",["hh",2],0,Qa),T("k",["kk",2],0,Ra),T("hmm",0,0,function(){return""+Qa.apply(this)+S(this.minutes(),2)}),T("hmmss",0,0,function(){return""+Qa.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),T("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),T("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)}),Sa("a",!0),Sa("A",!1),I("hour","h"),L("hour",13),Y("a",Ta),Y("A",Ta),Y("H",Kd),Y("h",Kd),Y("HH",Kd,Gd),Y("hh",Kd,Gd),Y("hmm",Ld),Y("hmmss",Md),Y("Hmm",Ld),Y("Hmmss",Md),aa(["H","HH"],_d),aa(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),aa(["h","hh"],function(a,b,c){b[_d]=t(a),l(c).bigHour=!0}),aa("hmm",function(a,b,c){var d=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d)),l(c).bigHour=!0}),aa("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d,2)),b[be]=t(a.substr(e)),l(c).bigHour=!0}),aa("Hmm",function(a,b,c){var d=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d))}),aa("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d,2)),b[be]=t(a.substr(e))});var se,te=/[ap]\.?m?\.?/i,ue=N("Hours",!0),ve={calendar:td,longDateFormat:ud,invalidDate:vd,ordinal:wd,ordinalParse:xd,relativeTime:yd,months:ge,monthsShort:he,week:le,weekdays:me,weekdaysMin:oe,weekdaysShort:ne,meridiemParse:te},we={},xe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ze=/Z|[+-]\d\d(?::?\d\d)?/,Ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ce=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){};var De=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=rb.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:n()}),Ee=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=rb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:n()}),Fe=function(){return Date.now?Date.now():+new Date};yb("Z",":"),yb("ZZ",""),Y("Z",Td),Y("ZZ",Td),aa(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=zb(Td,a)});var Ge=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var He=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ie=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Nb.fn=vb.prototype;var Je=Rb(1,"add"),Ke=Rb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Le=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});T(0,["gg",2],0,function(){return this.weekYear()%100}),T(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xc("gggg","weekYear"),xc("ggggg","weekYear"),xc("GGGG","isoWeekYear"),xc("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),Y("G",Rd),Y("g",Rd),Y("GG",Kd,Gd),Y("gg",Kd,Gd),Y("GGGG",Od,Id),Y("gggg",Od,Id),Y("GGGGG",Pd,Jd),Y("ggggg",Pd,Jd),ba(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=t(a)}),ba(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),T("Q",0,"Qo","quarter"),I("quarter","Q"),L("quarter",7),Y("Q",Fd),aa("Q",function(a,b){b[Zd]=3*(t(a)-1)}),T("D",["DD",2],"Do","date"),I("date","D"),L("date",9),Y("D",Kd),Y("DD",Kd,Gd),Y("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),aa(["D","DD"],$d),aa("Do",function(a,b){b[$d]=t(a.match(Kd)[0],10)});var Me=N("Date",!0);T("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),L("dayOfYear",4),Y("DDD",Nd),Y("DDDD",Hd),aa(["DDD","DDDD"],function(a,b,c){c._dayOfYear=t(a)}),T("m",["mm",2],0,"minute"),I("minute","m"),L("minute",14),Y("m",Kd),Y("mm",Kd,Gd),aa(["m","mm"],ae);var Ne=N("Minutes",!1);T("s",["ss",2],0,"second"),I("second","s"),L("second",15),Y("s",Kd),Y("ss",Kd,Gd),aa(["s","ss"],be);var Oe=N("Seconds",!1);T("S",0,0,function(){return~~(this.millisecond()/100)}),T(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),T(0,["SSS",3],0,"millisecond"),T(0,["SSSS",4],0,function(){return 10*this.millisecond()}),T(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),T(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),T(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),T(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),T(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),L("millisecond",16),Y("S",Nd,Fd),Y("SS",Nd,Gd),Y("SSS",Nd,Hd);var Pe;for(Pe="SSSS";Pe.length<=9;Pe+="S")Y(Pe,Qd);for(Pe="S";Pe.length<=9;Pe+="S")aa(Pe,Gc);var Qe=N("Milliseconds",!1);T("z",0,0,"zoneAbbr"),T("zz",0,0,"zoneName");var Re=q.prototype;Re.add=Je,Re.calendar=Ub,Re.clone=Vb,Re.diff=ac,Re.endOf=mc,Re.format=ec,Re.from=fc,Re.fromNow=gc,Re.to=hc,Re.toNow=ic,Re.get=Q,Re.invalidAt=vc,Re.isAfter=Wb,Re.isBefore=Xb,Re.isBetween=Yb,Re.isSame=Zb,Re.isSameOrAfter=$b,Re.isSameOrBefore=_b,Re.isValid=tc,Re.lang=Le,Re.locale=jc,Re.localeData=kc,Re.max=Ee,Re.min=De,Re.parsingFlags=uc,Re.set=R,Re.startOf=lc,Re.subtract=Ke,Re.toArray=qc,Re.toObject=rc,Re.toDate=pc,Re.toISOString=dc,Re.toJSON=sc,Re.toString=cc,Re.unix=oc,Re.valueOf=nc,Re.creationData=wc,Re.year=ke,Re.isLeapYear=qa,Re.weekYear=yc,Re.isoWeekYear=zc,Re.quarter=Re.quarters=Ec,Re.month=ja,Re.daysInMonth=ka,Re.week=Re.weeks=Aa,Re.isoWeek=Re.isoWeeks=Ba,Re.weeksInYear=Bc,Re.isoWeeksInYear=Ac,Re.date=Me,Re.day=Re.days=Ja,Re.weekday=Ka,Re.isoWeekday=La,Re.dayOfYear=Fc,Re.hour=Re.hours=ue,Re.minute=Re.minutes=Ne,Re.second=Re.seconds=Oe,Re.millisecond=Re.milliseconds=Qe,Re.utcOffset=Cb,Re.utc=Eb,Re.local=Fb,Re.parseZone=Gb,Re.hasAlignedHourOffset=Hb,Re.isDST=Ib,Re.isLocal=Kb,Re.isUtcOffset=Lb,Re.isUtc=Mb,Re.isUTC=Mb,Re.zoneAbbr=Hc,Re.zoneName=Ic,Re.dates=w("dates accessor is deprecated. Use date instead.",Me),Re.months=w("months accessor is deprecated. Use month instead",ja),Re.years=w("years accessor is deprecated. Use year instead",ke),Re.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Db),Re.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jb);var Se=Re,Te=B.prototype;Te.calendar=C,Te.longDateFormat=D,Te.invalidDate=E,Te.ordinal=F,Te.preparse=Lc,Te.postformat=Lc,Te.relativeTime=G,Te.pastFuture=H,Te.set=z,Te.months=ea,Te.monthsShort=fa,Te.monthsParse=ha,Te.monthsRegex=ma,Te.monthsShortRegex=la,Te.week=xa,Te.firstDayOfYear=za,Te.firstDayOfWeek=ya,Te.weekdays=Ea,Te.weekdaysMin=Ga,Te.weekdaysShort=Fa,Te.weekdaysParse=Ia,Te.weekdaysRegex=Ma,Te.weekdaysShortRegex=Na,Te.weekdaysMinRegex=Oa,Te.isPM=Ua,Te.meridiem=Va,Za("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===t(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=w("moment.lang is deprecated. Use moment.locale instead.",Za),a.langData=w("moment.langData is deprecated. Use moment.localeData instead.",ab);var Ue=Math.abs,Ve=cd("ms"),We=cd("s"),Xe=cd("m"),Ye=cd("h"),Ze=cd("d"),$e=cd("w"),_e=cd("M"),af=cd("y"),bf=ed("milliseconds"),cf=ed("seconds"),df=ed("minutes"),ef=ed("hours"),ff=ed("days"),gf=ed("months"),hf=ed("years"),jf=Math.round,kf={s:45,m:45,h:22,d:26,M:11},lf=Math.abs,mf=vb.prototype;mf.abs=Uc,mf.add=Wc,mf.subtract=Xc,mf.as=ad,mf.asMilliseconds=Ve,mf.asSeconds=We,mf.asMinutes=Xe,mf.asHours=Ye,mf.asDays=Ze,mf.asWeeks=$e,mf.asMonths=_e,mf.asYears=af,mf.valueOf=bd,mf._bubble=Zc,mf.get=dd,mf.milliseconds=bf,mf.seconds=cf,mf.minutes=df,mf.hours=ef,mf.days=ff,mf.weeks=fd,mf.months=gf,mf.years=hf,mf.humanize=kd,mf.toISOString=ld,mf.toString=ld,mf.toJSON=ld,mf.locale=jc,mf.localeData=kc,mf.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ld),mf.lang=Le,T("X",0,0,"unix"),T("x",0,0,"valueOf"),Y("x",Rd),Y("X",Ud),aa("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),aa("x",function(a,b,c){c._d=new Date(t(a))}),a.version="2.15.1",b(rb),a.fn=Se,a.min=tb,a.max=ub,a.now=Fe,a.utc=j,a.unix=Jc,a.months=Pc,a.isDate=f,a.locale=Za,a.invalid=n,a.duration=Nb,a.isMoment=r,a.weekdays=Rc,a.parseZone=Kc,a.localeData=ab,a.isDuration=wb,a.monthsShort=Qc,a.weekdaysMin=Tc,a.defineLocale=$a,a.updateLocale=_a,a.locales=bb,a.weekdaysShort=Sc,a.normalizeUnits=J,a.relativeTimeRounding=id,a.relativeTimeThreshold=jd,a.calendarFormat=Tb,a.prototype=Se;var nf=a;return nf}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?b(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],b):b(a.moment)}(this,function(a){"use strict";var b=a.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return b});